<!doctype html>
<html>
  <head>
    <title>Yuki Rin|è·¨è¶Šè™šæ— ,è¶…è¶Šæ°¸æ’.Over the Void,Beyond the Eternity.</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="æ¬¢è¿æ¥åˆ°Yuki Rinçš„ä¸»é¡µ.Welcome to Yuki Rin's Page."
    />
    <link href="../../styles/pink-love.css" type="text/css" rel="stylesheet" />
    <link
      href="../../styles/code-normal.css"
      type="text/css"
      rel="stylesheet"
    />
    <link rel="icon" href="../../icon/rin.ico" type="image/x-icon" />
    <script type="text/javascript">
      (function (c, l, a, r, i, t, y) {
        c[a] =
          c[a] ||
          function () {
            (c[a].q = c[a].q || []).push(arguments);
          };
        t = l.createElement(r);
        t.async = 1;
        t.src = "https://www.clarity.ms/tag/" + i;
        y = l.getElementsByTagName(r)[0];
        y.parentNode.insertBefore(t, y);
      })(window, document, "clarity", "script", "u3qzkqoioj");
    </script>
  </head>
  <body>
    <section class="headbox">
      <h1 id="åœ¨vscodeä¸­æ„å»ºverilogç¯å¢ƒä»¥åŠè‡ªåŠ¨åŒ–ç”Ÿæˆè¿è¡Œé¡¹ç›®æ–‡ä»¶çš„æ–¹æ³•">
        åœ¨VScodeä¸­æ„å»ºVerilogç¯å¢ƒä»¥åŠè‡ªåŠ¨åŒ–ç”Ÿæˆï¼Œè¿è¡Œé¡¹ç›®æ–‡ä»¶çš„æ–¹æ³•
      </h1>
    </section>
    <section class="box">
      <h2 id="åŸºç¡€å·¥ä½œ">åŸºç¡€å·¥ä½œ</h2>
      <h3 id="å®‰è£…æ‰©å±•">å®‰è£…æ‰©å±•</h3>
      <ol>
        <li>
          <p>
            <strong>Verilog-HDL/SystemVerilog/Bluespec SystemVerilog</strong>
          </p>
          <ul>
            <li>ä½œè€…ï¼š<code>mshr-h</code></li>
            <li>æä¾›è¯­æ³•é«˜äº®ã€ä»£ç è¡¥å…¨ã€Linting</li>
          </ul>
        </li>
        <li>
          <p><strong>TerosHDL</strong>ï¼ˆå¼ºçƒˆæ¨èï¼‰</p>
          <ul>
            <li>ä½œè€…ï¼š<code>TerosHDL</code></li>
            <li>åŠŸèƒ½ï¼šæ¨¡å—å±‚æ¬¡å›¾ã€æ–‡æ¡£ç”Ÿæˆã€çŠ¶æ€æœºå¯è§†åŒ–ã€æ¨¡æ¿ç”Ÿæˆ</li>
          </ul>
        </li>
        <li>
          <p><strong>WaveTrace</strong></p>
          <ul>
            <li>åœ¨ VS Code å†…æŸ¥çœ‹æ³¢å½¢ï¼ˆ<code>.vcd</code> æ–‡ä»¶ï¼‰</li>
          </ul>
        </li>
      </ol>
      <h3 id="é¡¹ç›®ç»“æ„ç¤ºä¾‹">é¡¹ç›®ç»“æ„ç¤ºä¾‹</h3>
      <p>åœ¨ VS Code ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹ä½œä¸ºé¡¹ç›®æ ¹ç›®å½•ï¼Œå»ºè®®ç»“æ„ï¼š</p>
      <pre class="code"><code>
verilog_learning/
â”œâ”€â”€ rtl/              # å­˜æ”¾è®¾è®¡ä»£ç ï¼ˆ.vï¼‰
â”‚   â””â”€â”€ test.v
â”œâ”€â”€ tb/               # å­˜æ”¾æµ‹è¯•å¹³å°
â”‚   â””â”€â”€ tb_test.v
â”œâ”€â”€ sim/              # å­˜æ”¾ä»¿çœŸç”Ÿæˆçš„æ–‡ä»¶
â””â”€â”€ .vscode/          # VS Code é…ç½®
    â””â”€â”€ tasks.json    # è‡ªåŠ¨åŒ–ä»»åŠ¡é…ç½®
</code></pre>
      <h3 id="é…ç½®è‡ªåŠ¨åŒ–ä»»åŠ¡">é…ç½®è‡ªåŠ¨åŒ–ä»»åŠ¡</h3>
      <p>
        åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º
        <code>.vscode/tasks.json</code
        >ï¼Œè¿™æ ·å°±èƒ½<strong>ä¸€é”®ç¼–è¯‘+ä»¿çœŸ</strong>ã€‚
      </p>
      <pre class="code"><code class='language-json' lang='json'>{
    &quot;version&quot;: &quot;2.0.0&quot;,
    &quot;tasks&quot;: [
        {
            &quot;label&quot;: &quot;iverilog: compile&quot;,
            &quot;type&quot;: &quot;shell&quot;,
            &quot;command&quot;: &quot;iverilog&quot;,
            &quot;args&quot;: [
                &quot;-g2012&quot;,
                &quot;-o&quot;,
                &quot;sim/${fileBasenameNoExtension}.vvp&quot;,
                &quot;-I&quot;,
                &quot;rtl&quot;,
                &quot;rtl/*.v&quot;,
                &quot;${file}&quot;
            ],
            &quot;group&quot;: {
                &quot;kind&quot;: &quot;build&quot;,
                &quot;isDefault&quot;: true
            },
            &quot;problemMatcher&quot;: [],
            &quot;presentation&quot;: {
                &quot;reveal&quot;: &quot;always&quot;,
                &quot;panel&quot;: &quot;new&quot;
            }
        },
        {
            &quot;label&quot;: &quot;vvp: simulate&quot;,
            &quot;type&quot;: &quot;shell&quot;,
            &quot;command&quot;: &quot;vvp&quot;,
            &quot;args&quot;: [
                &quot;sim/${fileBasenameNoExtension}.vvp&quot;
            ],
            &quot;dependsOn&quot;: &quot;iverilog: compile&quot;,
            &quot;problemMatcher&quot;: [],
            &quot;presentation&quot;: {
                &quot;reveal&quot;: &quot;always&quot;,
                &quot;panel&quot;: &quot;shared&quot;
            }
        },
        {
            &quot;label&quot;: &quot;gtkwave: view waveform&quot;,
            &quot;type&quot;: &quot;shell&quot;,
            &quot;command&quot;: &quot;gtkwave&quot;,
            &quot;args&quot;: [
                &quot;sim/${fileBasenameNoExtension}.vcd&quot;
            ],
            &quot;problemMatcher&quot;: []
        },
        {
            &quot;label&quot;: &quot;Run Simulation (compile + simulate + wave)&quot;,
            &quot;dependsOn&quot;: [
                &quot;vvp: simulate&quot;
            ],
            &quot;problemMatcher&quot;: []
        }
    ]
}
</code></pre>
      <h3 id="è¿è¡Œä»¿çœŸ">è¿è¡Œä»¿çœŸ</h3>
      <h4 id="æ–¹æ³•-1ä½¿ç”¨å¿«æ·é”®æ¨è">æ–¹æ³• 1ï¼šä½¿ç”¨å¿«æ·é”®ï¼ˆæ¨èï¼‰</h4>
      <ol>
        <li>
          <p>åœ¨ VS Code ä¸­æ‰“å¼€ <code>tb/tb_test.v</code></p>
        </li>
        <li>
          <p>æŒ‰ <code>Ctrl+Shift+B</code>ï¼ˆæˆ– <code>Cmd+Shift+B</code>ï¼‰</p>
        </li>
        <li>
          <p>
            é€‰æ‹©
            <strong
              >&quot;Run Simulation (compile + simulate + wave)&quot;</strong
            >
          </p>
        </li>
        <li><p>æŸ¥çœ‹ç»ˆç«¯è¾“å‡ºçš„çœŸå€¼è¡¨</p></li>
        <li>
          <p>æ‰‹åŠ¨è¿è¡ŒæŸ¥çœ‹æ³¢å½¢ï¼š</p>
          <pre class="code"><code class='language-shell' lang='shell'>gtkwave sim/test.vcd
</code></pre>
        </li>
      </ol>
      <h4 id="æ–¹æ³•-2åœ¨ç»ˆç«¯æ‰‹åŠ¨è¿è¡Œ">æ–¹æ³• 2ï¼šåœ¨ç»ˆç«¯æ‰‹åŠ¨è¿è¡Œ</h4>
      <p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰“å¼€ç»ˆç«¯ï¼š</p>
      <pre class="code"><code class='language-shell' lang='shell'># 1. åˆ›å»º sim ç›®å½•
mkdir -p sim

# 2. ç¼–è¯‘
iverilog -g2012 -o sim/tb_test.vvp rtl/test.v tb/tb_test.v

# 3. è¿è¡Œä»¿çœŸ
vvp sim/test.vvp

# 4. æŸ¥çœ‹æ³¢å½¢
gtkwave sim/test.vcd
</code></pre>
      <h3 id="æŸ¥çœ‹æ³¢å½¢gtkwave">æŸ¥çœ‹æ³¢å½¢ï¼ˆGTKWaveï¼‰</h3>
      <p>è¿è¡Œ <code>gtkwave sim/test.vcd</code> åï¼š</p>
      <ol>
        <li>
          <p>å·¦ä¾§ <strong>SST</strong> çª—å£ç‚¹å‡» <code>test</code></p>
        </li>
        <li>
          <p>é€‰ä¸­ <code>a</code>, <code>b</code>, <code>y</code></p>
        </li>
        <li>
          <p>ç‚¹å‡» <strong>&quot;Append&quot;</strong> æˆ–ç›´æ¥æ‹–åˆ°å³ä¾§æ³¢å½¢åŒº</p>
        </li>
        <li>
          <p>ä½ ä¼šçœ‹åˆ°ï¼š</p>
          <pre><code>a: â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾____â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾____
b: â€¾â€¾â€¾â€¾____â€¾â€¾â€¾â€¾____â€¾â€¾â€¾â€¾____
y: â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾â€¾____â€¾â€¾â€¾â€¾
</code></pre>
        </li>
      </ol>
      <h3 id="å®Œæ•´çš„-verilog-å¼€å‘æµç¨‹">å®Œæ•´çš„ Verilog å¼€å‘æµç¨‹</h3>
      <pre class="code"><code>ç¼–è¾‘ä»£ç  (VS Code) 
    â†“
ç¼–è¯‘ (iverilog)
    â†“
ä»¿çœŸ (vvp)
    â†“
æŸ¥çœ‹æ³¢å½¢ (gtkwave)
</code></pre>
      <h2 id="å®‰è£…-icarus-verilogwindows">å®‰è£… Icarus Verilogï¼ˆWindowsï¼‰</h2>
      <h3 id="æ–¹æ³•-1ä½¿ç”¨å®‰è£…åŒ…æ¨èæœ€ç®€å•">
        æ–¹æ³• 1ï¼šä½¿ç”¨å®‰è£…åŒ…ï¼ˆæ¨èï¼Œæœ€ç®€å•ï¼‰
      </h3>
      <h4 id="step-1-ä¸‹è½½å®‰è£…åŒ…">Step 1: ä¸‹è½½å®‰è£…åŒ…</h4>
      <p>è®¿é—®ä»¥ä¸‹ä»»ä¸€é“¾æ¥ä¸‹è½½ï¼š</p>
      <p><strong>å®˜æ–¹ä¸‹è½½é¡µé¢ï¼š</strong></p>
      <ul>
        <li>
          <a href="http://bleyer.org/icarus/" target="_blank" class="url"
            >http://bleyer.org/icarus/</a
          >
        </li>
        <li>
          é€‰æ‹©æœ€æ–°ç‰ˆæœ¬ï¼Œä¾‹å¦‚ï¼š<code>iverilog-v11-20211123-x64_setup.exe</code>
        </li>
      </ul>
      <p><strong>æˆ–è€…ç›´æ¥ä¸‹è½½ï¼ˆå¤‡ç”¨é•œåƒï¼‰ï¼š</strong></p>
      <ul>
        <li>
          <a
            href="https://github.com/steveicarus/iverilog/releases"
            target="_blank"
            class="url"
            >https://github.com/steveicarus/iverilog/releases</a
          >
        </li>
      </ul>
      <h4 id="step-2-å®‰è£…">Step 2: å®‰è£…</h4>
      <ol>
        <li><p>è¿è¡Œå®‰è£…åŒ…</p></li>
        <li>
          <p>
            <strong>é‡è¦</strong>ï¼šå®‰è£…è¿‡ç¨‹ä¸­å‹¾é€‰
            <strong
              >&quot;Add executable folder(s) to the user PATH&quot;</strong
            >
          </p>
          <p>![å®‰è£…æ—¶çš„ç•Œé¢ç¤ºæ„]</p>
          <pre class="code"><code>â˜‘ Add executable folder(s) to the user PATH
</code></pre>
        </li>
        <li>
          <p>é»˜è®¤å®‰è£…è·¯å¾„é€šå¸¸æ˜¯ï¼š<code>C:\iverilog</code></p>
        </li>
        <li><p>ä¸€è·¯ &quot;Next&quot; å®Œæˆå®‰è£…</p></li>
      </ol>
      <h4 id="step-3-éªŒè¯å®‰è£…">Step 3: éªŒè¯å®‰è£…</h4>
      <ol>
        <li>
          <p><strong>å…³é—­å½“å‰æ‰€æœ‰ PowerShell/CMD/VS Code çª—å£</strong></p>
        </li>
        <li><p>é‡æ–°æ‰“å¼€ PowerShell æˆ– VS Code ç»ˆç«¯</p></li>
        <li>
          <p>è¾“å…¥ï¼š</p>
          <pre class="code"><code class='language-powershell' lang='powershell'>iverilog -v
</code></pre>
        </li>
      </ol>
      <p>å¦‚æœçœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼Œè¯´æ˜å®‰è£…æˆåŠŸï¼š</p>
      <pre class="code"><code>Icarus Verilog version 11.0 (stable) ()
...
</code></pre>
      <hr />
      <h3 id="æ–¹æ³•-2æ‰‹åŠ¨æ·»åŠ åˆ°-pathå¦‚æœæ–¹æ³•-1-æ²¡è‡ªåŠ¨æ·»åŠ ">
        æ–¹æ³• 2ï¼šæ‰‹åŠ¨æ·»åŠ åˆ° PATHï¼ˆå¦‚æœæ–¹æ³• 1 æ²¡è‡ªåŠ¨æ·»åŠ ï¼‰
      </h3>
      <p>å¦‚æœå®‰è£…åä»ç„¶æç¤ºæ‰¾ä¸åˆ°å‘½ä»¤ï¼š</p>
      <h4 id="step-1-æ‰¾åˆ°å®‰è£…ç›®å½•">Step 1: æ‰¾åˆ°å®‰è£…ç›®å½•</h4>
      <p>é»˜è®¤è·¯å¾„ï¼š<code>C:\iverilog\bin</code></p>
      <h4 id="step-2-æ·»åŠ åˆ°ç³»ç»Ÿ-path">Step 2: æ·»åŠ åˆ°ç³»ç»Ÿ PATH</h4>
      <ol>
        <li>æŒ‰ <code>Win + X</code>ï¼Œé€‰æ‹© <strong>&quot;ç³»ç»Ÿ&quot;</strong></li>
        <li>ç‚¹å‡»å³ä¾§ <strong>&quot;é«˜çº§ç³»ç»Ÿè®¾ç½®&quot;</strong></li>
        <li>ç‚¹å‡» <strong>&quot;ç¯å¢ƒå˜é‡&quot;</strong></li>
        <li>
          åœ¨ <strong>&quot;ç”¨æˆ·å˜é‡&quot;</strong> æˆ–
          <strong>&quot;ç³»ç»Ÿå˜é‡&quot;</strong> ä¸­æ‰¾åˆ° <code>Path</code>
        </li>
        <li>
          ç‚¹å‡» <strong>&quot;ç¼–è¾‘&quot;</strong> â†’
          <strong>&quot;æ–°å»º&quot;</strong>
        </li>
        <li>æ·»åŠ ï¼š<code>C:\iverilog\bin</code>ï¼ˆæˆ–ä½ çš„å®é™…å®‰è£…è·¯å¾„ï¼‰</li>
        <li>ç‚¹å‡» <strong>&quot;ç¡®å®š&quot;</strong> ä¿å­˜</li>
      </ol>
      <h4 id="step-3-é‡å¯-vs-code">Step 3: é‡å¯ VS Code</h4>
      <p>
        <strong>å¿…é¡»å®Œå…¨å…³é—­ VS Code åé‡æ–°æ‰“å¼€</strong>ï¼Œç¯å¢ƒå˜é‡æ‰ä¼šç”Ÿæ•ˆã€‚
      </p>
      <h4 id="step-4-å†æ¬¡éªŒè¯">Step 4: å†æ¬¡éªŒè¯</h4>
      <pre class="code"><code class='language-powershell' lang='powershell'>
iverilog -v
</code></pre>
      <h2 id="è‡ªåŠ¨åŒ–é¡¹ç›®ç”Ÿæˆè„šæœ¬">è‡ªåŠ¨åŒ–é¡¹ç›®ç”Ÿæˆè„šæœ¬</h2>
      <h3 id="é¡¹ç›®ç”Ÿæˆè„šæœ¬">é¡¹ç›®ç”Ÿæˆè„šæœ¬</h3>
      <p><code>create_verilog_project.ps1</code></p>
      <p>
        æŠŠè¿™ä¸ªæ–‡ä»¶ä¿å­˜åœ¨æ‰“å¼€æ–‡ä»¶çš„æ ¹ç›®å½•ï¼ˆæ¯”å¦‚
        <code>projects</code>ï¼‰ï¼Œä»¥åæ¯æ¬¡ç”¨å®ƒåˆ›å»ºæ–°é¡¹ç›®ã€‚
      </p>
      <pre class="code"><code class='language-powershell' lang='powershell'>
# ========================================
# Verilog é¡¹ç›®è‡ªåŠ¨ç”Ÿæˆè„šæœ¬
# ä½œè€…: Stomatra
# åŠŸèƒ½: è‡ªåŠ¨åˆ›å»ºé¡¹ç›®ç›®å½•ã€æ¨¡æ¿æ–‡ä»¶ã€VS Code é…ç½®
# ä½¿ç”¨æ–¹æ³•: .\create_verilog_project.ps1 -ProjectName &quot;my_project&quot; -ModuleName &quot;counter&quot;
# ========================================

param(
    [Parameter(Mandatory=$true, HelpMessage=&quot;é¡¹ç›®åç§°ï¼ˆæ–‡ä»¶å¤¹åï¼‰&quot;)]
    [string]$ProjectName,
    
    [Parameter(Mandatory=$true, HelpMessage=&quot;æ¨¡å—åç§°ï¼ˆå¦‚ counter, adderï¼‰&quot;)]
    [string]$ModuleName,
    
    [Parameter(Mandatory=$false, HelpMessage=&quot;é¡¹ç›®æ ¹ç›®å½•ï¼ˆé»˜è®¤å½“å‰ç›®å½•ï¼‰&quot;)]
    [string]$BaseDir = &quot;.&quot;
)

# ========================================
# 1. åˆ›å»ºé¡¹ç›®ç›®å½•
# ========================================
$projectPath = Join-Path $BaseDir $ProjectName

Write-Host &quot;========================================&quot; -ForegroundColor Cyan
Write-Host &quot;  Verilog é¡¹ç›®ç”Ÿæˆå™¨&quot; -ForegroundColor Cyan
Write-Host &quot;========================================&quot; -ForegroundColor Cyan
Write-Host &quot;&quot;

if (Test-Path $projectPath) {
    Write-Host &quot;âš ï¸  é¡¹ç›®å·²å­˜åœ¨: $projectPath&quot; -ForegroundColor Yellow
    $overwrite = Read-Host &quot;æ˜¯å¦è¦†ç›–ï¼Ÿ(y/n)&quot;
    if ($overwrite -ne &quot;y&quot;) {
        Write-Host &quot;âŒ å–æ¶ˆåˆ›å»º&quot; -ForegroundColor Red
        exit
    }
    Remove-Item -Path $projectPath -Recurse -Force
}

Write-Host &quot;ğŸ“ åˆ›å»ºé¡¹ç›®ç›®å½•...&quot; -ForegroundColor Green
New-Item -ItemType Directory -Path $projectPath | Out-Null
New-Item -ItemType Directory -Path &quot;$projectPath\rtl&quot; | Out-Null
New-Item -ItemType Directory -Path &quot;$projectPath\tb&quot; | Out-Null
New-Item -ItemType Directory -Path &quot;$projectPath\sim&quot; | Out-Null
New-Item -ItemType Directory -Path &quot;$projectPath\.vscode&quot; | Out-Null

# ========================================
# 2. ç”Ÿæˆ RTL è®¾è®¡æ–‡ä»¶
# ========================================
$rtlFile = &quot;$projectPath\rtl\$ModuleName.v&quot;
Write-Host &quot;ğŸ“ ç”Ÿæˆè®¾è®¡æ–‡ä»¶: rtl\$ModuleName.v&quot; -ForegroundColor Green

$rtlContent = @&quot;
// ========================================
// æ¨¡å—å: $ModuleName
// åŠŸèƒ½: (åœ¨è¿™é‡Œæè¿°ä½ çš„æ¨¡å—åŠŸèƒ½)
// ä½œè€…: Stomatra
// æ—¥æœŸ: $(Get-Date -Format &quot;yyyy-MM-dd&quot;)
// ========================================

``timescale 1ns/1ps

module $ModuleName (
    input  wire clk,          // æ—¶é’Ÿä¿¡å·
    input  wire rst_n,        // å¤ä½ä¿¡å·ï¼ˆä½ç”µå¹³æœ‰æ•ˆï¼‰
    input  wire [7:0] data_in,  // 8ä½è¾“å…¥æ•°æ®
    output reg  [7:0] data_out  // 8ä½è¾“å‡ºæ•°æ®
);

    // ========================================
    // å†…éƒ¨ä¿¡å·å£°æ˜
    // ========================================
    // åœ¨è¿™é‡Œå£°æ˜å†…éƒ¨ä¿¡å·ï¼ˆwire/regï¼‰

    // ========================================
    // ç»„åˆé€»è¾‘
    // ========================================
    // ä½¿ç”¨ assign æˆ– always @(*) æè¿°ç»„åˆé€»è¾‘

    // ========================================
    // æ—¶åºé€»è¾‘
    // ========================================
    always @(posedge clk or negedge rst_n) begin
        if (!rst_n) begin
            // å¼‚æ­¥å¤ä½
            data_out &lt;= 8&#39;h00;
        end else begin
            // åœ¨è¿™é‡Œå®ç°ä½ çš„æ—¶åºé€»è¾‘
            data_out &lt;= data_in;  // ç¤ºä¾‹ï¼šç›´é€šé€»è¾‘
        end
    end

endmodule
&quot;@

Set-Content -Path $rtlFile -Value $rtlContent -Encoding UTF8

# ========================================
# 3. ç”Ÿæˆ Testbench æ–‡ä»¶
# ========================================
$tbFile = &quot;$projectPath\tb\tb_$ModuleName.v&quot;
Write-Host &quot;ğŸ“ ç”Ÿæˆæµ‹è¯•æ–‡ä»¶: tb\tb_$ModuleName.v&quot; -ForegroundColor Green

$tbContent = @&quot;
// ========================================
// æµ‹è¯•å¹³å°: tb_$ModuleName
// åŠŸèƒ½: æµ‹è¯• $ModuleName æ¨¡å—
// ä½œè€…: Stomatra
// æ—¥æœŸ: $(Get-Date -Format &quot;yyyy-MM-dd&quot;)
// ========================================

``timescale 1ns/1ps

module tb_$ModuleName;

    // ========================================
    // 1. å‚æ•°å®šä¹‰
    // ========================================
    parameter CLK_PERIOD = 10;  // æ—¶é’Ÿå‘¨æœŸ 10ns (100MHz)

    // ========================================
    // 2. ä¿¡å·å£°æ˜
    // ========================================
    reg         clk;
    reg         rst_n;
    reg  [7:0]  data_in;
    wire [7:0]  data_out;

    // ========================================
    // 3. æ—¶é’Ÿç”Ÿæˆ
    // ========================================
    initial begin
        clk = 0;
        forever #(CLK_PERIOD/2) clk = ~clk;
    end

    // ========================================
    // 4. ä¾‹åŒ–å¾…æµ‹è®¾è®¡ (DUT)
    // ========================================
    $ModuleName u_$ModuleName (
        .clk      (clk),
        .rst_n    (rst_n),
        .data_in  (data_in),
        .data_out (data_out)
    );

    // ========================================
    // 5. æ¿€åŠ±ç”Ÿæˆ
    // ========================================
    initial begin
        // åˆå§‹åŒ–ä¿¡å·
        rst_n   = 0;
        data_in = 8&#39;h00;

        // æ‰“å°æµ‹è¯•å¼€å§‹ä¿¡æ¯
        `$display(&quot;========================================&quot;);
        `$display(&quot;  $ModuleName Testbench&quot;);
        `$display(&quot;  Start Time: %0t&quot;, `$time);
        `$display(&quot;========================================&quot;);

        // å¤ä½
        #(CLK_PERIOD * 2);
        rst_n = 1;
        `$display(&quot;[%0t] Reset released&quot;, `$time);

        // æµ‹è¯•ç”¨ä¾‹ 1
        #(CLK_PERIOD);
        data_in = 8&#39;hAA;
        `$display(&quot;[%0t] Test 1: data_in = 0x%h&quot;, `$time, data_in);

        // æµ‹è¯•ç”¨ä¾‹ 2
        #(CLK_PERIOD * 2);
        data_in = 8&#39;h55;
        `$display(&quot;[%0t] Test 2: data_in = 0x%h&quot;, `$time, data_in);

        // æµ‹è¯•ç”¨ä¾‹ 3
        #(CLK_PERIOD * 2);
        data_in = 8&#39;hFF;
        `$display(&quot;[%0t] Test 3: data_in = 0x%h&quot;, `$time, data_in);

        // ç­‰å¾…å‡ ä¸ªå‘¨æœŸ
        #(CLK_PERIOD * 5);

        // æµ‹è¯•ç»“æŸ
        `$display(&quot;========================================&quot;);
        `$display(&quot;  Simulation Finished!&quot;);
        `$display(&quot;  End Time: %0t&quot;, `$time);
        `$display(&quot;========================================&quot;);
        `$finish;
    end

    // ========================================
    // 6. æ³¢å½¢æ–‡ä»¶ç”Ÿæˆ
    // ========================================
    initial begin
        `$dumpfile(&quot;sim/tb_$ModuleName.vcd&quot;);
        `$dumpvars(0, tb_$ModuleName);
    end

    // ========================================
    // 7. ç›‘æ§è¾“å‡ºï¼ˆå¯é€‰ï¼‰
    // ========================================
    // initial begin
    //     `$monitor(&quot;Time=%0t clk=%b rst_n=%b data_in=%h data_out=%h&quot;, 
    //         `$time, clk, rst_n, data_in, data_out);
    // end

endmodule
&quot;@

Set-Content -Path $tbFile -Value $tbContent -Encoding UTF8

# ========================================
# 4. ç”Ÿæˆ VS Code tasks.json
# ========================================
$tasksFile = &quot;$projectPath\.vscode\tasks.json&quot;
Write-Host &quot;âš™ï¸  ç”Ÿæˆ VS Code é…ç½®: .vscode\tasks.json&quot; -ForegroundColor Green

$tasksContent = @&quot;
{
    &quot;version&quot;: &quot;2.0.0&quot;,
    &quot;tasks&quot;: [
        {
            &quot;label&quot;: &quot;Compile Verilog&quot;,
            &quot;type&quot;: &quot;shell&quot;,
            &quot;command&quot;: &quot;iverilog&quot;,
            &quot;args&quot;: [
                &quot;-g2012&quot;,
                &quot;-Wall&quot;,
                &quot;-o&quot;,
                &quot;sim/`${fileBasenameNoExtension}.vvp&quot;,
                &quot;-I&quot;, &quot;rtl&quot;,
                &quot;rtl/*.v&quot;,
                &quot;`${file}&quot;
            ],
            &quot;group&quot;: {
                &quot;kind&quot;: &quot;build&quot;,
                &quot;isDefault&quot;: true
            },
            &quot;problemMatcher&quot;: [],
            &quot;presentation&quot;: {
                &quot;echo&quot;: true,
                &quot;reveal&quot;: &quot;always&quot;,
                &quot;focus&quot;: false,
                &quot;panel&quot;: &quot;shared&quot;,
                &quot;showReuseMessage&quot;: false,
                &quot;clear&quot;: true
            }
        },
        {
            &quot;label&quot;: &quot;Run Simulation&quot;,
            &quot;type&quot;: &quot;shell&quot;,
            &quot;command&quot;: &quot;vvp&quot;,
            &quot;args&quot;: [
                &quot;sim/`${fileBasenameNoExtension}.vvp&quot;
            ],
            &quot;dependsOn&quot;: &quot;Compile Verilog&quot;,
            &quot;problemMatcher&quot;: [],
            &quot;presentation&quot;: {
                &quot;echo&quot;: true,
                &quot;reveal&quot;: &quot;always&quot;,
                &quot;focus&quot;: true,
                &quot;panel&quot;: &quot;shared&quot;,
                &quot;showReuseMessage&quot;: false
            }
        },
        {
            &quot;label&quot;: &quot;View Waveform&quot;,
            &quot;type&quot;: &quot;shell&quot;,
            &quot;command&quot;: &quot;gtkwave&quot;,
            &quot;args&quot;: [
                &quot;sim/`${fileBasenameNoExtension}.vcd&quot;
            ],
            &quot;problemMatcher&quot;: [],
            &quot;presentation&quot;: {
                &quot;reveal&quot;: &quot;never&quot;
            }
        },
        {
            &quot;label&quot;: &quot;Full Simulation Flow&quot;,
            &quot;dependsOn&quot;: [
                &quot;Run Simulation&quot;,
                &quot;View Waveform&quot;
            ],
            &quot;dependsOrder&quot;: &quot;sequence&quot;,
            &quot;problemMatcher&quot;: []
        },
        {
            &quot;label&quot;: &quot;Clean Simulation Files&quot;,
            &quot;type&quot;: &quot;shell&quot;,
            &quot;command&quot;: &quot;Remove-Item&quot;,
            &quot;args&quot;: [
                &quot;-Path&quot;, &quot;sim/*&quot;,
                &quot;-Force&quot;,
                &quot;-ErrorAction&quot;, &quot;SilentlyContinue&quot;
            ],
            &quot;problemMatcher&quot;: [],
            &quot;presentation&quot;: {
                &quot;reveal&quot;: &quot;always&quot;
            }
        }
    ]
}
&quot;@

Set-Content -Path $tasksFile -Value $tasksContent -Encoding UTF8

# ========================================
# 5. ç”Ÿæˆ .gitignore
# ========================================
$gitignoreFile = &quot;$projectPath\.gitignore&quot;
Write-Host &quot;ğŸ“„ ç”Ÿæˆ .gitignore&quot; -ForegroundColor Green

$gitignoreContent = @&quot;
# Simulation files
sim/*.vvp
sim/*.vcd
sim/*.fst

# Compiler outputs
*.out
*.log

# OS files
.DS_Store
Thumbs.db

# Editor files
.vscode/.browse.*
*.swp
*~
&quot;@

Set-Content -Path $gitignoreFile -Value $gitignoreContent -Encoding UTF8
</code></pre>
      <p>ä¹‹ååœ¨ç»ˆç«¯ä¸­å¯¼èˆªåˆ°ç›®å½•åç›´æ¥è¾“å…¥:</p>
      <pre class="code"><code class='language-powershell' lang='powershell'>.\create_verilog_project.ps1 -ProjectName &quot;your_project_name&quot; -ModuleName &quot;your_module_name&quot;
</code></pre>
      <h3 id="éå¿…è¦æ‰¹é‡åˆ›å»ºå¤šä¸ªé¡¹ç›®">ï¼ˆéå¿…è¦ï¼‰æ‰¹é‡åˆ›å»ºå¤šä¸ªé¡¹ç›®</h3>
      <p>åˆ›å»ºä¸€ä¸ªæ‰¹å¤„ç†è„šæœ¬ <code>batch_create.ps1</code>ï¼š</p>
      <pre class="code"><code class='language-powershell' lang='powershell'>$projects = @(
    @{Name=&quot;uart_tx&quot;; Module=&quot;uart_transmitter&quot;},
    @{Name=&quot;spi_master&quot;; Module=&quot;spi_master&quot;},
    @{Name=&quot;i2c_controller&quot;; Module=&quot;i2c_ctrl&quot;}
)

foreach ($proj in $projects) {
    .\create_verilog_project.ps1 -ProjectName $proj.Name -ModuleName $proj.Module
}

Write-Host &quot;âœ… æ‰¹é‡åˆ›å»ºå®Œæˆï¼&quot; -ForegroundColor Green
</code></pre>
      <h3 id="å¸¸è§å®‰å…¨ç­–ç•¥é—®é¢˜">å¸¸è§å®‰å…¨ç­–ç•¥é—®é¢˜</h3>
      <h4 id="æ–¹æ³•-1-ä¿®æ”¹æ‰§è¡Œç­–ç•¥æ¨èä¸€åŠ³æ°¸é€¸">
        æ–¹æ³• 1: ä¿®æ”¹æ‰§è¡Œç­–ç•¥ï¼ˆæ¨èï¼Œä¸€åŠ³æ°¸é€¸ï¼‰
      </h4>
      <p><strong>ä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ PowerShell</strong>ï¼š</p>
      <ol>
        <li>
          æŒ‰ <code>Win + X</code>ï¼Œé€‰æ‹©
          <strong>&quot;Windows PowerShell (ç®¡ç†å‘˜)&quot;</strong> æˆ–
          <strong>&quot;ç»ˆç«¯(ç®¡ç†å‘˜)&quot;</strong>
        </li>
        <li>è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</li>
      </ol>
      <pre class="code"><code class='language-powershell code' lang='powershell'>Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
</code></pre>
      <ol>
        <li>æç¤ºæ—¶è¾“å…¥ <code>Y</code> ç¡®è®¤</li>
        <li>å…³é—­ç®¡ç†å‘˜çª—å£ï¼Œå›åˆ°æ™®é€š PowerShell é‡æ–°è¿è¡Œè„šæœ¬</li>
      </ol>
      <p><strong>è§£é‡Š</strong>ï¼š</p>
      <ul>
        <li>
          <code>RemoteSigned</code>ï¼šå…è®¸è¿è¡Œæœ¬åœ°è„šæœ¬ï¼Œç½‘ç»œä¸‹è½½çš„è„šæœ¬éœ€è¦ç­¾å
        </li>
        <li><code>CurrentUser</code>ï¼šåªå¯¹å½“å‰ç”¨æˆ·ç”Ÿæ•ˆï¼Œä¸å½±å“å…¶ä»–ç”¨æˆ·</li>
      </ul>
      <h4 id="æ–¹æ³•-2-ä¸´æ—¶ç»•è¿‡å•æ¬¡è¿è¡Œ">æ–¹æ³• 2: ä¸´æ—¶ç»•è¿‡ï¼ˆå•æ¬¡è¿è¡Œï¼‰</h4>
      <p>ä¸æƒ³æ”¹å…¨å±€ç­–ç•¥ï¼Ÿå¯ä»¥ç”¨è¿™ä¸ªå‘½ä»¤å•æ¬¡è¿è¡Œï¼š</p>
      <pre class="code"><code class='language-powershell code' lang='powershell'>PowerShell -ExecutionPolicy Bypass -File .\create_verilog_project.ps1 -ProjectName &quot;test_project&quot; -ModuleName &quot;test_module&quot;
</code></pre>
      <p>æˆ–è€…åœ¨å½“å‰ä¼šè¯ä¸´æ—¶å…è®¸ï¼š</p>
      <pre class="code"><code class='language-powershell code' lang='powershell'>Set-ExecutionPolicy Bypass -Scope Process
.\create_verilog_project.ps1 -ProjectName &quot;test_project&quot; -ModuleName &quot;test_module&quot;
</code></pre>
      <h4 id="æ–¹æ³•-3-è§£é™¤æ–‡ä»¶é”å®šå¦‚æœæ˜¯ä»ç½‘ä¸Šä¸‹è½½çš„">
        æ–¹æ³• 3: è§£é™¤æ–‡ä»¶é”å®šï¼ˆå¦‚æœæ˜¯ä»ç½‘ä¸Šä¸‹è½½çš„ï¼‰
      </h4>
      <p>å¦‚æœä½ æ˜¯ä»ç½‘ä¸Šå¤åˆ¶çš„è„šæœ¬ï¼ŒWindows ä¼šæ ‡è®°ä¸º&quot;ä¸å®‰å…¨&quot;ã€‚</p>
      <p><strong>è§£é™¤æ–¹æ³•</strong>ï¼š</p>
      <ol>
        <li>å³é”®ç‚¹å‡» <code>create_verilog_project.ps1</code></li>
        <li>é€‰æ‹© <strong>&quot;å±æ€§&quot;</strong></li>
        <li>åœ¨åº•éƒ¨å‹¾é€‰ <strong>&quot;è§£é™¤é”å®š(Unblock)&quot;</strong></li>
        <li>ç‚¹å‡» <strong>&quot;ç¡®å®š&quot;</strong></li>
      </ol>
      <p>æˆ–è€…ç”¨å‘½ä»¤ï¼š</p>
      <pre class="code"><code class='language-powershell code' lang='powershell'>Unblock-File -Path .\create_verilog_project.ps1
</code></pre>
      <p>ç„¶åé‡æ–°è¿è¡Œè„šæœ¬ã€‚</p>
      <h2 id="è‡ªåŠ¨åŒ–ä¸€é”®è¿è¡Œè„šæœ¬">è‡ªåŠ¨åŒ–ä¸€é”®è¿è¡Œè„šæœ¬</h2>
      <h3 id="ä¸€é”®è¿è¡Œè„šæœ¬">ä¸€é”®è¿è¡Œè„šæœ¬</h3>
      <p><code>run_verilog.ps1</code></p>
      <p>ä¿å­˜åˆ°é¡¹ç›®æ ¹ç›®å½•ï¼š</p>
      <pre class="code"><code class='language-powershell code' lang='powershell'># ========================================
# Verilog ä¸€é”®è¿è¡Œè„šæœ¬
# ä½œè€…: Stomatra
# åŠŸèƒ½: è‡ªåŠ¨ç¼–è¯‘ã€ä»¿çœŸã€æŸ¥çœ‹æ³¢å½¢
# ä½¿ç”¨: .\run_verilog.ps1 [testbenchæ–‡ä»¶è·¯å¾„]
# ========================================

param(
    [Parameter(Mandatory=$false, HelpMessage=&quot;Testbench æ–‡ä»¶è·¯å¾„&quot;)]
    [string]$TestbenchFile = &quot;&quot;,
    
    [Parameter(Mandatory=$false, HelpMessage=&quot;æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æ³¢å½¢&quot;)]
    [switch]$NoWaveform = $false,
    
    [Parameter(Mandatory=$false, HelpMessage=&quot;æ˜¯å¦æ¸…ç†æ—§æ–‡ä»¶&quot;)]
    [switch]$Clean = $false
)

# ========================================
# é…ç½®
# ========================================
$RTL_DIR = &quot;rtl&quot;
$TB_DIR = &quot;tb&quot;
$SIM_DIR = &quot;sim&quot;

# ========================================
# å‡½æ•°: æ‰“å°å½©è‰²ä¿¡æ¯
# ========================================
function Write-Step {
    param([string]$Message, [string]$Color = &quot;Cyan&quot;)
    Write-Host &quot;&quot;
    Write-Host &quot;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&quot; -ForegroundColor $Color
    Write-Host &quot;  $Message&quot; -ForegroundColor $Color
    Write-Host &quot;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&quot; -ForegroundColor $Color
}

function Write-Success {
    param([string]$Message)
    Write-Host &quot;âœ… $Message&quot; -ForegroundColor Green
}

function Write-Error-Custom {
    param([string]$Message)
    Write-Host &quot;âŒ $Message&quot; -ForegroundColor Red
}

function Write-Info {
    param([string]$Message)
    Write-Host &quot;â„¹ï¸  $Message&quot; -ForegroundColor Yellow
}

# ========================================
# 1. æ¸…ç†æ—§æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
# ========================================
if ($Clean) {
    Write-Step &quot;æ¸…ç†ä»¿çœŸæ–‡ä»¶&quot; &quot;Yellow&quot;
    if (Test-Path $SIM_DIR) {
        Remove-Item -Path &quot;$SIM_DIR\*&quot; -Force -ErrorAction SilentlyContinue
        Write-Success &quot;æ¸…ç†å®Œæˆ&quot;
    }
}

# ========================================
# 2. ç¡®ä¿ sim ç›®å½•å­˜åœ¨
# ========================================
if (-not (Test-Path $SIM_DIR)) {
    New-Item -ItemType Directory -Path $SIM_DIR | Out-Null
    Write-Info &quot;åˆ›å»º sim ç›®å½•&quot;
}

# ========================================
# 3. æŸ¥æ‰¾ Testbench æ–‡ä»¶
# ========================================
Write-Step &quot;æŸ¥æ‰¾ Testbench æ–‡ä»¶&quot; &quot;Cyan&quot;

if ($TestbenchFile -eq &quot;&quot;) {
    # è‡ªåŠ¨æŸ¥æ‰¾ tb ç›®å½•ä¸‹çš„æ–‡ä»¶
    $tbFiles = Get-ChildItem -Path $TB_DIR -Filter &quot;*.v&quot; -ErrorAction SilentlyContinue
    
    if ($tbFiles.Count -eq 0) {
        Write-Error-Custom &quot;æœªæ‰¾åˆ° testbench æ–‡ä»¶ï¼&quot;
        Write-Host &quot;è¯·ç¡®ä¿ tb ç›®å½•ä¸‹æœ‰ .v æ–‡ä»¶&quot; -ForegroundColor Gray
        exit 1
    }
    
    if ($tbFiles.Count -eq 1) {
        # åªæœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œè‡ªåŠ¨é€‰æ‹©
        $TestbenchFile = $tbFiles[0].FullName
        Write-Success &quot;è‡ªåŠ¨é€‰æ‹©: $($tbFiles[0].Name)&quot;
    } else {
        # å¤šä¸ªæ–‡ä»¶ï¼Œè®©ç”¨æˆ·é€‰æ‹©
        Write-Host &quot;æ‰¾åˆ°å¤šä¸ª testbench æ–‡ä»¶:&quot; -ForegroundColor Yellow
        for ($i = 0; $i -lt $tbFiles.Count; $i++) {
            Write-Host &quot;  [$i] $($tbFiles[$i].Name)&quot; -ForegroundColor White
        }
        
        $selection = Read-Host &quot;è¯·é€‰æ‹© [0-$($tbFiles.Count - 1)]&quot;
        
        if ($selection -match &#39;^\d+$&#39; -and [int]$selection -lt $tbFiles.Count) {
            $TestbenchFile = $tbFiles[[int]$selection].FullName
            Write-Success &quot;å·²é€‰æ‹©: $($tbFiles[[int]$selection].Name)&quot;
        } else {
            Write-Error-Custom &quot;æ— æ•ˆé€‰æ‹©ï¼&quot;
            exit 1
        }
    }
} else {
    # ç”¨æˆ·æŒ‡å®šäº†æ–‡ä»¶
    if (-not (Test-Path $TestbenchFile)) {
        Write-Error-Custom &quot;æ–‡ä»¶ä¸å­˜åœ¨: $TestbenchFile&quot;
        exit 1
    }
}

# è·å–æ–‡ä»¶åï¼ˆä¸å«æ‰©å±•åï¼‰
$tbBaseName = [System.IO.Path]::GetFileNameWithoutExtension($TestbenchFile)
$vvpFile = &quot;$SIM_DIR\$tbBaseName.vvp&quot;
$vcdFile = &quot;$SIM_DIR\$tbBaseName.vcd&quot;

Write-Host &quot;   Testbench: $tbBaseName.v&quot; -ForegroundColor Gray
Write-Host &quot;   è¾“å‡ºæ–‡ä»¶: $tbBaseName.vvp&quot; -ForegroundColor Gray

# ========================================
# 4. ç¼–è¯‘ Verilog
# ========================================
Write-Step &quot;ç¼–è¯‘ Verilog ä»£ç &quot; &quot;Cyan&quot;

# æ£€æŸ¥ RTL ç›®å½•
if (-not (Test-Path $RTL_DIR)) {
    Write-Error-Custom &quot;æœªæ‰¾åˆ° rtl ç›®å½•ï¼&quot;
    exit 1
}

# è·å–æ‰€æœ‰ RTL æ–‡ä»¶
$rtlFiles = Get-ChildItem -Path $RTL_DIR -Filter &quot;*.v&quot; -Recurse | Select-Object -ExpandProperty FullName

if ($rtlFiles.Count -eq 0) {
    Write-Error-Custom &quot;rtl ç›®å½•ä¸‹æ²¡æœ‰ .v æ–‡ä»¶ï¼&quot;
    exit 1
}

Write-Info &quot;æ‰¾åˆ° $($rtlFiles.Count) ä¸ª RTL æ–‡ä»¶&quot;

# æ„å»ºç¼–è¯‘å‘½ä»¤
$compileArgs = @(
    &quot;-g2012&quot;,           # SystemVerilog-2012 æ ‡å‡†
    &quot;-Wall&quot;,            # æ˜¾ç¤ºæ‰€æœ‰è­¦å‘Š
    &quot;-o&quot;, $vvpFile,     # è¾“å‡ºæ–‡ä»¶
    &quot;-I&quot;, $RTL_DIR      # åŒ…å«è·¯å¾„
)

# æ·»åŠ æ‰€æœ‰ RTL æ–‡ä»¶
$compileArgs += $rtlFiles

# æ·»åŠ  testbench æ–‡ä»¶
$compileArgs += $TestbenchFile

Write-Host &quot;   æ‰§è¡Œ: iverilog $($compileArgs -join &#39; &#39;)&quot; -ForegroundColor Gray

try {
    $output = &amp; iverilog $compileArgs 2&gt;&amp;1
    
    if ($LASTEXITCODE -ne 0) {
        Write-Error-Custom &quot;ç¼–è¯‘å¤±è´¥ï¼&quot;
        Write-Host $output -ForegroundColor Red
        exit 1
    }
    
    # æ£€æŸ¥è­¦å‘Š
    if ($output) {
        Write-Host $output -ForegroundColor Yellow
    }
    
    Write-Success &quot;ç¼–è¯‘æˆåŠŸï¼&quot;
    
} catch {
    Write-Error-Custom &quot;ç¼–è¯‘å‡ºé”™: $_&quot;
    exit 1
}

# ========================================
# 5. è¿è¡Œä»¿çœŸ
# ========================================
Write-Step &quot;è¿è¡Œä»¿çœŸ&quot; &quot;Cyan&quot;

try {
    Write-Host &quot;   æ‰§è¡Œ: vvp $vvpFile&quot; -ForegroundColor Gray
    
    $simOutput = &amp; vvp $vvpFile 2&gt;&amp;1
    
    if ($LASTEXITCODE -ne 0) {
        Write-Error-Custom &quot;ä»¿çœŸå¤±è´¥ï¼&quot;
        Write-Host $simOutput -ForegroundColor Red
        exit 1
    }
    
    Write-Host &quot;&quot;
    Write-Host &quot;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&quot; -ForegroundColor White
    Write-Host $simOutput
    Write-Host &quot;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&quot; -ForegroundColor White
    Write-Host &quot;&quot;
    
    Write-Success &quot;ä»¿çœŸå®Œæˆï¼&quot;
    
} catch {
    Write-Error-Custom &quot;ä»¿çœŸå‡ºé”™: $_&quot;
    exit 1
}

# ========================================
# 6. æŸ¥çœ‹æ³¢å½¢
# ========================================
if (-not $NoWaveform) {
    Write-Step &quot;æŸ¥çœ‹æ³¢å½¢&quot; &quot;Cyan&quot;
    
    if (Test-Path $vcdFile) {
        Write-Info &quot;æ³¢å½¢æ–‡ä»¶: $vcdFile&quot;
        
        # æ£€æŸ¥ GTKWave æ˜¯å¦å®‰è£…
        $gtkwaveExists = Get-Command gtkwave -ErrorAction SilentlyContinue
        
        if ($gtkwaveExists) {
            Write-Host &quot;   å¯åŠ¨ GTKWave...&quot; -ForegroundColor Gray
            Start-Process gtkwave -ArgumentList $vcdFile
            Write-Success &quot;GTKWave å·²å¯åŠ¨&quot;
        } else {
            Write-Error-Custom &quot;æœªæ‰¾åˆ° GTKWaveï¼&quot;
            Write-Host &quot;è¯·å®‰è£… GTKWave æˆ–ä½¿ç”¨ -NoWaveform å‚æ•°è·³è¿‡&quot; -ForegroundColor Yellow
        }
    } else {
        Write-Info &quot;æœªæ‰¾åˆ°æ³¢å½¢æ–‡ä»¶ (.vcd)&quot;
        Write-Host &quot;å¯èƒ½æ˜¯ testbench ä¸­æ²¡æœ‰è°ƒç”¨ `$dumpfile&quot; -ForegroundColor Gray
    }
}

# ========================================
# 7. å®Œæˆ
# ========================================
Write-Host &quot;&quot;
Write-Host &quot;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&quot; -ForegroundColor Green
Write-Host &quot;  âœ¨ è¿è¡Œå®Œæˆï¼&quot; -ForegroundColor Green
Write-Host &quot;â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&quot; -ForegroundColor Green
Write-Host &quot;&quot;
Write-Host &quot;ç”Ÿæˆçš„æ–‡ä»¶:&quot; -ForegroundColor White
Write-Host &quot;   ğŸ“¦ $vvpFile&quot; -ForegroundColor Gray
if (Test-Path $vcdFile) {
    Write-Host &quot;   ğŸ“Š $vcdFile&quot; -ForegroundColor Gray
}
Write-Host &quot;&quot;
</code></pre>
      <h3 id="ä½¿ç”¨æ–¹æ³•">ä½¿ç”¨æ–¹æ³•</h3>
      <h4 id="æ–¹æ³•1è‡ªåŠ¨æ¨¡å¼æœ€ç®€å•">æ–¹æ³•1:è‡ªåŠ¨æ¨¡å¼ï¼ˆæœ€ç®€å•ï¼‰ï¼š</h4>
      <p>åœ¨é¡¹ç›®æ ¹ç›®å½•ç›´æ¥è¿è¡Œï¼š</p>
      <pre class="code"><code class='language-powershell' lang='powershell'>.\run_verilog.ps1
</code></pre>
      <p>è„šæœ¬ä¼šï¼š</p>
      <ol>
        <li>è‡ªåŠ¨æ‰¾åˆ° <code>tb/</code> ä¸‹çš„æµ‹è¯•æ–‡ä»¶</li>
        <li>å¦‚æœåªæœ‰ä¸€ä¸ªï¼Œè‡ªåŠ¨è¿è¡Œ</li>
        <li>å¦‚æœæœ‰å¤šä¸ªï¼Œè®©ä½ é€‰æ‹©</li>
      </ol>
      <h4 id="æ–¹æ³•-2-æŒ‡å®šæ–‡ä»¶">æ–¹æ³• 2: æŒ‡å®šæ–‡ä»¶</h4>
      <pre class="code"><code class='language-powershell' lang='powershell'>.\run_verilog.ps1 -TestbenchFile &quot;tb\tb_counter.v&quot;
</code></pre>
      <h4 id="æ–¹æ³•-3-ä¸æ‰“å¼€æ³¢å½¢">æ–¹æ³• 3: ä¸æ‰“å¼€æ³¢å½¢</h4>
      <pre class="code"><code class='language-powershell' lang='powershell'>.\run_verilog.ps1 -NoWaveform
</code></pre>
      <h4 id="æ–¹æ³•-4-æ¸…ç†åè¿è¡Œ">æ–¹æ³• 4: æ¸…ç†åè¿è¡Œ</h4>
      <pre class="code"><code class='language-powershell' lang='powershell'>.\run_verilog.ps1 -Clean
</code></pre>
      <h4 id="æ–¹æ³•-5-ç»„åˆå‚æ•°">æ–¹æ³• 5: ç»„åˆå‚æ•°</h4>
      <pre class="code"><code class='language-powershell' lang='powershell'>.\run_verilog.ps1 -TestbenchFile &quot;tb\tb_uart.v&quot; -Clean -NoWaveform
</code></pre>
    </section>
  </body>
</html>
