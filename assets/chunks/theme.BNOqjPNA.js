const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/vue-slider-component.umd.min.Bdcqd2P6.js","assets/chunks/framework.DvhYz0iE.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,n,r)=>((t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r)(t,"symbol"!=typeof n?n+"":n,r);import{_ as n,r,o as i,a as s,b as a,c as o,u as c,n as l,d as u,e as h,f as d,F as f,m as p,g as m,i as g,w as y,h as v,j as b,k as E,t as T,l as S,p as A,q as _,s as k,v as w,x as O,y as I,z as R,A as C,B as P,C as N,T as x,D,E as L,G as M,H as F,I as j,J as $,K as B,L as U,M as H,N as q,O as G,P as W,Q,R as V,S as Y,U as z,V as K,W as X,X as J,Y as Z,Z as ee,$ as te,a0 as ne,a1 as re,a2 as ie,a3 as se}from"./framework.DvhYz0iE.js";const ae=async e=>{const t=await fetch(`https://v6-widget.51.la/v6/${e}/quote.js`),n=["æœ€è¿‘æ´»è·ƒ","ä»Šæ—¥äººæ•°","ä»Šæ—¥è®¿é—®","æ˜¨æ—¥äººæ•°","æ˜¨æ—¥è®¿é—®","æœ¬æœˆè®¿é—®","æ€»è®¿é—®é‡"];let r=(await t.text()).match(/(<\/span><span>).*?(\/span><\/p>)/g);r=r.map((e=>e.replace(/(<\/span><span>)/g,"").replace(/(<\/span><\/p>)/g,"")));const i={};for(let s=0;s<r.length;s++)s!==r.length-1&&(i[n[s]]=r[s]);return i},oe={key:2,class:"hidden"},ce=["data-lazy-src"],le=n({__name:"LazyLoader",props:{useFriendsLink:{type:[Boolean,String],default:!1},width:{type:String,default:"100%"},height:{type:String,default:"100%"}},setup(e){let t=null;const n=r(!1),p=r(null);return i((()=>{var e;e=e=>{e.isIntersecting&&(n.value=!0,t.unobserve(p.value),t=null)},t=new IntersectionObserver((t=>t.forEach((t=>e(t)))),{rootMargin:"0px",threshold:0}),t.observe(p.value)})),s((()=>t&&t.unobserve(p.value))),(t,r)=>(a(),o(f,null,[c(n)?u(t.$slots,"default",{key:1},void 0,!0):(a(),o("div",{key:0,ref_key:"box",ref:p,style:l({height:e.height,width:e.width}),class:"loading"},null,4)),e.useFriendsLink?(a(),o("div",oe,[h("img",{"data-lazy-src":e.useFriendsLink,class:"cf-friends-avatar",alt:"cover"},null,8,ce)])):d("",!0)],64))}},[["__scopeId","data-v-d2dcfb3d"]]);
/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */
let ue;const he=e=>ue=e,de=Symbol();function fe(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var pe,me;(me=pe||(pe={})).direct="direct",me.patchObject="patch object",me.patchFunction="patch function";const ge=()=>{};function ye(e,t,n,r=ge){e.push(t);const i=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),r())};return!n&&k()&&w(i),i}function ve(e,...t){e.slice().forEach((e=>{e(...t)}))}const be=e=>e(),Ee=Symbol(),Te=Symbol();function Se(e,t){e instanceof Map&&t instanceof Map?t.forEach(((t,n)=>e.set(n,t))):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];fe(i)&&fe(r)&&e.hasOwnProperty(n)&&!b(r)&&!E(r)?e[n]=Se(i,r):e[n]=r}return e}const Ae=Symbol();const{assign:_e}=Object;function ke(e,t,n={},i,s,a){let o;const c=_e({actions:{}},n),l={deep:!0};let u,h,d,f=[],p=[];const g=i.state.value[e];let S;function A(t){let n;u=h=!1,"function"==typeof t?(t(i.state.value[e]),n={type:pe.patchFunction,storeId:e,events:d}):(Se(i.state.value[e],t),n={type:pe.patchObject,payload:t,storeId:e,events:d});const r=S=Symbol();O().then((()=>{S===r&&(u=!0)})),h=!0,ve(f,n,i.state.value[e])}a||g||(i.state.value[e]={}),r({});const _=a?function(){const{state:e}=n,t=e?e():{};this.$patch((e=>{_e(e,t)}))}:ge;const k=(t,n="")=>{if(Ee in t)return t[Te]=n,t;const r=function(){he(i);const n=Array.from(arguments),s=[],a=[];let o;ve(p,{args:n,name:r[Te],store:I,after:function(e){s.push(e)},onError:function(e){a.push(e)}});try{o=t.apply(this&&this.$id===e?this:I,n)}catch(c){throw ve(a,c),c}return o instanceof Promise?o.then((e=>(ve(s,e),e))).catch((e=>(ve(a,e),Promise.reject(e)))):(ve(s,o),o)};return r[Ee]=!0,r[Te]=n,r},w={_p:i,$id:e,$onAction:ye.bind(null,p),$patch:A,$reset:_,$subscribe(t,n={}){const r=ye(f,t,n.detached,(()=>s())),s=o.run((()=>y((()=>i.state.value[e]),(r=>{("sync"===n.flush?h:u)&&t({storeId:e,type:pe.direct,events:d},r)}),_e({},l,n))));return r},$dispose:function(){o.stop(),f=[],p=[],i._s.delete(e)}},I=v(w);i._s.set(e,I);const R=(i._a&&i._a.runWithContext||be)((()=>i._e.run((()=>(o=m()).run((()=>t({action:k})))))));for(const r in R){const t=R[r];if(b(t)&&(!b(P=t)||!P.effect)||E(t))a||(!g||fe(C=t)&&C.hasOwnProperty(Ae)||(b(t)?t.value=g[r]:Se(t,g[r])),i.state.value[e][r]=t);else if("function"==typeof t){const e=k(t,r);R[r]=e,c.actions[r]=t}}var C,P;return _e(I,R),_e(T(I),R),Object.defineProperty(I,"$state",{get:()=>i.state.value[e],set:e=>{A((t=>{_e(t,e)}))}}),i._p.forEach((e=>{_e(I,o.run((()=>e({store:I,app:i._a,pinia:i,options:c}))))})),g&&a&&n.hydrate&&n.hydrate(I.$state,g),u=!0,h=!0,I}
/*! #__NO_SIDE_EFFECTS__ */function we(e,t,n){let r,i;const s="function"==typeof t;function a(e,n){const a=S();(e=e||(a?g(de,null):null))&&he(e),(e=ue)._s.has(r)||(s?ke(r,t,i,e):function(e,t,n){const{state:r,actions:i,getters:s}=t,a=n.state.value[e];let o;o=ke(e,(function(){a||(n.state.value[e]=r?r():{});const t=I(n.state.value[e]);return _e(t,i,Object.keys(s||{}).reduce(((t,r)=>(t[r]=p(A((()=>{he(n);const t=n._s.get(e);return s[r].call(t,t)}))),t)),{}))}),t,n,0,!0)}(r,i,e));return e._s.get(r)}return r=e,i=s?n:t,a.$id=r,a}function Oe(e){{const t=T(e),n={};for(const r in t){const i=t[r];i.effect?n[r]=A({get:()=>e[r],set(t){e[r]=t}}):(b(i)||E(i))&&(n[r]=_(e,r))}return n}}const Ie=we("main",{state:()=>({themeType:"auto",themeValue:"light",bannerType:"half",loadingStatus:!0,scrollData:{height:0,percentage:0,direction:"down"},footerIsShow:!1,controlShow:!1,searchShow:!1,showSeetings:!1,playState:!1,playerShow:!0,playerVolume:.7,playerData:{name:"æœªçŸ¥æ›²ç›®",artist:"æœªçŸ¥è‰ºæœ¯å®¶"},mobileMenuShow:!1,useRightMenu:!0,backgroundBlur:!1,fontFamily:"hmos",fontSize:16,infoPosition:"fixed",lastScrollY:0,backgroundType:"patterns",backgroundUrl:"https://tuapi.eees.cc/api.php?category={dongman,fengjing}&type=302"}),getters:{},actions:{changeShowStatus(e,t=!0){this[e]=!this[e],document.body.style.overflowY=this[e]?"hidden":"";const n=document.getElementById("app");this[e]&&this.backgroundBlur&&t?n.classList.add("blur"):n.classList.remove("blur")},changeFontSize(e=!1){e?this.fontSize<20&&this.fontSize++:this.fontSize>14&&this.fontSize--;document.documentElement.style.fontSize=this.fontSize+"px"},changeThemeType(){if("image"===this.backgroundType)return $message.warning("æ— æ³•åœ¨å£çº¸æ¨¡å¼ä¸‹åˆ‡æ¢æ˜æš—æ¨¡å¼",{duration:1500}),!1;if("auto"===this.themeType?this.themeType="dark":"dark"===this.themeType?this.themeType="light":this.themeType="auto","undefined"!=typeof $message){const e="light"===this.themeType?"æµ…è‰²æ¨¡å¼":"dark"===this.themeType?"æ·±è‰²æ¨¡å¼":"è·Ÿéšç³»ç»Ÿ";$message.info("å½“å‰ä¸»é¢˜ä¸º"+e,{duration:1500})}}},persist:[{key:"siteData",paths:["themeType","bannerType","useRightMenu","playerShow","playerVolume","backgroundBlur","backgroundType","fontFamily","fontSize","infoPosition","backgroundUrl"]}]}),Re={class:"title"},Ce={class:"subtitle"},Pe={class:"top"},Ne={class:"title"},xe={class:"title-small"},De={class:"title-big"},Le={class:"top-right"},Me={class:"footer"},Fe={class:"footer-left"},je={class:"footer-right"},$e=n({__name:"Banner",props:{type:{type:String,default:"text"},height:{type:String,default:"half"},title:{type:String,default:"è¿™é‡Œæ˜¯æ ‡é¢˜"},desc:{type:String,default:"è¿™é‡Œæ˜¯ç®€ä»‹"},footer:{type:String,default:""},image:{type:String,default:""}},setup(e){const t=Ie(),{theme:n}=R(),f=e,p=r(null),m=r(null),g=r(null),v=async()=>{try{const e=await(async()=>{const e=await fetch("https://v1.hitokoto.cn");return await e.json()})(),{hitokoto:t,from:n,from_who:r}=e;p.value={hitokoto:t,from:n,from_who:r}}catch(e){$message.error("ä¸€è¨€è·å–å¤±è´¥"),console.error("ä¸€è¨€è·å–å¤±è´¥ï¼š",e)}},b=()=>{const e=document.getElementById("main-banner");if(!e)return!1;scrollTo({top:e.offsetHeight,behavior:"smooth"})};return y((()=>t.bannerType),(e=>{g.value=e})),i((()=>{"text"===f.type&&(m.value=setTimeout((()=>{v()}),2e3)),g.value=t.bannerType})),s((()=>{clearTimeout(m.value)})),(t,r)=>"text"===e.type?(a(),o("div",{key:0,class:D(["banner",c(g)]),id:"main-banner"},[h("h1",Re,"ä½ å¥½ï¼Œæ¬¢è¿æ¥åˆ°"+C(c(n).siteMeta.title),1),h("div",Ce,[P(x,{name:"fade",mode:"out-in"},{default:N((()=>{var e,t,r;return[(a(),o("span",{key:null==(e=c(p))?void 0:e.hitokoto,class:"text"},C((null==(t=c(p))?void 0:t.hitokoto)?null==(r=c(p))?void 0:r.hitokoto:c(n).siteMeta.description),1))]})),_:1})]),P(x,{name:"fade",mode:"out-in"},{default:N((()=>["full"===e.height?(a(),o("i",{key:0,class:"iconfont icon-up",onClick:b})):d("",!0)])),_:1})],2)):"page"===e.type?(a(),o("div",{key:1,class:D(["banner-page","s-card",{image:e.image}]),style:l({backgroundImage:e.image?`url(${e.image})`:null})},[h("div",Pe,[h("div",Ne,[h("span",xe,C(e.title),1),h("span",De,C(e.desc),1)]),h("div",Le,[u(t.$slots,"header-slot",{},void 0,!0)])]),u(t.$slots,"default",{},void 0,!0),h("div",Me,[h("div",Fe,C(e.footer),1),h("div",je,[u(t.$slots,"footer-slot",{},void 0,!0)])])],6)):d("",!0)}},[["__scopeId","data-v-53699315"]]);var Be="object"==typeof global&&global&&global.Object===Object&&global,Ue="object"==typeof self&&self&&self.Object===Object&&self,He=Be||Ue||Function("return this")(),qe=He.Symbol,Ge=Object.prototype,We=Ge.hasOwnProperty,Qe=Ge.toString,Ve=qe?qe.toStringTag:void 0;var Ye=Object.prototype.toString;var ze=qe?qe.toStringTag:void 0;function Ke(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ze&&ze in Object(e)?function(e){var t=We.call(e,Ve),n=e[Ve];try{e[Ve]=void 0;var r=!0}catch(YR){}var i=Qe.call(e);return r&&(t?e[Ve]=n:delete e[Ve]),i}(e):function(e){return Ye.call(e)}(e)}var Xe=/\s/;var Je=/^\s+/;function Ze(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&Xe.test(e.charAt(t)););return t}(e)+1).replace(Je,""):e}function et(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var tt=/^[-+]0x[0-9a-f]+$/i,nt=/^0b[01]+$/i,rt=/^0o[0-7]+$/i,it=parseInt;function st(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==Ke(e)}(e))return NaN;if(et(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=et(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ze(e);var n=nt.test(e);return n||rt.test(e)?it(e.slice(2),n?2:8):tt.test(e)?NaN:+e}var at=function(){return He.Date.now()},ot=Math.max,ct=Math.min;function lt(e,t,n){var r,i,s,a,o,c,l=0,u=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,s=i;return r=i=void 0,l=t,a=e.apply(s,n)}function p(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-l>=s}function m(){var e=at();if(p(e))return g(e);o=setTimeout(m,function(e){var n=t-(e-c);return h?ct(n,s-(e-l)):n}(e))}function g(e){return o=void 0,d&&r?f(e):(r=i=void 0,a)}function y(){var e=at(),n=p(e);if(r=arguments,i=this,c=e,n){if(void 0===o)return function(e){return l=e,o=setTimeout(m,t),u?f(e):a}(c);if(h)return clearTimeout(o),o=setTimeout(m,t),f(c)}return void 0===o&&(o=setTimeout(m,t)),a}return t=st(t)||0,et(n)&&(u=!!n.leading,s=(h="maxWait"in n)?ot(st(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d),y.cancel=function(){void 0!==o&&clearTimeout(o),l=0,r=c=i=o=void 0},y.flush=function(){return void 0===o?a:g(at())},y}function ut(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return et(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),lt(e,t,{leading:r,maxWait:t,trailing:i})}const ht=ut((()=>{try{if("undefined"==typeof window||"undefined"==typeof document)return!1;const e=Ie(),t=window.scrollY||window.pageYOffset,n=(t/(document.documentElement.scrollHeight-window.innerHeight)*100).toFixed(0),r=t>e.scrollData.height?"down":"up";e.scrollData={height:Number(t.toFixed(0)),percentage:Number(n),direction:r}}catch(e){console.error("è®¡ç®—æ»šåŠ¨æ—¶å‡ºç°é”™è¯¯ï¼š",e)}}),300,!0),dt=(e=0)=>{try{if("undefined"==typeof window)return!1;if("number"==typeof e)window.scrollTo({top:e,behavior:"smooth"});else if(e instanceof HTMLElement){const t=e.getBoundingClientRect().top-80;window.scrollTo({top:t,behavior:"smooth"})}else if("string"==typeof e&&e.startsWith("#")){const t=document.querySelector(e);if(t){const e=t.getBoundingClientRect().top-80;window.scrollTo({top:e,behavior:"smooth"})}}else window.scrollTo({top:0,behavior:"smooth"})}catch(t){console.error("å¹³æ»‘æ»šåŠ¨å‡ºé”™ï¼š",t)}},ft=e=>{let t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=new Date(n.getTime()-864e5),i=new Date(e);if(i>=r&&i<n)return"1å¤©å‰";{let e=Math.floor((n-i)/864e5);if(e<=0)return"ä»Šæ—¥å†…";if(e<7)return`${e}å¤©å‰`;{let e=i.getFullYear(),n=i.getMonth()+1,r=i.getDate();return e===t.getFullYear()?`${n}/${r}`:`${e}/${n}/${r}`}}},pt=e=>{const t=new Date-new Date(e);return Math.floor(t/864e5)};let mt=-1;const gt=e=>{let t;do{t=Math.floor(Math.random()*e.length)}while(t===mt&&e.length>1);mt=t;const n=e[t];return n.regularPath},yt=async e=>{if(navigator.clipboard)try{await navigator.clipboard.writeText(e),$message.success("å¤åˆ¶æˆåŠŸï¼Œåœ¨è½¬è½½æ—¶è¯·æ ‡æ³¨æœ¬æ–‡åœ°å€")}catch(t){console.error("å¤åˆ¶å‡ºé”™ï¼š",t),$message.error("å¤åˆ¶å‡ºç°é”™è¯¯ï¼Œè¯·é‡è¯•")}else{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select();try{document.execCommand("copy"),$message.success("å¤åˆ¶æˆåŠŸï¼Œåœ¨è½¬è½½æ—¶è¯·æ ‡æ³¨æœ¬æ–‡åœ°å€")}catch(n){console.error("å¤åˆ¶å‡ºé”™ï¼š",n),$message.error("å¤åˆ¶å‡ºç°é”™è¯¯ï¼Œè¯·é‡è¯•")}finally{document.body.removeChild(t)}}},vt=async e=>{if(navigator.clipboard)try{const t=await fetch(e),n=await t.blob();await navigator.clipboard.write([new ClipboardItem({[n.type]:n})]),$message.success("å›¾ç‰‡å·²å¤åˆ¶åˆ°å‰ªè´´æ¿")}catch(t){console.error("å¤åˆ¶å›¾ç‰‡å‡ºé”™ï¼š",t),$message.error("å¤åˆ¶å›¾ç‰‡é”™è¯¯ï¼Œè¯·é‡è¯•")}else console.error("æµè§ˆå™¨ä¸æ”¯æŒ Clipboard API")},bt=e=>{try{const t=`image-${(new Date).toISOString().replace(/[:.]/g,"-")}.jpg`,n=document.createElement("a");n.download=t,n.href=e,n.target="_blank",n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(t){console.error("ä¸‹è½½å›¾ç‰‡å‡ºé”™ï¼š",t),$message.error("ä¸‹è½½å›¾ç‰‡é”™è¯¯ï¼Œè¯·é‡è¯•")}},Et=()=>{const e=(new Date).getHours();let t;return t=e<6?"å‡Œæ™¨å¥½ï¼Œæ˜¨æ™šç¡å¾—æ€ä¹ˆæ ·ï¼Ÿ":e<9?"æ—©ä¸Šå¥½ï¼Œä»Šå¤©ä¹Ÿè¦å¼€å¿ƒå“¦ï¼":e<12?"ä¸Šåˆå¥½ï¼Œä»Šå¤©ä¹Ÿè¦åŠ æ²¹å“¦ï¼":e<14?"ä¸­åˆå¥½ï¼Œåƒé¥±äº†ç²¾ç¥å¥½ï¼":e<17?"ä¸‹åˆå¥½ï¼Œç»§ç»­åŠ æ²¹ï¼":e<19?"å‚æ™šå¥½ï¼Œæ˜¯æ—¶å€™æ”¾æ¾ä¸€ä¸‹äº†ï¼":e<22?"æ™šä¸Šå¥½ï¼Œæ˜¯æ—¶å€™ä¼‘æ¯äº†ï¼":"å¤œæ·±äº†ï¼Œæ˜å¤©ç»§ç»­åŠ æ²¹ï¼",t},Tt={xml:!1,decodeEntities:!0},St={_useHtmlParser2:!0,xmlMode:!0};function At(e){return(null==e?void 0:e.xml)?"boolean"==typeof e.xml?St:{...St,...e.xml}:null!=e?e:void 0}var _t,kt;(kt=_t||(_t={})).Root="root",kt.Text="text",kt.Directive="directive",kt.Comment="comment",kt.Script="script",kt.Style="style",kt.Tag="tag",kt.CDATA="cdata",kt.Doctype="doctype";const wt=_t.Root,Ot=_t.Text,It=_t.Directive,Rt=_t.Comment,Ct=_t.Script,Pt=_t.Style,Nt=_t.Tag,xt=_t.CDATA,Dt=_t.Doctype;class Lt{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(e){this.parent=e}get previousSibling(){return this.prev}set previousSibling(e){this.prev=e}get nextSibling(){return this.next}set nextSibling(e){this.next=e}cloneNode(e=!1){return Xt(this,e)}}class Mt extends Lt{constructor(e){super(),this.data=e}get nodeValue(){return this.data}set nodeValue(e){this.data=e}}class Ft extends Mt{constructor(){super(...arguments),this.type=_t.Text}get nodeType(){return 3}}class jt extends Mt{constructor(){super(...arguments),this.type=_t.Comment}get nodeType(){return 8}}class $t extends Mt{constructor(e,t){super(t),this.name=e,this.type=_t.Directive}get nodeType(){return 1}}class Bt extends Lt{constructor(e){super(),this.children=e}get firstChild(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(e){this.children=e}}class Ut extends Bt{constructor(){super(...arguments),this.type=_t.CDATA}get nodeType(){return 4}}class Ht extends Bt{constructor(){super(...arguments),this.type=_t.Root}get nodeType(){return 9}}class qt extends Bt{constructor(e,t,n=[],r=("script"===e?_t.Script:"style"===e?_t.Style:_t.Tag)){super(n),this.name=e,this.attribs=t,this.type=r}get nodeType(){return 1}get tagName(){return this.name}set tagName(e){this.name=e}get attributes(){return Object.keys(this.attribs).map((e=>{var t,n;return{name:e,value:this.attribs[e],namespace:null===(t=this["x-attribsNamespace"])||void 0===t?void 0:t[e],prefix:null===(n=this["x-attribsPrefix"])||void 0===n?void 0:n[e]}}))}}function Gt(e){return(t=e).type===_t.Tag||t.type===_t.Script||t.type===_t.Style;var t}function Wt(e){return e.type===_t.CDATA}function Qt(e){return e.type===_t.Text}function Vt(e){return e.type===_t.Comment}function Yt(e){return e.type===_t.Directive}function zt(e){return e.type===_t.Root}function Kt(e){return Object.prototype.hasOwnProperty.call(e,"children")}function Xt(e,t=!1){let n;if(Qt(e))n=new Ft(e.data);else if(Vt(e))n=new jt(e.data);else if(Gt(e)){const r=t?Jt(e.children):[],i=new qt(e.name,{...e.attribs},r);r.forEach((e=>e.parent=i)),null!=e.namespace&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]={...e["x-attribsPrefix"]}),n=i}else if(Wt(e)){const r=t?Jt(e.children):[],i=new Ut(r);r.forEach((e=>e.parent=i)),n=i}else if(zt(e)){const r=t?Jt(e.children):[],i=new Ht(r);r.forEach((e=>e.parent=i)),e["x-mode"]&&(i["x-mode"]=e["x-mode"]),n=i}else{if(!Yt(e))throw new Error(`Not implemented yet: ${e.type}`);{const t=new $t(e.name,e.data);null!=e["x-name"]&&(t["x-name"]=e["x-name"],t["x-publicId"]=e["x-publicId"],t["x-systemId"]=e["x-systemId"]),n=t}}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function Jt(e){const t=e.map((e=>Xt(e,!0)));for(let n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}const Zt={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class en{constructor(e,t,n){this.dom=[],this.root=new Ht(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(n=t,t=Zt),"object"==typeof e&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:Zt,this.elementCB=null!=n?n:null}onparserinit(e){this.parser=e}onreset(){this.dom=[],this.root=new Ht(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(e){this.handleCallback(e)}onclosetag(){this.lastNode=null;const e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)}onopentag(e,t){const n=this.options.xmlMode?_t.Tag:void 0,r=new qt(e,t,void 0,n);this.addNode(r),this.tagStack.push(r)}ontext(e){const{lastNode:t}=this;if(t&&t.type===_t.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{const t=new Ft(e);this.addNode(t),this.lastNode=t}}oncomment(e){if(this.lastNode&&this.lastNode.type===_t.Comment)return void(this.lastNode.data+=e);const t=new jt(e);this.addNode(t),this.lastNode=t}oncommentend(){this.lastNode=null}oncdatastart(){const e=new Ft(""),t=new Ut([e]);this.addNode(t),e.parent=t,this.lastNode=e}oncdataend(){this.lastNode=null}onprocessinginstruction(e,t){const n=new $t(e,t);this.addNode(n)}handleCallback(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e}addNode(e){const t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null}}const tn=new Uint16Array('áµ<Ã•Ä±ÊŠÒÕ»×ÙµÛŞ¢ß–à à©Šàª‘à¶¡à¹­à¼‰à¼¦áƒŠáˆ¨á‹¡á•á’á“ƒá“Ÿá”¥\0\0\0\0\0\0á•«á›á¦á°’á·á½¾â â†°âŠâ€â»â‘‚â ¤â¤’â´ˆâ¹ˆâ¿ã€–ãŠºã˜¹ã¬ã£¾ã¨¨ã©±ã« ã¬®à €EMabcfglmnoprstu\\bfmsÂ„Â‹ÂÂ•Â˜Â¦Â³Â¹ÃˆÃligè€»Ã†äƒ†Pè€»&ä€¦cuteè€»Ãäƒreve;ä„‚Ä€iyx}rcè€»Ã‚äƒ‚;är;ì€€ğ”„raveè€»Ã€äƒ€pha;ä‘acr;ä„€d;æ©“Ä€gpÂÂ¡on;ä„„f;ì€€ğ”¸plyFunction;æ¡ingè€»Ã…äƒ…Ä€csÂ¾Ãƒr;ì€€ğ’œign;æ‰”ildeè€»Ãƒäƒƒmlè€»Ã„äƒ„Ğ€aceforsuÃ¥Ã»Ã¾Ä—ÄœÄ¢Ä§ÄªÄ€crÃªÃ²kslash;æˆ–Å¶Ã¶Ã¸;æ«§ed;æŒ†y;ä‘Æ€crtÄ…Ä‹Ä”ause;æˆµnoullis;æ„¬a;ä’r;ì€€ğ”…pf;ì€€ğ”¹eve;ä‹˜cÃ²Ä“mpeq;æ‰Ü€HOacdefhilorsuÅÅ‘Å–Æ€ÆÆ¢ÆµÆ·ÆºÇœÈ•É³É¸É¾cy;ä§PYè€»Â©ä‚©Æ€cpyÅÅ¢Åºute;ä„†Ä€;iÅ§Å¨æ‹’talDifferentialD;æ……leys;æ„­È€aeioÆ‰ÆÆ”Æ˜ron;ä„Œdilè€»Ã‡äƒ‡rc;ä„ˆnint;æˆ°ot;ä„ŠÄ€dnÆ§Æ­illa;ä‚¸terDot;ä‚·Ã²Å¿i;ä§rcleÈ€DMPTÇ‡Ç‹Ç‘Ç–ot;æŠ™inus;æŠ–lus;æŠ•imes;æŠ—oÄ€csÇ¢Ç¸kwiseContourIntegral;æˆ²eCurlyÄ€DQÈƒÈoubleQuote;æ€uote;æ€™È€lnpuÈÈ¨É‡É•onÄ€;eÈ¥È¦æˆ·;æ©´Æ€gitÈ¯È¶Èºruent;æ‰¡nt;æˆ¯ourIntegral;æˆ®Ä€frÉŒÉ;æ„‚oduct;æˆnterClockwiseContourIntegral;æˆ³oss;æ¨¯cr;ì€€ğ’pÄ€;CÊ„Ê…æ‹“ap;æ‰Ö€DJSZacefiosÊ Ê¬Ê°Ê´Ê¸Ë‹Ë—Ë¡Ë¦Ì³ÒÄ€;oÅ¹Ê¥trahd;æ¤‘cy;ä‚cy;ä…cy;äÆ€grsÊ¿Ë„Ë‡ger;æ€¡r;æ†¡hv;æ«¤Ä€ayËË•ron;ä„;ä”lÄ€;tËËæˆ‡a;ä”r;ì€€ğ”‡Ä€afË«Ì§Ä€cmË°Ì¢riticalÈ€ADGTÌ€Ì†Ì–Ìœcute;ä‚´oÅ´Ì‹Ì;ä‹™bleAcute;ä‹rave;ä ilde;ä‹œond;æ‹„ferentialD;æ…†Ñ°Ì½\0\0\0Í‚Í”\0Ğ…f;ì€€ğ”»Æ€;DEÍˆÍ‰Íä‚¨ot;æƒœqual;æ‰bleÌ€CDLRUVÍ£Í²Î‚ÏÏ¢Ï¸ontourIntegraÃ¬È¹oÉ´Í¹\0\0Í»Â»Í‰nArrow;æ‡“Ä€eoÎ‡Î¤ftÆ€ARTÎÎ–Î¡rrow;æ‡ightArrow;æ‡”eÃ¥ËŠngÄ€LRÎ«Ï„eftÄ€ARÎ³Î¹rrow;æŸ¸ightArrow;æŸºightArrow;æŸ¹ightÄ€ATÏ˜Ïrrow;æ‡’ee;æŠ¨pÉÏ©\0\0Ï¯rrow;æ‡‘ownArrow;æ‡•erticalBar;æˆ¥nÌ€ABLRTaĞ’ĞªĞ°ÑÑ¿Í¼rrowÆ€;BUĞĞĞ¢æ†“ar;æ¤“pArrow;æ‡µreve;äŒ‘eftË’Ğº\0Ñ†\0ÑightVector;æ¥eeVector;æ¥ectorÄ€;BÑ™Ñšæ†½ar;æ¥–ightÇ”Ñ§\0Ñ±eeVector;æ¥ŸectorÄ€;BÑºÑ»æ‡ar;æ¥—eeÄ€;AÒ†Ò‡æŠ¤rrow;æ†§Ä€ctÒ’Ò—r;ì€€ğ’Ÿrok;ä„à €NTacdfglmopqstuxÒ½Ó€Ó„Ó‹ÓÓ¢Ó§Ó®ÓµÔ¡Ô¯Ô¶Õ’ÕÕ Õ¥G;ä…ŠHè€»Ãäƒcuteè€»Ã‰äƒ‰Æ€aiyÓ’Ó—Óœron;ä„šrcè€»ÃŠäƒŠ;ä­ot;ä„–r;ì€€ğ”ˆraveè€»Ãˆäƒˆement;æˆˆÄ€apÓºÓ¾cr;ä„’tyÉ“Ô†\0\0Ô’mallSquare;æ—»erySmallSquare;æ–«Ä€gpÔ¦Ôªon;ä„˜f;ì€€ğ”¼silon;ä•uÄ€aiÔ¼Õ‰lÄ€;TÕ‚Õƒæ©µilde;æ‰‚librium;æ‡ŒÄ€ciÕ—Õšr;æ„°m;æ©³a;ä—mlè€»Ã‹äƒ‹Ä€ipÕªÕ¯sts;æˆƒonentialE;æ…‡Ê€cfiosÖ…ÖˆÖÖ²×Œy;ä¤r;ì€€ğ”‰lledÉ“Ö—\0\0Ö£mallSquare;æ—¼erySmallSquare;æ–ªÍ°Öº\0Ö¿\0\0×„f;ì€€ğ”½All;æˆ€riertrf;æ„±cÃ²×‹Ø€JTabcdfgorst×¨×¬×¯×ºØ€Ø’Ø–Ø›ØØ£Ù¬Ù²cy;äƒè€»>ä€¾mmaÄ€;d×·×¸ä“;äœreve;ä„Æ€eiyØ‡ØŒØdil;ä„¢rc;ä„œ;ä“ot;ä„ r;ì€€ğ”Š;æ‹™pf;ì€€ğ”¾eaterÌ€EFGLSTØµÙ„ÙÙ–Ù›Ù¦qualÄ€;LØ¾Ø¿æ‰¥ess;æ‹›ullEqual;æ‰§reater;æª¢ess;æ‰·lantEqual;æ©¾ilde;æ‰³cr;ì€€ğ’¢;æ‰«Ğ€AacfiosuÚ…Ú‹Ú–Ú›ÚÚªÚ¾ÛŠRDcy;äªÄ€ctÚÚ”ek;ä‹‡;äirc;ä„¤r;æ„ŒlbertSpace;æ„‹Ç°Ú¯\0Ú²f;æ„izontalLine;æ”€Ä€ctÛƒÛ…Ã²Ú©rok;ä„¦mpÅ„ÛÛ˜ownHumÃ°Ä¯qual;æ‰Ü€EJOacdfgmnostuÛºÛ¾ÜƒÜ‡ÜÜšÜÜ¡Ü¨İ„İ¸Ş‹ŞŞ•cy;ä•lig;ä„²cy;äcuteè€»ÃäƒÄ€iyÜ“Ü˜rcè€»Ãäƒ;ä˜ot;ä„°r;æ„‘raveè€»ÃŒäƒŒÆ€;apÜ Ü¯Ü¿Ä€cgÜ´Ü·r;ä„ªinaryI;æ…ˆlieÃ³ÏÇ´İ‰\0İ¢Ä€;eİİæˆ¬Ä€grİ“İ˜ral;æˆ«section;æ‹‚isibleÄ€CTİ¬İ²omma;æ£imes;æ¢Æ€gptİ¿ŞƒŞˆon;ä„®f;ì€€ğ•€a;ä™cr;æ„ilde;ä„¨Ç«Şš\0Şcy;ä†lè€»ÃäƒÊ€cfosuŞ¬Ş·Ş¼ß‚ßÄ€iyŞ±Şµrc;ä„´;ä™r;ì€€ğ”pf;ì€€ğ•Ç£ß‡\0ßŒr;ì€€ğ’¥rcy;äˆkcy;ä„Î€HJacfosß¤ß¨ß¬ß±ß½à ‚à ˆcy;ä¥cy;äŒppa;äšÄ€eyß¶ß»dil;ä„¶;äšr;ì€€ğ”pf;ì€€ğ•‚cr;ì€€ğ’¦Ö€JTaceflmostà ¥à ©à ¬à¡à¡£à¦³à¦¸à§‡à§à¨·à©‡cy;ä‰è€»<ä€¼Ê€cmnprà ·à ¼à¡à¡„à¡ute;ä„¹bda;ä›g;æŸªlacetrf;æ„’r;æ†Æ€aeyà¡—à¡œà¡¡ron;ä„½dil;ä„»;ä›Ä€fsà¡¨à¥°tÔ€ACDFRTUVarà¡¾à¢©à¢±à£ à£¦à£¼à¤¯à¥›Îà¥ªÄ€nrà¢ƒà¢gleBracket;æŸ¨rowÆ€;BRà¢™à¢šà¢æ†ar;æ‡¤ightArrow;æ‡†eiling;æŒˆoÇµà¢·\0à£ƒbleBracket;æŸ¦nÇ”à£ˆ\0à£’eeVector;æ¥¡ectorÄ€;Bà£›à£œæ‡ƒar;æ¥™loor;æŒŠightÄ€AVà£¯à£µrrow;æ†”ector;æ¥Ä€erà¤à¤—eÆ€;AVà¤‰à¤Šà¤æŠ£rrow;æ†¤ector;æ¥šiangleÆ€;BEà¤¤à¤¥à¤©æŠ²ar;æ§qual;æŠ´pÆ€DTVà¤·à¥‚à¥ŒownVector;æ¥‘eeVector;æ¥ ectorÄ€;Bà¥–à¥—æ†¿ar;æ¥˜ectorÄ€;Bà¥¥à¥¦æ†¼ar;æ¥’ightÃ¡ÎœsÌ€EFGLSTà¥¾à¦‹à¦•à¦à¦¢à¦­qualGreater;æ‹šullEqual;æ‰¦reater;æ‰¶ess;æª¡lantEqual;æ©½ilde;æ‰²r;ì€€ğ”Ä€;eà¦½à¦¾æ‹˜ftarrow;æ‡šidot;ä„¿Æ€npwà§”à¨–à¨›gÈ€LRlrà§à§·à¨‚à¨eftÄ€ARà§¦à§¬rrow;æŸµightArrow;æŸ·ightArrow;æŸ¶eftÄ€arÎ³à¨ŠightÃ¡Î¿ightÃ¡ÏŠf;ì€€ğ•ƒerÄ€LRà¨¢à¨¬eftArrow;æ†™ightArrow;æ†˜Æ€chtà¨¾à©€à©‚Ã²à¡Œ;æ†°rok;ä…;æ‰ªĞ€acefiosuà©šà©à© à©·à©¼àª…àª‹àªp;æ¤…y;äœÄ€dlà©¥à©¯iumSpace;æŸlintrf;æ„³r;ì€€ğ”nusPlus;æˆ“pf;ì€€ğ•„cÃ²à©¶;äœÒ€Jacefostuàª£àª§àª­à«€à¬”à¬™à¶‘à¶—à¶cy;äŠcute;ä…ƒÆ€aeyàª´àª¹àª¾ron;ä…‡dil;ä……;äÆ€gswà«‡à«°à¬ativeÆ€MTVà«“à«Ÿà«¨ediumSpace;æ€‹hiÄ€cnà«¦à«˜Ã«à«™eryThiÃ®à«™tedÄ€GLà«¸à¬†reaterGreateÃ²Ù³essLesÃ³à©ˆLine;ä€Šr;ì€€ğ”‘È€Bnptà¬¢à¬¨à¬·à¬ºreak;æ BreakingSpace;ä‚ f;æ„•Ú€;CDEGHLNPRSTVà­•à­–à­ªà­¼à®¡à¯«à°„à±à²„à²¦à³˜àµ¡à¶…æ«¬Ä€ouà­›à­¤ngruent;æ‰¢pCap;æ‰­oubleVerticalBar;æˆ¦Æ€lqxà®ƒà®Šà®›ement;æˆ‰ualÄ€;Tà®’à®“æ‰ ilde;ì€€â‰‚Ì¸ists;æˆ„reaterÎ€;EFGLSTà®¶à®·à®½à¯‰à¯“à¯˜à¯¥æ‰¯qual;æ‰±ullEqual;ì€€â‰§Ì¸reater;ì€€â‰«Ì¸ess;æ‰¹lantEqual;ì€€â©¾Ì¸ilde;æ‰µumpÅ„à¯²à¯½ownHump;ì€€â‰Ì¸qual;ì€€â‰Ì¸eÄ€fsà°Šà°§tTriangleÆ€;BEà°šà°›à°¡æ‹ªar;ì€€â§Ì¸qual;æ‹¬sÌ€;EGLSTà°µà°¶à°¼à±„à±‹à±˜æ‰®qual;æ‰°reater;æ‰¸ess;ì€€â‰ªÌ¸lantEqual;ì€€â©½Ì¸ilde;æ‰´estedÄ€GLà±¨à±¹reaterGreater;ì€€âª¢Ì¸essLess;ì€€âª¡Ì¸recedesÆ€;ESà²’à²“à²›æŠ€qual;ì€€âª¯Ì¸lantEqual;æ‹ Ä€eià²«à²¹verseElement;æˆŒghtTriangleÆ€;BEà³‹à³Œà³’æ‹«ar;ì€€â§Ì¸qual;æ‹­Ä€quà³à´ŒuareSuÄ€bpà³¨à³¹setÄ€;Eà³°à³³ì€€âŠÌ¸qual;æ‹¢ersetÄ€;Eà´ƒà´†ì€€âŠÌ¸qual;æ‹£Æ€bcpà´“à´¤àµsetÄ€;Eà´›à´ì€€âŠ‚âƒ’qual;æŠˆceedsÈ€;ESTà´²à´³à´»àµ†æŠqual;ì€€âª°Ì¸lantEqual;æ‹¡ilde;ì€€â‰¿Ì¸ersetÄ€;Eàµ˜àµ›ì€€âŠƒâƒ’qual;æŠ‰ildeÈ€;EFTàµ®àµ¯àµµàµ¿æ‰qual;æ‰„ullEqual;æ‰‡ilde;æ‰‰erticalBar;æˆ¤cr;ì€€ğ’©ildeè€»Ã‘äƒ‘;äÜ€Eacdfgmoprstuvà¶½à·‚à·‰à·•à·›à· à·§à·¼à¸‚à¸ à¸¢à¸²à¸¿à¹„lig;ä…’cuteè€»Ã“äƒ“Ä€iyà·à·“rcè€»Ã”äƒ”;äblac;ä…r;ì€€ğ”’raveè€»Ã’äƒ’Æ€aeià·®à·²à·¶cr;ä…Œga;ä©cron;äŸpf;ì€€ğ•†enCurlyÄ€DQà¸à¸šoubleQuote;æ€œuote;æ€˜;æ©”Ä€clà¸§à¸¬r;ì€€ğ’ªashè€»Ã˜äƒ˜iÅ¬à¸·à¸¼deè€»Ã•äƒ•es;æ¨·mlè€»Ã–äƒ–erÄ€BPà¹‹à¹ Ä€arà¹à¹“r;æ€¾acÄ€ekà¹šà¹œ;æet;æ´arenthesis;æœÒ€acfhilorsà¹¿àº‡àºŠàºàº’àº”àºàº°à»¼rtialD;æˆ‚y;äŸr;ì€€ğ”“i;ä¦;ä usMinus;ä‚±Ä€ipàº¢àº­ncareplanÃ¥Úf;æ„™È€;eioàº¹àººà» à»¤æª»cedesÈ€;ESTà»ˆà»‰à»à»šæ‰ºqual;æª¯lantEqual;æ‰¼ilde;æ‰¾me;æ€³Ä€dpà»©à»®uct;æˆortionÄ€;aÈ¥à»¹l;æˆÄ€cià¼à¼†r;ì€€ğ’«;ä¨È€Ufosà¼‘à¼–à¼›à¼ŸOTè€»"ä€¢r;ì€€ğ””pf;æ„šcr;ì€€ğ’¬Ø€BEacefhiorsuà¼¾à½ƒà½‡à½ à½³à¾§à¾ªà¾­á‚–á‚©á‚´á‚¾arr;æ¤Gè€»Â®ä‚®Æ€cnrà½à½“à½–ute;ä…”g;æŸ«rÄ€;tà½œà½æ† l;æ¤–Æ€aeyà½§à½¬à½±ron;ä…˜dil;ä…–;ä Ä€;và½¸à½¹æ„œerseÄ€EUà¾‚à¾™Ä€lqà¾‡à¾ement;æˆ‹uilibrium;æ‡‹pEquilibrium;æ¥¯rÂ»à½¹o;ä¡ghtĞ€ACDFTUVaà¿à¿«à¿³á€¢á€¨á›á‚‡Ï˜Ä€nrà¿†à¿’gleBracket;æŸ©rowÆ€;BLà¿œà¿à¿¡æ†’ar;æ‡¥eftArrow;æ‡„eiling;æŒ‰oÇµà¿¹\0á€…bleBracket;æŸ§nÇ”á€Š\0á€”eeVector;æ¥ectorÄ€;Bá€á€æ‡‚ar;æ¥•loor;æŒ‹Ä€erá€­áƒeÆ€;AVá€µá€¶á€¼æŠ¢rrow;æ†¦ector;æ¥›iangleÆ€;BEáá‘á•æŠ³ar;æ§qual;æŠµpÆ€DTVá£á®á¸ownVector;æ¥eeVector;æ¥œectorÄ€;Bá‚‚á‚ƒæ†¾ar;æ¥”ectorÄ€;Bá‚‘á‚’æ‡€ar;æ¥“Ä€puá‚›á‚f;æ„ndImplies;æ¥°ightarrow;æ‡›Ä€chá‚¹á‚¼r;æ„›;æ†±leDelayed;æ§´Ú€HOacfhimoqstuáƒ¤áƒ±áƒ·áƒ½á„™á„á…‘á…–á…¡á…§á†µá†»á†¿Ä€Ccáƒ©áƒ®Hcy;ä©y;ä¨FTcy;ä¬cute;ä…šÊ€;aeiyá„ˆá„‰á„á„“á„—æª¼ron;ä… dil;ä…rc;ä…œ;ä¡r;ì€€ğ”–ortÈ€DLRUá„ªá„´á„¾á…‰ownArrowÂ»ĞeftArrowÂ»à¢šightArrowÂ»à¿pArrow;æ†‘gma;ä£allCircle;æˆ˜pf;ì€€ğ•ŠÉ²á…­\0\0á…°t;æˆšareÈ€;ISUá…»á…¼á†‰á†¯æ–¡ntersection;æŠ“uÄ€bpá†á†setÄ€;Eá†—á†˜æŠqual;æŠ‘ersetÄ€;Eá†¨á†©æŠqual;æŠ’nion;æŠ”cr;ì€€ğ’®ar;æ‹†È€bcmpá‡ˆá‡›áˆ‰áˆ‹Ä€;sá‡á‡æ‹etÄ€;Eá‡á‡•qual;æŠ†Ä€chá‡ áˆ…eedsÈ€;ESTá‡­á‡®á‡´á‡¿æ‰»qual;æª°lantEqual;æ‰½ilde;æ‰¿ThÃ¡à¾Œ;æˆ‘Æ€;esáˆ’áˆ“áˆ£æ‹‘rsetÄ€;EáˆœáˆæŠƒqual;æŠ‡etÂ»áˆ“Ö€HRSacfhiorsáˆ¾á‰„á‰‰á‰•á‰á‰±á‰¶áŠŸá‹‚á‹ˆá‹‘ORNè€»ÃäƒADE;æ„¢Ä€Hcá‰á‰’cy;ä‹y;ä¦Ä€buá‰šá‰œ;ä€‰;ä¤Æ€aeyá‰¥á‰ªá‰¯ron;ä…¤dil;ä…¢;ä¢r;ì€€ğ”—Ä€eiá‰»áŠ‰Ç²áŠ€\0áŠ‡efore;æˆ´a;ä˜Ä€cnáŠáŠ˜kSpace;ì€€âŸâ€ŠSpace;æ€‰ldeÈ€;EFTáŠ«áŠ¬áŠ²áŠ¼æˆ¼qual;æ‰ƒullEqual;æ‰…ilde;æ‰ˆpf;ì€€ğ•‹ipleDot;æƒ›Ä€ctá‹–á‹›r;ì€€ğ’¯rok;ä…¦à«¡á‹·áŒáŒšáŒ¦\0áŒ¬áŒ±\0\0\0\0\0áŒ¸áŒ½á·á…\0á¿á„áŠáÄ€crá‹»áŒuteè€»ÃšäƒšrÄ€;oáŒ‡áŒˆæ†Ÿcir;æ¥‰rÇ£áŒ“\0áŒ–y;äve;ä…¬Ä€iyáŒáŒ£rcè€»Ã›äƒ›;ä£blac;ä…°r;ì€€ğ”˜raveè€»Ã™äƒ™acr;ä…ªÄ€diáá©erÄ€BPáˆáÄ€aráár;äŸacÄ€eká—á™;æŸet;æµarenthesis;æonÄ€;Pá°á±æ‹ƒlus;æŠÄ€gpá»á¿on;ä…²f;ì€€ğ•ŒĞ€ADETadpsá•á®á¸á„Ï¨á’á—á³rrowÆ€;BDá…á á¤ar;æ¤’ownArrow;æ‡…ownArrow;æ†•quilibrium;æ¥®eeÄ€;Aá‹áŒæŠ¥rrow;æ†¥ownÃ¡Ï³erÄ€LRáá¨eftArrow;æ†–ightArrow;æ†—iÄ€;lá¹áºä’on;ä¥ing;ä…®cr;ì€€ğ’°ilde;ä…¨mlè€»ÃœäƒœÒ€Dbcdefosvá§á¬á°á³á¾á’…á’Šá’á’–ash;æŠ«ar;æ««y;ä’ashÄ€;lá»á¼æŠ©;æ«¦Ä€erá‘ƒá‘…;æ‹Æ€btyá‘Œá‘á‘ºar;æ€–Ä€;iá‘á‘•calÈ€BLSTá‘¡á‘¥á‘ªá‘´ar;æˆ£ine;ä¼eparator;æ˜ilde;æ‰€ThinSpace;æ€Šr;ì€€ğ”™pf;ì€€ğ•cr;ì€€ğ’±dash;æŠªÊ€cefosá’§á’¬á’±á’¶á’¼irc;ä…´dge;æ‹€r;ì€€ğ”špf;ì€€ğ•cr;ì€€ğ’²È€fiosá“‹á“á“’á“˜r;ì€€ğ”›;äpf;ì€€ğ•cr;ì€€ğ’³Ò€AIUacfosuá“±á“µá“¹á“½á”„á”á””á”šá” cy;ä¯cy;ä‡cy;ä®cuteè€»ÃäƒÄ€iyá”‰á”rc;ä…¶;ä«r;ì€€ğ”œpf;ì€€ğ•cr;ì€€ğ’´ml;ä…¸Ğ€Hacdefosá”µá”¹á”¿á•‹á•á•á• á•¤cy;ä–cute;ä…¹Ä€ayá•„á•‰ron;ä…½;ä—ot;ä…»Ç²á•”\0á•›oWidtÃ¨à«™a;ä–r;æ„¨pf;æ„¤cr;ì€€ğ’µà¯¡á–ƒá–Šá–\0á–°á–¶á–¿\0\0\0\0á—†á—›á—«á™Ÿá™­\0áš•áš›áš²áš¹\0áš¾cuteè€»Ã¡äƒ¡reve;ä„ƒÌ€;Ediuyá–œá–á–¡á–£á–¨á–­æˆ¾;ì€€âˆ¾Ì³;æˆ¿rcè€»Ã¢äƒ¢teè‚»Â´Ì†;ä°ligè€»Ã¦äƒ¦Ä€;rÂ²á–º;ì€€ğ”raveè€»Ã äƒ Ä€epá—Šá—–Ä€fpá—á—”sym;æ„µÃ¨á—“ha;ä±Ä€apá—ŸcÄ€clá—¤á—§r;ä„g;æ¨¿É¤á—°\0\0á˜ŠÊ€;adsvá—ºá—»á—¿á˜á˜‡æˆ§nd;æ©•;æ©œlope;æ©˜;æ©šÎ€;elmrszá˜˜á˜™á˜›á˜á˜¿á™á™™æˆ ;æ¦¤eÂ»á˜™sdÄ€;aá˜¥á˜¦æˆ¡Ñ¡á˜°á˜²á˜´á˜¶á˜¸á˜ºá˜¼á˜¾;æ¦¨;æ¦©;æ¦ª;æ¦«;æ¦¬;æ¦­;æ¦®;æ¦¯tÄ€;vá™…á™†æˆŸbÄ€;dá™Œá™æŠ¾;æ¦Ä€ptá™”á™—h;æˆ¢Â»Â¹arr;æ¼Ä€gpá™£á™§on;ä„…f;ì€€ğ•’Î€;Eaeiopá‹á™»á™½áš‚áš„áš‡ášŠ;æ©°cir;æ©¯;æ‰Šd;æ‰‹s;ä€§roxÄ€;eá‹áš’Ã±ášƒingè€»Ã¥äƒ¥Æ€ctyáš¡áš¦áš¨r;ì€€ğ’¶;ä€ªmpÄ€;eá‹áš¯Ã±Êˆildeè€»Ã£äƒ£mlè€»Ã¤äƒ¤Ä€ciá›‚á›ˆoninÃ´É²nt;æ¨‘à €Nabcdefiklnoprsuá›­á›±áœ°áœ¼áƒáˆá¸á½áŸ áŸ¦á ¹á¡áœá¤½á¥ˆá¥°ot;æ«­Ä€crá›¶áœkÈ€cepsáœ€áœ…áœáœ“ong;æ‰Œpsilon;ä¶rime;æ€µimÄ€;eáœšáœ›æˆ½q;æ‹Å¶áœ¢áœ¦ee;æŠ½edÄ€;gáœ¬áœ­æŒ…eÂ»áœ­rkÄ€;táœáœ·brk;æ¶Ä€oyáœá;ä±quo;æ€Ê€cmprtá“á›á¡á¤á¨ausÄ€;eÄŠÄ‰ptyv;æ¦°sÃ©áœŒnoÃµÄ“Æ€ahwá¯á±á³;ä²;æ„¶een;æ‰¬r;ì€€ğ”ŸgÎ€costuvwááá³áŸáŸ•áŸ›áŸÆ€aiuá”á–ášÃ°İ rc;æ—¯pÂ»á±Æ€dptá¤á¨á­ot;æ¨€lus;æ¨imes;æ¨‚É±á¹\0\0á¾cup;æ¨†ar;æ˜…riangleÄ€duáŸáŸ’own;æ–½p;æ–³plus;æ¨„eÃ¥á‘„Ã¥á’­arow;æ¤Æ€akoáŸ­á ¦á µÄ€cnáŸ²á £kÆ€lstáŸºÖ«á ‚ozenge;æ§«riangleÈ€;dlrá ’á “á ˜á æ–´own;æ–¾eft;æ—‚ight;æ–¸k;æ£Æ±á «\0á ³Æ²á ¯\0á ±;æ–’;æ–‘4;æ–“ck;æ–ˆÄ€eoá ¾á¡Ä€;qá¡ƒá¡†ì€€=âƒ¥uiv;ì€€â‰¡âƒ¥t;æŒÈ€ptwxá¡™á¡á¡§á¡¬f;ì€€ğ•“Ä€;tá‹á¡£omÂ»áŒtie;æ‹ˆØ€DHUVbdhmptuvá¢…á¢–á¢ªá¢»á£—á£›á£¬á£¿á¤…á¤Šá¤á¤¡È€LRlrá¢á¢á¢’á¢”;æ•—;æ•”;æ•–;æ•“Ê€;DUduá¢¡á¢¢á¢¤á¢¦á¢¨æ•;æ•¦;æ•©;æ•¤;æ•§È€LRlrá¢³á¢µá¢·á¢¹;æ•;æ•š;æ•œ;æ•™Î€;HLRhlrá£Šá£‹á£á£á£‘á£“á£•æ•‘;æ•¬;æ•£;æ• ;æ•«;æ•¢;æ•Ÿox;æ§‰È€LRlrá£¤á£¦á£¨á£ª;æ••;æ•’;æ”;æ”ŒÊ€;DUduÚ½á£·á£¹á£»á£½;æ•¥;æ•¨;æ”¬;æ”´inus;æŠŸlus;æŠimes;æŠ È€LRlrá¤™á¤›á¤á¤Ÿ;æ•›;æ•˜;æ”˜;æ””Î€;HLRhlrá¤°á¤±á¤³á¤µá¤·á¤¹á¤»æ”‚;æ•ª;æ•¡;æ•;æ”¼;æ”¤;æ”œÄ€evÄ£á¥‚barè€»Â¦ä‚¦È€ceioá¥‘á¥–á¥šá¥ r;ì€€ğ’·mi;æmÄ€;eáœšáœœlÆ€;bhá¥¨á¥©á¥«äœ;æ§…sub;æŸˆÅ¬á¥´á¥¾lÄ€;eá¥¹á¥ºæ€¢tÂ»á¥ºpÆ€;EeÄ¯á¦…á¦‡;æª®Ä€;qÛœÛ›à³¡á¦§\0á§¨á¨‘á¨•á¨²\0á¨·á©\0\0áª´\0\0á«\0\0á¬¡á¬®á­á­’\0á¯½\0á°ŒÆ€cprá¦­á¦²á§ute;ä„‡Ì€;abcdsá¦¿á§€á§„á§Šá§•á§™æˆ©nd;æ©„rcup;æ©‰Ä€auá§á§’p;æ©‹p;æ©‡ot;æ©€;ì€€âˆ©ï¸€Ä€eoá§¢á§¥t;æÃ®Ú“È€aeiuá§°á§»á¨á¨…Ç°á§µ\0á§¸s;æ©on;ä„dilè€»Ã§äƒ§rc;ä„‰psÄ€;sá¨Œá¨æ©Œm;æ©ot;ä„‹Æ€dmná¨›á¨ á¨¦ilè‚»Â¸Æ­ptyv;æ¦²tè„€Â¢;eá¨­á¨®ä‚¢rÃ¤Æ²r;ì€€ğ” Æ€ceiá¨½á©€á©y;ä‘‡ckÄ€;má©‡á©ˆæœ“arkÂ»á©ˆ;ä‡rÎ€;Ecefmsá©Ÿá© á©¢á©«áª¤áªªáª®æ—‹;æ§ƒÆ€;elá©©á©ªá©­ä‹†q;æ‰—eÉ¡á©´\0\0áªˆrrowÄ€lrá©¼áªeft;æ†ºight;æ†»Ê€RSacdáª’áª”áª–áªšáªŸÂ»à½‡;æ“ˆst;æŠ›irc;æŠšash;æŠnint;æ¨id;æ«¯cir;æ§‚ubsÄ€;uáª»áª¼æ™£itÂ»áª¼Ë¬á«‡á«”á«º\0á¬ŠonÄ€;eá«á«ä€ºÄ€;qÃ‡Ã†É­á«™\0\0á«¢aÄ€;tá«á«Ÿä€¬;ä€Æ€;flá«¨á«©á««æˆÃ®á… eÄ€mxá«±á«¶entÂ»á«©eÃ³ÉÇ§á«¾\0á¬‡Ä€;dáŠ»á¬‚ot;æ©­nÃ´É†Æ€fryá¬á¬”á¬—;ì€€ğ•”oÃ¤É”è„€Â©;sÅ•á¬r;æ„—Ä€aoá¬¥á¬©rr;æ†µss;æœ—Ä€cuá¬²á¬·r;ì€€ğ’¸Ä€bpá¬¼á­„Ä€;eá­á­‚æ«;æ«‘Ä€;eá­‰á­Šæ«;æ«’dot;æ‹¯Î€delprvwá­ á­¬á­·á®‚á®¬á¯”á¯¹arrÄ€lrá­¨á­ª;æ¤¸;æ¤µÉ°á­²\0\0á­µr;æ‹c;æ‹ŸarrÄ€;pá­¿á®€æ†¶;æ¤½Ì€;bcdosá®á®á®–á®¡á®¥á®¨æˆªrcap;æ©ˆÄ€auá®›á®p;æ©†p;æ©Šot;æŠr;æ©…;ì€€âˆªï¸€È€alrvá®µá®¿á¯á¯£rrÄ€;má®¼á®½æ†·;æ¤¼yÆ€evwá¯‡á¯”á¯˜qÉ°á¯\0\0á¯’reÃ£á­³uÃ£á­µee;æ‹edge;æ‹enè€»Â¤ä‚¤earrowÄ€lrá¯®á¯³eftÂ»á®€ightÂ»á®½eÃ¤á¯Ä€ciá°á°‡oninÃ´Ç·nt;æˆ±lcty;æŒ­à¦€AHabcdefhijlorstuwzá°¸á°»á°¿á±á±©á±µá²Šá²á²¬á²·á³»á³¿á´áµ»á¶‘á¶«á¶»á·†á·rÃ²Îar;æ¥¥È€glrsá±ˆá±á±’á±”ger;æ€ eth;æ„¸Ã²á„³hÄ€;vá±šá±›æ€Â»à¤ŠÅ«á±¡á±§arow;æ¤aÃ£Ì•Ä€ayá±®á±³ron;ä„;ä´Æ€;aoÌ²á±¼á²„Ä€grÊ¿á²r;æ‡Štseq;æ©·Æ€glmá²‘á²”á²˜è€»Â°ä‚°ta;ä´ptyv;æ¦±Ä€irá²£á²¨sht;æ¥¿;ì€€ğ”¡arÄ€lrá²³á²µÂ»à£œÂ»á€Ê€aegsvá³‚Í¸á³–á³œá³ mÆ€;osÌ¦á³Šá³”ndÄ€;sÌ¦á³‘uit;æ™¦amma;äin;æ‹²Æ€;ioá³§á³¨á³¸äƒ·deè„€Ã·;oá³§á³°ntimes;æ‹‡nÃ¸á³·cy;ä‘’cÉ¯á´†\0\0á´Šrn;æŒop;æŒÊ€lptuwá´˜á´á´¢áµ‰áµ•lar;ä€¤f;ì€€ğ••Ê€;empsÌ‹á´­á´·á´½áµ‚qÄ€;dÍ’á´³ot;æ‰‘inus;æˆ¸lus;æˆ”quare;æŠ¡blebarwedgÃ¥ÃºnÆ€adhá„®áµáµ§ownarrowÃ³á²ƒarpoonÄ€lráµ²áµ¶efÃ´á²´ighÃ´á²¶Å¢áµ¿á¶…karoÃ·à½‚É¯á¶Š\0\0á¶rn;æŒŸop;æŒŒÆ€cotá¶˜á¶£á¶¦Ä€ryá¶á¶¡;ì€€ğ’¹;ä‘•l;æ§¶rok;ä„‘Ä€drá¶°á¶´ot;æ‹±iÄ€;fá¶ºá –æ–¿Ä€ahá·€á·ƒrÃ²Ğ©aÃ²à¾¦angle;æ¦¦Ä€ciá·’á·•y;ä‘Ÿgrarr;æŸ¿à¤€Dacdefglmnopqrstuxá¸á¸‰á¸™á¸¸Õ¸á¸¼á¹‰á¹¡á¹¾áº¥áº¯áº½á»¡á¼ªá¼·á½„á½á½šÄ€Doá¸†á´´oÃ´á²‰Ä€csá¸á¸”uteè€»Ã©äƒ©ter;æ©®È€aioyá¸¢á¸§á¸±á¸¶ron;ä„›rÄ€;cá¸­á¸®æ‰–è€»Ãªäƒªlon;æ‰•;ä‘ot;ä„—Ä€Drá¹á¹…ot;æ‰’;ì€€ğ”¢Æ€;rsá¹á¹‘á¹—æªšaveè€»Ã¨äƒ¨Ä€;dá¹œá¹æª–ot;æª˜È€;ilsá¹ªá¹«á¹²á¹´æª™nters;æ§;æ„“Ä€;dá¹¹á¹ºæª•ot;æª—Æ€apsáº…áº‰áº—cr;ä„“tyÆ€;sváº’áº“áº•æˆ…etÂ»áº“pÄ€1;áºáº¤Ä³áº¡áº£;æ€„;æ€…æ€ƒÄ€gsáºªáº¬;ä…‹p;æ€‚Ä€gpáº´áº¸on;ä„™f;ì€€ğ•–Æ€alsá»„á»á»’rÄ€;sá»Šá»‹æ‹•l;æ§£us;æ©±iÆ€;lvá»šá»›á»ŸäµonÂ»á»›;äµÈ€csuvá»ªá»³á¼‹á¼£Ä€ioá»¯á¸±rcÂ»á¸®É©á»¹\0\0á»»Ã­ÕˆantÄ€glá¼‚á¼†trÂ»á¹essÂ»á¹ºÆ€aeiá¼’á¼–á¼šls;ä€½st;æ‰ŸvÄ€;DÈµá¼ D;æ©¸parsl;æ§¥Ä€Daá¼¯á¼³ot;æ‰“rr;æ¥±Æ€cdiá¼¾á½á»¸r;æ„¯oÃ´Í’Ä€ahá½‰á½‹;ä·è€»Ã°äƒ°Ä€mrá½“á½—lè€»Ã«äƒ«o;æ‚¬Æ€cipá½¡á½¤á½§l;ä€¡sÃ´Õ®Ä€eoá½¬á½´ctatioÃ®Õ™nentialÃ¥Õ¹à§¡á¾’\0á¾\0á¾¡á¾§\0\0á¿†á¿Œ\0á¿“\0á¿¦á¿ªâ€€\0â€ˆâšllingdotseÃ±á¹„y;ä‘„male;æ™€Æ€ilrá¾­á¾³á¿lig;è€€ï¬ƒÉ©á¾¹\0\0á¾½g;è€€ï¬€ig;è€€ï¬„;ì€€ğ”£lig;è€€ï¬lig;ì€€fjÆ€altá¿™á¿œá¿¡t;æ™­ig;è€€ï¬‚ns;æ–±of;ä†’Ç°á¿®\0á¿³f;ì€€ğ•—Ä€akÖ¿á¿·Ä€;vá¿¼á¿½æ‹”;æ«™artint;æ¨Ä€aoâ€Œâ•Ä€csâ€‘â’Î±â€šâ€°â€¸â…âˆ\0âÎ²â€¢â€¥â€§â€ªâ€¬\0â€®è€»Â½ä‚½;æ…“è€»Â¼ä‚¼;æ…•;æ…™;æ…›Æ³â€´\0â€¶;æ…”;æ…–Ê´â€¾â\0\0âƒè€»Â¾ä‚¾;æ…—;æ…œ5;æ…˜Æ¶âŒ\0â;æ…š;æ…8;æ…l;æ„wn;æŒ¢cr;ì€€ğ’»à¢€Eabcdefgijlnorstvâ‚‚â‚‰â‚Ÿâ‚¥â‚°â‚´âƒ°âƒµâƒºâƒ¿â„ƒâ„’â„¸Ì—â„¾â…’â†Ä€;lÙâ‚‡;æªŒÆ€cmpâ‚â‚•â‚ute;ä‡µmaÄ€;dâ‚œá³šä³;æª†reve;ä„ŸÄ€iyâ‚ªâ‚®rc;ä„;ä³ot;ä„¡È€;lqsØ¾Ù‚â‚½âƒ‰Æ€;qsØ¾ÙŒâƒ„lanÃ´Ù¥È€;cdlÙ¥âƒ’âƒ•âƒ¥c;æª©otÄ€;oâƒœâƒæª€Ä€;lâƒ¢âƒ£æª‚;æª„Ä€;eâƒªâƒ­ì€€â‹›ï¸€s;æª”r;ì€€ğ”¤Ä€;gÙ³Ø›mel;æ„·cy;ä‘“È€;EajÙšâ„Œâ„â„;æª’;æª¥;æª¤È€Eaesâ„›â„â„©â„´;æ‰©pÄ€;pâ„£â„¤æªŠroxÂ»â„¤Ä€;qâ„®â„¯æªˆÄ€;qâ„®â„›im;æ‹§pf;ì€€ğ•˜Ä€ciâ…ƒâ…†r;æ„ŠmÆ€;elÙ«â…â…;æª;æªèŒ€>;cdlqr×®â… â…ªâ…®â…³â…¹Ä€ciâ…¥â…§;æª§r;æ©ºot;æ‹—Par;æ¦•uest;æ©¼Ê€adelsâ†„â…ªâ†Ù–â†›Ç°â†‰\0â†proÃ¸â‚r;æ¥¸qÄ€lqØ¿â†–lesÃ³â‚ˆiÃ­Ù«Ä€enâ†£â†­rtneqq;ì€€â‰©ï¸€Ã…â†ªÔ€Aabcefkosyâ‡„â‡‡â‡±â‡µâ‡ºâˆ˜âˆâˆ¯â‰¨â‰½rÃ²Î È€ilmrâ‡â‡”â‡—â‡›rsÃ°á’„fÂ»â€¤ilÃ´Ú©Ä€drâ‡ â‡¤cy;ä‘ŠÆ€;cwà£´â‡«â‡¯ir;æ¥ˆ;æ†­ar;æ„irc;ä„¥Æ€alrâˆâˆâˆ“rtsÄ€;uâˆ‰âˆŠæ™¥itÂ»âˆŠlip;æ€¦con;æŠ¹r;ì€€ğ”¥sÄ€ewâˆ£âˆ©arow;æ¤¥arow;æ¤¦Ê€amoprâˆºâˆ¾â‰ƒâ‰â‰£rr;æ‡¿tht;æˆ»kÄ€lrâ‰‰â‰“eftarrow;æ†©ightarrow;æ†ªf;ì€€ğ•™bar;æ€•Æ€cltâ‰¯â‰´â‰¸r;ì€€ğ’½asÃ¨â‡´rok;ä„§Ä€bpâŠ‚âŠ‡ull;æƒhenÂ»á±›à«¡âŠ£\0âŠª\0âŠ¸â‹…â‹\0â‹•â‹³\0\0â‹¸âŒ¢â§â¢â¿\0â†âªâ´cuteè€»Ã­äƒ­Æ€;iyİ±âŠ°âŠµrcè€»Ã®äƒ®;ä¸Ä€cxâŠ¼âŠ¿y;äµclè€»Â¡ä‚¡Ä€frÎŸâ‹‰;ì€€ğ”¦raveè€»Ã¬äƒ¬È€;inoÜ¾â‹â‹©â‹®Ä€inâ‹¢â‹¦nt;æ¨Œt;æˆ­fin;æ§œta;æ„©lig;ä„³Æ€aopâ‹¾âŒšâŒÆ€cgtâŒ…âŒˆâŒ—r;ä„«Æ€elpÜŸâŒâŒ“inÃ¥ŞarÃ´Ü h;ä„±f;æŠ·ed;ä†µÊ€;cfotÓ´âŒ¬âŒ±âŒ½âare;æ„…inÄ€;tâŒ¸âŒ¹æˆie;æ§doÃ´âŒ™Ê€;celpİ—âŒââ›â¡al;æŠºÄ€grâ•â™erÃ³á•£Ã£âarhk;æ¨—rod;æ¨¼È€cgptâ¯â²â¶â»y;ä‘‘on;ä„¯f;ì€€ğ•ša;ä¹uestè€»Â¿ä‚¿Ä€ciâŠâr;ì€€ğ’¾nÊ€;EdsvÓ´â›ââ¡Ó³;æ‹¹ot;æ‹µÄ€;vâ¦â§æ‹´;æ‹³Ä€;iİ·â®lde;ä„©Ç«â¸\0â¼cy;ä‘–lè€»Ã¯äƒ¯Ì€cfmosuâŒâ—âœâ¡â§âµÄ€iyâ‘â•rc;ä„µ;ä¹r;ì€€ğ”§ath;äˆ·pf;ì€€ğ•›Ç£â¬\0â±r;ì€€ğ’¿rcy;ä‘˜kcy;ä‘”Ğ€acfghjosâ‹â–â¢â§â­â±âµâ»ppaÄ€;vâ“â”äº;ä°Ä€eyâ›â dil;ä„·;äºr;ì€€ğ”¨reen;ä„¸cy;ä‘…cy;ä‘œpf;ì€€ğ•œcr;ì€€ğ“€à®€ABEHabcdefghjlmnoprstuvâ‘°â’â’†â’â’‘â”â”½â•šâ–€â™â™â™¥â™¹â™½âššâš²â›˜ââ¨â‹âŸ€â â ’Æ€artâ‘·â‘ºâ‘¼rÃ²à§†Ã²Î•ail;æ¤›arr;æ¤Ä€;gà¦”â’‹;æª‹ar;æ¥¢à¥£â’¥\0â’ª\0â’±\0\0\0\0\0â’µâ’º\0â“†â“ˆâ“\0â“¹ute;ä„ºmptyv;æ¦´raÃ®à¡Œbda;ä»gÆ€;dlà¢â“â“ƒ;æ¦‘Ã¥à¢;æª…uoè€»Â«ä‚«rĞ€;bfhlpstà¢™â“â“¦â“©â“«â“®â“±â“µÄ€;fà¢â“£s;æ¤Ÿs;æ¤Ã«â‰’p;æ†«l;æ¤¹im;æ¥³l;æ†¢Æ€;aeâ“¿â”€â”„æª«il;æ¤™Ä€;sâ”‰â”Šæª­;ì€€âª­ï¸€Æ€abrâ”•â”™â”rr;æ¤Œrk;æ²Ä€akâ”¢â”¬cÄ€ekâ”¨â”ª;ä»;ä›Ä€esâ”±â”³;æ¦‹lÄ€duâ”¹â”»;æ¦;æ¦È€aeuyâ•†â•‹â•–â•˜ron;ä„¾Ä€diâ•â•”il;ä„¼Ã¬à¢°Ã¢â”©;ä»È€cqrsâ•£â•¦â•­â•½a;æ¤¶uoÄ€;rà¸™á†Ä€duâ•²â•·har;æ¥§shar;æ¥‹h;æ†²Ê€;fgqsâ–‹â–Œà¦‰â—³â—¿æ‰¤tÊ€ahlrtâ–˜â–¤â–·â—‚â—¨rrowÄ€;tà¢™â–¡aÃ©â“¶arpoonÄ€duâ–¯â–´ownÂ»ÑšpÂ»à¥¦eftarrows;æ‡‡ightÆ€ahsâ—â—–â—rrowÄ€;sà£´à¢§arpoonÃ³à¾˜quigarroÃ·â‡°hreetimes;æ‹‹Æ€;qsâ–‹à¦“â—ºlanÃ´à¦¬Ê€;cdgsà¦¬â˜Šâ˜â˜â˜¨c;æª¨otÄ€;oâ˜”â˜•æ©¿Ä€;râ˜šâ˜›æª;æªƒÄ€;eâ˜¢â˜¥ì€€â‹šï¸€s;æª“Ê€adegsâ˜³â˜¹â˜½â™‰â™‹pproÃ¸â“†ot;æ‹–qÄ€gqâ™ƒâ™…Ã´à¦‰gtÃ²â’ŒÃ´à¦›iÃ­à¦²Æ€ilrâ™•à£¡â™šsht;æ¥¼;ì€€ğ”©Ä€;Eà¦œâ™£;æª‘Å¡â™©â™¶rÄ€duâ–²â™®Ä€;là¥¥â™³;æ¥ªlk;æ–„cy;ä‘™Ê€;achtà©ˆâšˆâš‹âš‘âš–rÃ²â—orneÃ²á´ˆard;æ¥«ri;æ—ºÄ€ioâšŸâš¤dot;ä…€ustÄ€;aâš¬âš­æ°cheÂ»âš­È€Eaesâš»âš½â›‰â›”;æ‰¨pÄ€;pâ›ƒâ›„æª‰roxÂ»â›„Ä€;qâ›â›æª‡Ä€;qâ›âš»im;æ‹¦Ğ€abnoptwzâ›©â›´â›·âœšâœ¯ââ‡âÄ€nrâ›®â›±g;æŸ¬r;æ‡½rÃ«à£gÆ€lmrâ›¿âœâœ”eftÄ€arà§¦âœ‡ightÃ¡à§²apsto;æŸ¼ightÃ¡à§½parrowÄ€lrâœ¥âœ©efÃ´â“­ight;æ†¬Æ€aflâœ¶âœ¹âœ½r;æ¦…;ì€€ğ•us;æ¨­imes;æ¨´Å¡â‹âst;æˆ—Ã¡áÆ€;efâ—â˜á €æ—ŠngeÂ»â˜arÄ€;lâ¤â¥ä€¨t;æ¦“Ê€achmtâ³â¶â¼â…â‡rÃ²à¢¨orneÃ²á¶ŒarÄ€;dà¾˜âƒ;æ¥­;æ€ri;æŠ¿Ì€achiqtâ˜âà©€â¢â®â»quo;æ€¹r;ì€€ğ“mÆ€;egà¦²âªâ¬;æª;æªÄ€buâ”ªâ³oÄ€;rà¸Ÿâ¹;æ€šrok;ä…‚è€<;cdhilqrà «âŸ’â˜¹âŸœâŸ âŸ¥âŸªâŸ°Ä€ciâŸ—âŸ™;æª¦r;æ©¹reÃ¥â—²mes;æ‹‰arr;æ¥¶uest;æ©»Ä€PiâŸµâŸ¹ar;æ¦–Æ€;efâ €à¤­á ›æ—ƒrÄ€duâ ‡â shar;æ¥Šhar;æ¥¦Ä€enâ —â ¡rtneqq;ì€€â‰¨ï¸€Ã…â Ü€Dacdefhilnopsuâ¡€â¡…â¢‚â¢â¢“â¢ â¢¥â¢¨â£šâ£¢â£¤àªƒâ£³â¤‚Dot;æˆºÈ€clprâ¡â¡’â¡£â¡½rè€»Â¯ä‚¯Ä€etâ¡—â¡™;æ™‚Ä€;eâ¡â¡Ÿæœ seÂ»â¡ŸÄ€;sá€»â¡¨toÈ€;dluá€»â¡³â¡·â¡»owÃ®ÒŒefÃ´à¤Ã°á‘ker;æ–®Ä€oyâ¢‡â¢Œmma;æ¨©;ä¼ash;æ€”asuredangleÂ»á˜¦r;ì€€ğ”ªo;æ„§Æ€cdnâ¢¯â¢´â£‰roè€»Âµä‚µÈ€;acdá‘¤â¢½â£€â£„sÃ´áš§ir;æ«°otè‚»Â·ÆµusÆ€;bdâ£’á¤ƒâ£“æˆ’Ä€;uá´¼â£˜;æ¨ªÅ£â£â£¡p;æ«›Ã²âˆ’Ã°àªÄ€dpâ£©â£®els;æŠ§f;ì€€ğ•Ä€ctâ£¸â£½r;ì€€ğ“‚posÂ»á–Æ€;lmâ¤‰â¤Šâ¤ä¼timap;æŠ¸à°€GLRVabcdefghijlmoprstuvwâ¥‚â¥“â¥¾â¦‰â¦˜â§šâ§©â¨•â¨šâ©˜â©âªƒâª•âª¤âª¨â¬„â¬‡â­„â­¿â®®â°´â±§â±¼â³©Ä€gtâ¥‡â¥‹;ì€€â‹™Ì¸Ä€;vâ¥à¯ì€€â‰«âƒ’Æ€eltâ¥šâ¥²â¥¶ftÄ€arâ¥¡â¥§rrow;æ‡ightarrow;æ‡;ì€€â‹˜Ì¸Ä€;vâ¥»à±‡ì€€â‰ªâƒ’ightarrow;æ‡Ä€Ddâ¦â¦“ash;æŠ¯ash;æŠ®Ê€bcnptâ¦£â¦§â¦¬â¦±â§ŒlaÂ»Ëute;ä…„g;ì€€âˆ âƒ’Ê€;Eiopà¶„â¦¼â§€â§…â§ˆ;ì€€â©°Ì¸d;ì€€â‰‹Ì¸s;ä…‰roÃ¸à¶„urÄ€;aâ§“â§”æ™®lÄ€;sâ§“à¬¸Ç³â§Ÿ\0â§£pè‚»Â à¬·mpÄ€;eà¯¹à°€Ê€aeouyâ§´â§¾â¨ƒâ¨â¨“Ç°â§¹\0â§»;æ©ƒon;ä…ˆdil;ä…†ngÄ€;dàµ¾â¨Šot;ì€€â©­Ì¸p;æ©‚;ä½ash;æ€“Î€;Aadqsxà®’â¨©â¨­â¨»â©â©…â©rr;æ‡—rÄ€hrâ¨³â¨¶k;æ¤¤Ä€;oá²á°ot;ì€€â‰Ì¸uiÃ¶à­£Ä€eiâ©Šâ©ar;æ¤¨Ã­à®˜istÄ€;sà® à®Ÿr;ì€€ğ”«È€Eestà¯…â©¦â©¹â©¼Æ€;qsà®¼â©­à¯¡Æ€;qsà®¼à¯…â©´lanÃ´à¯¢iÃ­à¯ªÄ€;rà®¶âªÂ»à®·Æ€AapâªŠâªâª‘rÃ²â¥±rr;æ†®ar;æ«²Æ€;svà¾âªœà¾ŒÄ€;dâª¡âª¢æ‹¼;æ‹ºcy;ä‘šÎ€AEadestâª·âªºâª¾â«‚â«…â«¶â«¹rÃ²â¥¦;ì€€â‰¦Ì¸rr;æ†šr;æ€¥È€;fqsà°»â«â«£â«¯tÄ€arâ«”â«™rroÃ·â«ightarroÃ·âªÆ€;qsà°»âªºâ«ªlanÃ´à±•Ä€;sà±•â«´Â»à°¶iÃ­à±Ä€;rà°µâ«¾iÄ€;eà°šà°¥iÃ¤à¶Ä€ptâ¬Œâ¬‘f;ì€€ğ•Ÿè†€Â¬;inâ¬™â¬šâ¬¶ä‚¬nÈ€;Edvà®‰â¬¤â¬¨â¬®;ì€€â‹¹Ì¸ot;ì€€â‹µÌ¸Ç¡à®‰â¬³â¬µ;æ‹·;æ‹¶iÄ€;và²¸â¬¼Ç¡à²¸â­â­ƒ;æ‹¾;æ‹½Æ€aorâ­‹â­£â­©rÈ€;astà­»â­•â­šâ­ŸlleÃ¬à­»l;ì€€â«½âƒ¥;ì€€âˆ‚Ì¸lint;æ¨”Æ€;ceà²’â­°â­³uÃ¥à²¥Ä€;cà²˜â­¸Ä€;eà²’â­½Ã±à²˜È€Aaitâ®ˆâ®‹â®â®§rÃ²â¦ˆrrÆ€;cwâ®”â®•â®™æ†›;ì€€â¤³Ì¸;ì€€â†Ì¸ghtarrowÂ»â®•riÄ€;eà³‹à³–Î€chimpquâ®½â¯â¯™â¬„à­¸â¯¤â¯¯È€;cerà´²â¯†à´·â¯‰uÃ¥àµ…;ì€€ğ“ƒortÉ­â¬…\0\0â¯–arÃ¡â­–mÄ€;eàµ®â¯ŸÄ€;qàµ´àµ³suÄ€bpâ¯«â¯­Ã¥à³¸Ã¥à´‹Æ€bcpâ¯¶â°‘â°™È€;Eesâ¯¿â°€à´¢â°„æŠ„;ì€€â«…Ì¸etÄ€;eà´›â°‹qÄ€;qà´£â°€cÄ€;eà´²â°—Ã±à´¸È€;Eesâ°¢â°£àµŸâ°§æŠ…;ì€€â«†Ì¸etÄ€;eàµ˜â°®qÄ€;qàµ â°£È€gilrâ°½â°¿â±…â±‡Ã¬à¯—ldeè€»Ã±äƒ±Ã§à±ƒiangleÄ€lrâ±’â±œeftÄ€;eà°šâ±šÃ±à°¦ightÄ€;eà³‹â±¥Ã±à³—Ä€;mâ±¬â±­ä½Æ€;esâ±´â±µâ±¹ä€£ro;æ„–p;æ€‡Ò€DHadgilrsâ²â²”â²™â²â²£â²°â²¶â³“â³£ash;æŠ­arr;æ¤„p;ì€€â‰âƒ’ash;æŠ¬Ä€etâ²¨â²¬;ì€€â‰¥âƒ’;ì€€>âƒ’nfin;æ§Æ€Aetâ²½â³â³…rr;æ¤‚;ì€€â‰¤âƒ’Ä€;râ³Šâ³ì€€<âƒ’ie;ì€€âŠ´âƒ’Ä€Atâ³˜â³œrr;æ¤ƒrie;ì€€âŠµâƒ’im;ì€€âˆ¼âƒ’Æ€Aanâ³°â³´â´‚rr;æ‡–rÄ€hrâ³ºâ³½k;æ¤£Ä€;oá§á¥ear;æ¤§á‰“áª•\0\0\0\0\0\0\0\0\0\0\0\0\0â´­\0â´¸âµˆâµ âµ¥âµ²â¶„á¬‡\0\0â¶â¶«\0â·ˆâ·\0â·œâ¸™â¸«â¸¾â¹ƒÄ€csâ´±áª—uteè€»Ã³äƒ³Ä€iyâ´¼âµ…rÄ€;cáªâµ‚è€»Ã´äƒ´;ä¾Ê€abiosáª âµ’âµ—Çˆâµšlac;ä…‘v;æ¨¸old;æ¦¼lig;ä…“Ä€crâµ©âµ­ir;æ¦¿;ì€€ğ”¬Í¯âµ¹\0\0âµ¼\0â¶‚n;ä‹›aveè€»Ã²äƒ²;æ§Ä€bmâ¶ˆà·´ar;æ¦µÈ€acitâ¶•â¶˜â¶¥â¶¨rÃ²áª€Ä€irâ¶â¶ r;æ¦¾oss;æ¦»nÃ¥à¹’;æ§€Æ€aeiâ¶±â¶µâ¶¹cr;ä…ga;ä‰Æ€cdnâ·€â·…Çron;ä¿;æ¦¶pf;ì€€ğ• Æ€aelâ·”â·—Ç’r;æ¦·rp;æ¦¹Î€;adiosvâ·ªâ·«â·®â¸ˆâ¸â¸â¸–æˆ¨rÃ²áª†È€;efmâ··â·¸â¸‚â¸…æ©rÄ€;oâ·¾â·¿æ„´fÂ»â·¿è€»Âªä‚ªè€»Âºä‚ºgof;æŠ¶r;æ©–lope;æ©—;æ©›Æ€cloâ¸Ÿâ¸¡â¸§Ã²â¸ashè€»Ã¸äƒ¸l;æŠ˜iÅ¬â¸¯â¸´deè€»ÃµäƒµesÄ€;aÇ›â¸ºs;æ¨¶mlè€»Ã¶äƒ¶bar;æŒ½à«¡â¹\0â¹½\0âº€âº\0âº¢âº¹\0\0â»‹àºœ\0â¼“\0\0â¼«â¾¼\0â¿ˆrÈ€;astĞƒâ¹§â¹²àº…è„€Â¶;lâ¹­â¹®ä‚¶leÃ¬ĞƒÉ©â¹¸\0\0â¹»m;æ«³;æ«½y;ä¿rÊ€cimptâº‹âºâº“á¡¥âº—nt;ä€¥od;ä€®il;æ€°enk;æ€±r;ì€€ğ”­Æ€imoâº¨âº°âº´Ä€;vâº­âº®ä†;ä•maÃ´à©¶ne;æ˜Æ€;tvâº¿â»€â»ˆä€chforkÂ»á¿½;ä–Ä€auâ»â»ŸnÄ€ckâ»•â»kÄ€;hâ‡´â»›;æ„Ã¶â‡´sÒ€;abcdemstâ»³â»´á¤ˆâ»¹â»½â¼„â¼†â¼Šâ¼ä€«cir;æ¨£ir;æ¨¢Ä€ouáµ€â¼‚;æ¨¥;æ©²nè‚»Â±àºim;æ¨¦wo;æ¨§Æ€ipuâ¼™â¼ â¼¥ntint;æ¨•f;ì€€ğ•¡ndè€»Â£ä‚£Ô€;Eaceinosuà»ˆâ¼¿â½â½„â½‡â¾â¾‰â¾’â½¾â¾¶;æª³p;æª·uÃ¥à»™Ä€;cà»â½ŒÌ€;acensà»ˆâ½™â½Ÿâ½¦â½¨â½¾pproÃ¸â½ƒurlyeÃ±à»™Ã±à»Æ€aesâ½¯â½¶â½ºpprox;æª¹qq;æªµim;æ‹¨iÃ­à»ŸmeÄ€;sâ¾ˆàº®æ€²Æ€Easâ½¸â¾â½ºÃ°â½µÆ€dfpà»¬â¾™â¾¯Æ€alsâ¾ â¾¥â¾ªlar;æŒ®ine;æŒ’urf;æŒ“Ä€;tà»»â¾´Ã¯à»»rel;æŠ°Ä€ciâ¿€â¿…r;ì€€ğ“…;äˆncsp;æ€ˆÌ€fiopsuâ¿šâ‹¢â¿Ÿâ¿¥â¿«â¿±r;ì€€ğ”®pf;ì€€ğ•¢rime;æ—cr;ì€€ğ“†Æ€aeoâ¿¸ã€‰ã€“tÄ€eiâ¿¾ã€…rnionÃ³Ú°nt;æ¨–stÄ€;eã€ã€‘ä€¿Ã±á¼™Ã´à¼”àª€ABHabcdefhilmnoprstuxã€ã‘ã•ã™ãƒ ã„ã„«ã…‡ã…¢ã…²ã†ãˆ†ãˆ•ãˆ¤ãˆ©ã‰˜ã‰®ã‰²ãŠãŠ°ãŠ·Æ€artã‡ãŠãŒrÃ²á‚³Ã²Ïail;æ¤œarÃ²á±¥ar;æ¥¤Î€cdenqrtã¨ãµã¸ã¿ã‚ã‚”ãƒŒÄ€euã­ã±;ì€€âˆ½Ì±te;ä…•iÃ£á…®mptyv;æ¦³gÈ€;delà¿‘ã‚‰ã‚‹ã‚;æ¦’;æ¦¥Ã¥à¿‘uoè€»Â»ä‚»rÖ€;abcfhlpstwà¿œã‚¬ã‚¯ã‚·ã‚¹ã‚¼ã‚¾ãƒ€ãƒƒãƒ‡ãƒŠp;æ¥µÄ€;fà¿ ã‚´s;æ¤ ;æ¤³s;æ¤Ã«â‰Ã°âœ®l;æ¥…im;æ¥´l;æ†£;æ†Ä€aiãƒ‘ãƒ•il;æ¤šoÄ€;nãƒ›ãƒœæˆ¶alÃ³à¼Æ€abrãƒ§ãƒªãƒ®rÃ²áŸ¥rk;æ³Ä€akãƒ³ãƒ½cÄ€ekãƒ¹ãƒ»;ä½;äÄ€esã„‚ã„„;æ¦ŒlÄ€duã„Šã„Œ;æ¦;æ¦È€aeuyã„—ã„œã„§ã„©ron;ä…™Ä€diã„¡ã„¥il;ä…—Ã¬à¿²Ã¢ãƒº;ä‘€È€clqsã„´ã„·ã„½ã…„a;æ¤·dhar;æ¥©uoÄ€;rÈÈh;æ†³Æ€acgã…ã…Ÿà½„lÈ€;ipsà½¸ã…˜ã…›á‚œnÃ¥á‚»arÃ´à¾©t;æ–­Æ€ilrã…©á€£ã…®sht;æ¥½;ì€€ğ”¯Ä€aoã…·ã††rÄ€duã…½ã…¿Â»Ñ»Ä€;lá‚‘ã†„;æ¥¬Ä€;vã†‹ã†Œä;ä±Æ€gnsã†•ã‡¹ã‡¼htÌ€ahlrstã†¤ã†°ã‡‚ã‡˜ã‡¤ã‡®rrowÄ€;tà¿œã†­aÃ©ãƒˆarpoonÄ€duã†»ã†¿owÃ®ã…¾pÂ»á‚’eftÄ€ahã‡Šã‡rrowÃ³à¿ªarpoonÃ³Õ‘ightarrows;æ‡‰quigarroÃ·ãƒ‹hreetimes;æ‹Œg;ä‹šingdotseÃ±á¼²Æ€ahmãˆãˆãˆ“rÃ²à¿ªaÃ²Õ‘;æ€oustÄ€;aãˆãˆŸæ±cheÂ»ãˆŸmid;æ«®È€abptãˆ²ãˆ½ã‰€ã‰’Ä€nrãˆ·ãˆºg;æŸ­r;æ‡¾rÃ«á€ƒÆ€aflã‰‡ã‰Šã‰r;æ¦†;ì€€ğ•£us;æ¨®imes;æ¨µÄ€apã‰ã‰§rÄ€;gã‰£ã‰¤ä€©t;æ¦”olint;æ¨’arÃ²ã‡£È€achqã‰»ãŠ€á‚¼ãŠ…quo;æ€ºr;ì€€ğ“‡Ä€buãƒ»ãŠŠoÄ€;rÈ”È“Æ€hirãŠ—ãŠ›ãŠ reÃ¥ã‡¸mes;æ‹ŠiÈ€;eflãŠªá™á ¡ãŠ«æ–¹tri;æ§luhar;æ¥¨;æ„àµ¡ã‹•ã‹›ã‹ŸãŒ¬ãŒ¸ã±\0ãºã¤\0\0ã¬ã°\0ã¨ã‘ˆã‘šã’­ã’±ã“Šã“±\0ã˜–\0\0ã˜³cute;ä…›quÃ¯âºÔ€;Eaceinpsyá‡­ã‹³ã‹µã‹¿ãŒ‚ãŒ‹ãŒãŒŸãŒ¦ãŒ©;æª´Ç°ã‹º\0ã‹¼;æª¸on;ä…¡uÃ¥á‡¾Ä€;dá‡³ãŒ‡il;ä…Ÿrc;ä…Æ€EasãŒ–ãŒ˜ãŒ›;æª¶p;æªºim;æ‹©olint;æ¨“iÃ­áˆ„;ä‘otÆ€;beãŒ´áµ‡ãŒµæ‹…;æ©¦Î€Aacmstxã†ãŠã—ã›ãã£ã­rr;æ‡˜rÄ€hrãã’Ã«âˆ¨Ä€;oà¨¶à¨´tè€»Â§ä‚§i;ä€»war;æ¤©mÄ€inã©Ã°nuÃ³Ã±t;æœ¶rÄ€;oã¶â•ì€€ğ”°È€acoyã‚ã†ã‘ã rp;æ™¯Ä€hyã‹ãcy;ä‘‰;ä‘ˆrtÉ­ã™\0\0ãœiÃ¤á‘¤araÃ¬â¹¯è€»Â­ä‚­Ä€gmã¨ã´maÆ€;fvã±ã²ã²äƒ;ä‚Ğ€;deglnpráŠ«ã…ã‰ãã–ãã¡ã¦ot;æ©ªÄ€;qáŠ±áŠ°Ä€;Eã“ã”æª;æª Ä€;Eã›ãœæª;æªŸe;æ‰†lus;æ¨¤arr;æ¥²arÃ²á„½È€aeitã¸ãˆãã—Ä€lsã½ã„lsetmÃ©ãªhp;æ¨³parsl;æ§¤Ä€dlá‘£ã”e;æŒ£Ä€;eãœãæªªÄ€;sã¢ã£æª¬;ì€€âª¬ï¸€Æ€flpã®ã³ã‘‚tcy;ä‘ŒÄ€;bã¸ã¹ä€¯Ä€;aã¾ã¿æ§„r;æŒ¿f;ì€€ğ•¤aÄ€drã‘Ğ‚esÄ€;uã‘”ã‘•æ™ itÂ»ã‘•Æ€csuã‘ ã‘¹ã’ŸÄ€auã‘¥ã‘¯pÄ€;sá†ˆã‘«;ì€€âŠ“ï¸€pÄ€;sá†´ã‘µ;ì€€âŠ”ï¸€uÄ€bpã‘¿ã’Æ€;esá†—á†œã’†etÄ€;eá†—ã’Ã±á†Æ€;esá†¨á†­ã’–etÄ€;eá†¨ã’Ã±á†®Æ€;afá…»ã’¦Ö°rÅ¥ã’«Ö±Â»á…¼arÃ²á…ˆÈ€cemtã’¹ã’¾ã“‚ã“…r;ì€€ğ“ˆtmÃ®Ã±iÃ¬ã•arÃ¦á†¾Ä€arã“ã“•rÄ€;fã“”á¿æ˜†Ä€anã“šã“­ightÄ€epã“£ã“ªpsiloÃ®á» hÃ©âº¯sÂ»â¡’Ê€bcmnpã“»ã•áˆ‰ã–‹ã–Ò€;Edemnprsã”ã”ã”‘ã”•ã”ã”£ã”¬ã”±ã”¶æŠ‚;æ«…ot;æª½Ä€;dá‡šã”šot;æ«ƒult;æ«Ä€Eeã”¨ã”ª;æ«‹;æŠŠlus;æª¿arr;æ¥¹Æ€eiuã”½ã•’ã••tÆ€;enã”ã•…ã•‹qÄ€;qá‡šã”eqÄ€;qã”«ã”¨m;æ«‡Ä€bpã•šã•œ;æ«•;æ«“cÌ€;acensá‡­ã•¬ã•²ã•¹ã•»ãŒ¦pproÃ¸ã‹ºurlyeÃ±á‡¾Ã±á‡³Æ€aesã–‚ã–ˆãŒ›pproÃ¸ãŒšqÃ±ãŒ—g;æ™ªÚ€123;Edehlmnpsã–©ã–¬ã–¯áˆœã–²ã–´ã—€ã—‰ã—•ã—šã—Ÿã—¨ã—­è€»Â¹ä‚¹è€»Â²ä‚²è€»Â³ä‚³;æ«†Ä€osã–¹ã–¼t;æª¾ub;æ«˜Ä€;dáˆ¢ã—…ot;æ«„sÄ€ouã—ã—’l;æŸ‰b;æ«—arr;æ¥»ult;æ«‚Ä€Eeã—¤ã—¦;æ«Œ;æŠ‹lus;æ«€Æ€eiuã—´ã˜‰ã˜ŒtÆ€;enáˆœã—¼ã˜‚qÄ€;qáˆ¢ã–²eqÄ€;qã—§ã—¤m;æ«ˆÄ€bpã˜‘ã˜“;æ«”;æ«–Æ€Aanã˜œã˜ ã˜­rr;æ‡™rÄ€hrã˜¦ã˜¨Ã«âˆ®Ä€;oà¨«à¨©war;æ¤ªligè€»ÃŸäƒŸà¯¡ã™‘ã™ã™ á‹ã™³ã™¹\0ã™¾ã›‚\0\0\0\0\0ã››ãœƒ\0ãœ‰ã¬\0\0\0ã‡É²ã™–\0\0ã™›get;æŒ–;ä„rÃ«à¹ŸÆ€aeyã™¦ã™«ã™°ron;ä…¥dil;ä…£;ä‘‚lrec;æŒ•r;ì€€ğ”±È€eikoãš†ãšãšµãš¼Ç²ãš‹\0ãš‘eÄ€4fáŠ„áŠaÆ€;svãš˜ãš™ãš›ä¸ym;ä‘Ä€cnãš¢ãš²kÄ€asãš¨ãš®pproÃ¸á‹imÂ»áŠ¬sÃ°áŠÄ€asãšºãš®Ã°á‹rnè€»Ã¾äƒ¾Ç¬ÌŸã›†â‹§esè†€Ã—;bdã›ã›ã›˜äƒ—Ä€;aá¤ã›•r;æ¨±;æ¨°Æ€epsã›¡ã›£ãœ€Ã¡â©È€;bcfÒ†ã›¬ã›°ã›´ot;æŒ¶ir;æ«±Ä€;oã›¹ã›¼ì€€ğ•¥rk;æ«šÃ¡ã¢rime;æ€´Æ€aipãœãœ’ã¤dÃ¥á‰ˆÎ€adempstãœ¡ãã€ã‘ã—ãœãŸngleÊ€;dlqrãœ°ãœ±ãœ¶ã€ã‚æ–µownÂ»á¶»eftÄ€;eâ €ãœ¾Ã±à¤®;æ‰œightÄ€;eãŠªã‹Ã±ášot;æ—¬inus;æ¨ºlus;æ¨¹b;æ§ime;æ¨»ezium;æ¢Æ€chtã²ã½ãÄ€ryã·ã»;ì€€ğ“‰;ä‘†cy;ä‘›rok;ä…§Ä€ioã‹ãxÃ´á·headÄ€lrã—ã eftarroÃ·à¡ightarrowÂ»à½à¤€AHabcdfghlmoprstuwãŸãŸ“ãŸ—ãŸ¤ãŸ°ãŸ¼ã ã œã £ã ´ã¡‘ã¡ã¡«ã¢©ã£Œã£’ã£ªã£¶rÃ²Ï­ar;æ¥£Ä€crãŸœãŸ¢uteè€»ÃºäƒºÃ²á…rÇ£ãŸª\0ãŸ­y;ä‘ve;ä…­Ä€iyãŸµãŸºrcè€»Ã»äƒ»;ä‘ƒÆ€abhã ƒã †ã ‹rÃ²á­lac;ä…±aÃ²áƒÄ€irã “ã ˜sht;æ¥¾;ì€€ğ”²raveè€»Ã¹äƒ¹Å¡ã §ã ±rÄ€lrã ¬ã ®Â»à¥—Â»á‚ƒlk;æ–€Ä€ctã ¹ã¡É¯ã ¿\0\0ã¡ŠrnÄ€;eã¡…ã¡†æŒœrÂ»ã¡†op;æŒri;æ—¸Ä€alã¡–ã¡šcr;ä…«è‚»Â¨Í‰Ä€gpã¡¢ã¡¦on;ä…³f;ì€€ğ•¦Ì€adhlsuá…‹ã¡¸ã¡½á²ã¢‘ã¢ ownÃ¡á³arpoonÄ€lrã¢ˆã¢ŒefÃ´ã ­ighÃ´ã ¯iÆ€;hlã¢™ã¢šã¢œä…Â»áºonÂ»ã¢šparrows;æ‡ˆÆ€citã¢°ã£„ã£ˆÉ¯ã¢¶\0\0ã£rnÄ€;eã¢¼ã¢½æŒrÂ»ã¢½op;æŒng;ä…¯ri;æ—¹cr;ì€€ğ“ŠÆ€dirã£™ã£ã£¢ot;æ‹°lde;ä…©iÄ€;fãœ°ã£¨Â»á “Ä€amã£¯ã£²rÃ²ã¢¨lè€»Ã¼äƒ¼angle;æ¦§Ş€ABDacdeflnoprszã¤œã¤Ÿã¤©ã¤­ã¦µã¦¸ã¦½ã§Ÿã§¤ã§¨ã§³ã§¹ã§½ã¨ã¨ rÃ²Ï·arÄ€;vã¤¦ã¤§æ«¨;æ«©asÃ¨Ï¡Ä€nrã¤²ã¤·grt;æ¦œÎ€eknprstã“£ã¥†ã¥‹ã¥’ã¥ã¥¤ã¦–appÃ¡â•othinÃ§áº–Æ€hirã“«â»ˆã¥™opÃ´â¾µÄ€;há·ã¥¢Ã¯ã†Ä€iuã¥©ã¥­gmÃ¡ã³Ä€bpã¥²ã¦„setneqÄ€;qã¥½ã¦€ì€€âŠŠï¸€;ì€€â«‹ï¸€setneqÄ€;qã¦ã¦’ì€€âŠ‹ï¸€;ì€€â«Œï¸€Ä€hrã¦›ã¦ŸetÃ¡ãšœiangleÄ€lrã¦ªã¦¯eftÂ»à¤¥ightÂ»á‘y;ä²ashÂ»á€¶Æ€elrã§„ã§’ã§—Æ€;beâ·ªã§‹ã§ar;æŠ»q;æ‰šlip;æ‹®Ä€btã§œá‘¨aÃ²á‘©r;ì€€ğ”³trÃ©ã¦®suÄ€bpã§¯ã§±Â»à´œÂ»àµ™pf;ì€€ğ•§roÃ°à»»trÃ©ã¦´Ä€cuã¨†ã¨‹r;ì€€ğ“‹Ä€bpã¨ã¨˜nÄ€Eeã¦€ã¨–Â»ã¥¾nÄ€Eeã¦’ã¨Â»ã¦igzag;æ¦šÎ€cefoprsã¨¶ã¨»ã©–ã©›ã©”ã©¡ã©ªirc;ä…µÄ€diã©€ã©‘Ä€bgã©…ã©‰ar;æ©ŸeÄ€;qá—ºã©;æ‰™erp;æ„˜r;ì€€ğ”´pf;ì€€ğ•¨Ä€;eá‘¹ã©¦atÃ¨á‘¹cr;ì€€ğ“Œà«£áãª‡\0ãª‹\0ãªãª›\0\0ãªãª¨ãª«ãª¯\0\0ã«ƒã«\0ã«˜áŸœáŸŸtrÃ©áŸ‘r;ì€€ğ”µÄ€Aaãª”ãª—rÃ²ÏƒrÃ²à§¶;ä¾Ä€Aaãª¡ãª¤rÃ²Î¸rÃ²à§«aÃ°âœ“is;æ‹»Æ€dptá¤ãªµãª¾Ä€flãªºá©;ì€€ğ•©imÃ¥á²Ä€Aaã«‡ã«ŠrÃ²ÏrÃ²à¨Ä€cqã«’á¸r;ì€€ğ“Ä€ptáŸ–ã«œrÃ©áŸ”Ğ€acefiosuã«°ã«½ã¬ˆã¬Œã¬‘ã¬•ã¬›ã¬¡cÄ€uyã«¶ã«»teè€»Ã½äƒ½;ä‘Ä€iyã¬‚ã¬†rc;ä…·;ä‘‹nè€»Â¥ä‚¥r;ì€€ğ”¶cy;ä‘—pf;ì€€ğ•ªcr;ì€€ğ“Ä€cmã¬¦ã¬©y;ä‘lè€»Ã¿äƒ¿Ô€acdefhioswã­‚ã­ˆã­”ã­˜ã­¤ã­©ã­­ã­´ã­ºã®€cute;ä…ºÄ€ayã­ã­’ron;ä…¾;ä·ot;ä…¼Ä€etã­ã­¡trÃ¦á•Ÿa;ä¶r;ì€€ğ”·cy;ä¶grarr;æ‡pf;ì€€ğ•«cr;ì€€ğ“Ä€jnã®…ã®‡;æ€j;æ€Œ'.split("").map((e=>e.charCodeAt(0)))),nn=new Uint16Array("È€aglq\tÉ­\0\0p;ä€¦os;ä€§t;ä€¾t;ä€¼uot;ä€¢".split("").map((e=>e.charCodeAt(0))));var rn;const sn=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),an=null!==(rn=String.fromCodePoint)&&void 0!==rn?rn:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e),t};function on(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=sn.get(e))&&void 0!==t?t:e}var cn,ln;(ln=cn||(cn={}))[ln.NUM=35]="NUM",ln[ln.SEMI=59]="SEMI",ln[ln.EQUALS=61]="EQUALS",ln[ln.ZERO=48]="ZERO",ln[ln.NINE=57]="NINE",ln[ln.LOWER_A=97]="LOWER_A",ln[ln.LOWER_F=102]="LOWER_F",ln[ln.LOWER_X=120]="LOWER_X",ln[ln.LOWER_Z=122]="LOWER_Z",ln[ln.UPPER_A=65]="UPPER_A",ln[ln.UPPER_F=70]="UPPER_F",ln[ln.UPPER_Z=90]="UPPER_Z";var un,hn,dn,fn,pn,mn;function gn(e){return e>=cn.ZERO&&e<=cn.NINE}function yn(e){return e===cn.EQUALS||function(e){return e>=cn.UPPER_A&&e<=cn.UPPER_Z||e>=cn.LOWER_A&&e<=cn.LOWER_Z||gn(e)}(e)}(hn=un||(un={}))[hn.VALUE_LENGTH=49152]="VALUE_LENGTH",hn[hn.BRANCH_LENGTH=16256]="BRANCH_LENGTH",hn[hn.JUMP_TABLE=127]="JUMP_TABLE",(fn=dn||(dn={}))[fn.EntityStart=0]="EntityStart",fn[fn.NumericStart=1]="NumericStart",fn[fn.NumericDecimal=2]="NumericDecimal",fn[fn.NumericHex=3]="NumericHex",fn[fn.NamedEntity=4]="NamedEntity",(mn=pn||(pn={}))[mn.Legacy=0]="Legacy",mn[mn.Strict=1]="Strict",mn[mn.Attribute=2]="Attribute";class vn{constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=dn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=pn.Strict}startEntity(e){this.decodeMode=e,this.state=dn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case dn.EntityStart:return e.charCodeAt(t)===cn.NUM?(this.state=dn.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=dn.NamedEntity,this.stateNamedEntity(e,t));case dn.NumericStart:return this.stateNumericStart(e,t);case dn.NumericDecimal:return this.stateNumericDecimal(e,t);case dn.NumericHex:return this.stateNumericHex(e,t);case dn.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===cn.LOWER_X?(this.state=dn.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=dn.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,r){if(t!==n){const i=n-t;this.result=this.result*Math.pow(r,i)+parseInt(e.substr(t,i),r),this.consumed+=i}}stateNumericHex(e,t){const n=t;for(;t<e.length;){const i=e.charCodeAt(t);if(!(gn(i)||(r=i,r>=cn.UPPER_A&&r<=cn.UPPER_F||r>=cn.LOWER_A&&r<=cn.LOWER_F)))return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(i,3);t+=1}var r;return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){const n=t;for(;t<e.length;){const r=e.charCodeAt(t);if(!gn(r))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(r,2);t+=1}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n;if(this.consumed<=t)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===cn.SEMI)this.consumed+=1;else if(this.decodeMode===pn.Strict)return 0;return this.emitCodePoint(on(this.result),this.consumed),this.errors&&(e!==cn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:n}=this;let r=n[this.treeIndex],i=(r&un.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const s=e.charCodeAt(t);if(this.treeIndex=En(n,r,this.treeIndex+Math.max(1,i),s),this.treeIndex<0)return 0===this.result||this.decodeMode===pn.Attribute&&(0===i||yn(s))?0:this.emitNotTerminatedNamedEntity();if(r=n[this.treeIndex],i=(r&un.VALUE_LENGTH)>>14,0!==i){if(s===cn.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==pn.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:n}=this,r=(n[t]&un.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,r,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){const{decodeTree:r}=this;return this.emitCodePoint(1===t?r[e]&~un.VALUE_LENGTH:r[e+1],n),3===t&&this.emitCodePoint(r[e+2],n),n}end(){var e;switch(this.state){case dn.NamedEntity:return 0===this.result||this.decodeMode===pn.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case dn.NumericDecimal:return this.emitNumericEntity(0,2);case dn.NumericHex:return this.emitNumericEntity(0,3);case dn.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case dn.EntityStart:return 0}}}function bn(e){let t="";const n=new vn(e,(e=>t+=an(e)));return function(e,r){let i=0,s=0;for(;(s=e.indexOf("&",s))>=0;){t+=e.slice(i,s),n.startEntity(r);const a=n.write(e,s+1);if(a<0){i=s+n.end();break}i=s+a,s=0===a?i+1:i}const a=t+e.slice(i);return t="",a}}function En(e,t,n,r){const i=(t&un.BRANCH_LENGTH)>>7,s=t&un.JUMP_TABLE;if(0===i)return 0!==s&&r===s?n:-1;if(s){const t=r-s;return t<0||t>=i?-1:e[n+t]-1}let a=n,o=a+i-1;for(;a<=o;){const t=a+o>>>1,n=e[t];if(n<r)a=t+1;else{if(!(n>r))return e[t+i];o=t-1}}return-1}bn(tn),bn(nn);const Tn=/["&'<>$\x80-\uFFFF]/g,Sn=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),An=null!=String.prototype.codePointAt?(e,t)=>e.codePointAt(t):(e,t)=>55296==(64512&e.charCodeAt(t))?1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function _n(e){let t,n="",r=0;for(;null!==(t=Tn.exec(e));){const i=t.index,s=e.charCodeAt(i),a=Sn.get(s);void 0!==a?(n+=e.substring(r,i)+a,r=i+1):(n+=`${e.substring(r,i)}&#x${An(e,i).toString(16)};`,r=Tn.lastIndex+=Number(55296==(64512&s)))}return n+e.substr(r)}function kn(e,t){return function(n){let r,i=0,s="";for(;r=e.exec(n);)i!==r.index&&(s+=n.substring(i,r.index)),s+=t.get(r[0].charCodeAt(0)),i=r.index+1;return s+n.substring(i)}}const wn=kn(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),On=kn(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),In=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((e=>[e.toLowerCase(),e]))),Rn=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((e=>[e.toLowerCase(),e]))),Cn=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function Pn(e){return e.replace(/"/g,"&quot;")}const Nn=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function xn(e,t={}){const n="length"in e?e:[e];let r="";for(let i=0;i<n.length;i++)r+=Dn(n[i],t);return r}function Dn(e,t){switch(e.type){case wt:return xn(e.children,t);case Dt:case It:return`<${e.data}>`;case Rt:return function(e){return`\x3c!--${e.data}--\x3e`}(e);case xt:return function(e){return`<![CDATA[${e.children[0].data}]]>`}(e);case Ct:case Pt:case Nt:return function(e,t){var n;"foreign"===t.xmlMode&&(e.name=null!==(n=In.get(e.name))&&void 0!==n?n:e.name,e.parent&&Ln.has(e.parent.name)&&(t={...t,xmlMode:!1}));!t.xmlMode&&Mn.has(e.name)&&(t={...t,xmlMode:"foreign"});let r=`<${e.name}`;const i=function(e,t){var n;if(!e)return;const r=!1===(null!==(n=t.encodeEntities)&&void 0!==n?n:t.decodeEntities)?Pn:t.xmlMode||"utf8"!==t.encodeEntities?_n:wn;return Object.keys(e).map((n=>{var i,s;const a=null!==(i=e[n])&&void 0!==i?i:"";return"foreign"===t.xmlMode&&(n=null!==(s=Rn.get(n))&&void 0!==s?s:n),t.emptyAttrs||t.xmlMode||""!==a?`${n}="${r(a)}"`:n})).join(" ")}(e.attribs,t);i&&(r+=` ${i}`);0===e.children.length&&(t.xmlMode?!1!==t.selfClosingTags:t.selfClosingTags&&Nn.has(e.name))?(t.xmlMode||(r+=" "),r+="/>"):(r+=">",e.children.length>0&&(r+=xn(e.children,t)),!t.xmlMode&&Nn.has(e.name)||(r+=`</${e.name}>`));return r}(e,t);case Ot:return function(e,t){var n;let r=e.data||"";!1===(null!==(n=t.encodeEntities)&&void 0!==n?n:t.decodeEntities)||!t.xmlMode&&e.parent&&Cn.has(e.parent.name)||(r=t.xmlMode||"utf8"!==t.encodeEntities?_n(r):On(r));return r}(e,t)}}const Ln=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),Mn=new Set(["svg","math"]);function Fn(e,t){return xn(e,t)}function jn(e){return Array.isArray(e)?e.map(jn).join(""):Kt(e)&&!Vt(e)?jn(e.children):Qt(e)?e.data:""}function $n(e){return Array.isArray(e)?e.map($n).join(""):Kt(e)&&(e.type===_t.Tag||Wt(e))?$n(e.children):Qt(e)?e.data:""}function Bn(e){return Kt(e)?e.children:[]}function Un(e){return e.parent||null}function Hn(e){const t=Un(e);if(null!=t)return Bn(t);const n=[e];let{prev:r,next:i}=e;for(;null!=r;)n.unshift(r),({prev:r}=r);for(;null!=i;)n.push(i),({next:i}=i);return n}function qn(e){let{next:t}=e;for(;null!==t&&!Gt(t);)({next:t}=t);return t}function Gn(e){let{prev:t}=e;for(;null!==t&&!Gt(t);)({prev:t}=t);return t}function Wn(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){const t=e.parent.children,n=t.lastIndexOf(e);n>=0&&t.splice(n,1)}e.next=null,e.prev=null,e.parent=null}function Qn(e,t,n=!0,r=1/0){return Vn(e,Array.isArray(t)?t:[t],n,r)}function Vn(e,t,n,r){const i=[],s=[Array.isArray(t)?t:[t]],a=[0];for(;;){if(a[0]>=s[0].length){if(1===a.length)return i;s.shift(),a.shift();continue}const t=s[0][a[0]++];if(e(t)&&(i.push(t),--r<=0))return i;n&&Kt(t)&&t.children.length>0&&(a.unshift(0),s.unshift(t.children))}}function Yn(e,t,n=!0){const r=Array.isArray(t)?t:[t];for(let i=0;i<r.length;i++){const t=r[i];if(Gt(t)&&e(t))return t;if(n&&Kt(t)&&t.children.length>0){const n=Yn(e,t.children,!0);if(n)return n}}return null}const zn={tag_name:e=>"function"==typeof e?t=>Gt(t)&&e(t.name):"*"===e?Gt:t=>Gt(t)&&t.name===e,tag_type:e=>"function"==typeof e?t=>e(t.type):t=>t.type===e,tag_contains:e=>"function"==typeof e?t=>Qt(t)&&e(t.data):t=>Qt(t)&&t.data===e};function Kn(e,t){return"function"==typeof t?n=>Gt(n)&&t(n.attribs[e]):n=>Gt(n)&&n.attribs[e]===t}function Xn(e,t){return n=>e(n)||t(n)}function Jn(e){const t=Object.keys(e).map((t=>{const n=e[t];return Object.prototype.hasOwnProperty.call(zn,t)?zn[t](n):Kn(t,n)}));return 0===t.length?null:t.reduce(Xn)}function Zn(e,t,n=!0,r=1/0){return Qn(zn.tag_name(e),t,n,r)}var er,tr;function nr(e,t){const n=[],r=[];if(e===t)return 0;let i=Kt(e)?e:e.parent;for(;i;)n.unshift(i),i=i.parent;for(i=Kt(t)?t:t.parent;i;)r.unshift(i),i=i.parent;const s=Math.min(n.length,r.length);let a=0;for(;a<s&&n[a]===r[a];)a++;if(0===a)return er.DISCONNECTED;const o=n[a-1],c=o.children,l=n[a],u=r[a];return c.indexOf(l)>c.indexOf(u)?o===t?er.FOLLOWING|er.CONTAINED_BY:er.FOLLOWING:o===e?er.PRECEDING|er.CONTAINS:er.PRECEDING}function rr(e){return(e=e.filter(((e,t,n)=>!n.includes(e,t+1)))).sort(((e,t)=>{const n=nr(e,t);return n&er.PRECEDING?-1:n&er.FOLLOWING?1:0})),e}(tr=er||(er={}))[tr.DISCONNECTED=1]="DISCONNECTED",tr[tr.PRECEDING=2]="PRECEDING",tr[tr.FOLLOWING=4]="FOLLOWING",tr[tr.CONTAINS=8]="CONTAINS",tr[tr.CONTAINED_BY=16]="CONTAINED_BY";const ir=["url","type","lang"],sr=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function ar(e){return Zn("media:content",e).map((e=>{const{attribs:t}=e,n={medium:t.medium,isDefault:!!t.isDefault};for(const r of ir)t[r]&&(n[r]=t[r]);for(const r of sr)t[r]&&(n[r]=parseInt(t[r],10));return t.expression&&(n.expression=t.expression),n}))}function or(e,t){return Zn(e,t,!0,1)[0]}function cr(e,t,n=!1){return jn(Zn(e,t,n,1)).trim()}function lr(e,t,n,r,i=!1){const s=cr(n,r,i);s&&(e[t]=s)}function ur(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}const hr=Object.freeze(Object.defineProperty({__proto__:null,get DocumentPosition(){return er},append:function(e,t){Wn(t);const{parent:n}=e,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){const e=n.children;e.splice(e.lastIndexOf(r),0,t)}}else n&&n.children.push(t)},appendChild:function(e,t){if(Wn(t),t.next=null,t.parent=e,e.children.push(t)>1){const n=e.children[e.children.length-2];n.next=t,t.prev=n}else t.prev=null},compareDocumentPosition:nr,existsOne:function e(t,n){return(Array.isArray(n)?n:[n]).some((n=>Gt(n)&&t(n)||Kt(n)&&e(t,n.children)))},filter:Qn,find:Vn,findAll:function(e,t){const n=[],r=[Array.isArray(t)?t:[t]],i=[0];for(;;){if(i[0]>=r[0].length){if(1===r.length)return n;r.shift(),i.shift();continue}const t=r[0][i[0]++];Gt(t)&&e(t)&&n.push(t),Kt(t)&&t.children.length>0&&(i.unshift(0),r.unshift(t.children))}},findOne:Yn,findOneChild:function(e,t){return t.find(e)},getAttributeValue:function(e,t){var n;return null===(n=e.attribs)||void 0===n?void 0:n[t]},getChildren:Bn,getElementById:function(e,t,n=!0){return Array.isArray(t)||(t=[t]),Yn(Kn("id",e),t,n)},getElements:function(e,t,n,r=1/0){const i=Jn(e);return i?Qn(i,t,n,r):[]},getElementsByClassName:function(e,t,n=!0,r=1/0){return Qn(Kn("class",e),t,n,r)},getElementsByTagName:Zn,getElementsByTagType:function(e,t,n=!0,r=1/0){return Qn(zn.tag_type(e),t,n,r)},getFeed:function(e){const t=or(ur,e);return t?"feed"===t.name?function(e){var t;const n=e.children,r={type:"atom",items:Zn("entry",n).map((e=>{var t;const{children:n}=e,r={media:ar(n)};lr(r,"id","id",n),lr(r,"title","title",n);const i=null===(t=or("link",n))||void 0===t?void 0:t.attribs.href;i&&(r.link=i);const s=cr("summary",n)||cr("content",n);s&&(r.description=s);const a=cr("updated",n);return a&&(r.pubDate=new Date(a)),r}))};lr(r,"id","id",n),lr(r,"title","title",n);const i=null===(t=or("link",n))||void 0===t?void 0:t.attribs.href;i&&(r.link=i);lr(r,"description","subtitle",n);const s=cr("updated",n);s&&(r.updated=new Date(s));return lr(r,"author","email",n,!0),r}(t):function(e){var t,n;const r=null!==(n=null===(t=or("channel",e.children))||void 0===t?void 0:t.children)&&void 0!==n?n:[],i={type:e.name.substr(0,3),id:"",items:Zn("item",e.children).map((e=>{const{children:t}=e,n={media:ar(t)};lr(n,"id","guid",t),lr(n,"title","title",t),lr(n,"link","link",t),lr(n,"description","description",t);const r=cr("pubDate",t)||cr("dc:date",t);return r&&(n.pubDate=new Date(r)),n}))};lr(i,"title","title",r),lr(i,"link","link",r),lr(i,"description","description",r);const s=cr("lastBuildDate",r);s&&(i.updated=new Date(s));return lr(i,"author","managingEditor",r,!0),i}(t):null},getInnerHTML:function(e,t){return Kt(e)?e.children.map((e=>Fn(e,t))).join(""):""},getName:function(e){return e.name},getOuterHTML:Fn,getParent:Un,getSiblings:Hn,getText:function e(t){return Array.isArray(t)?t.map(e).join(""):Gt(t)?"br"===t.name?"\n":e(t.children):Wt(t)?e(t.children):Qt(t)?t.data:""},hasAttrib:function(e,t){return null!=e.attribs&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&null!=e.attribs[t]},hasChildren:Kt,innerText:$n,isCDATA:Wt,isComment:Vt,isDocument:zt,isTag:Gt,isText:Qt,nextElementSibling:qn,prepend:function(e,t){Wn(t);const{parent:n}=e;if(n){const r=n.children;r.splice(r.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t},prependChild:function(e,t){if(Wn(t),t.parent=e,t.prev=null,1!==e.children.unshift(t)){const n=e.children[1];n.prev=t,t.next=n}else t.next=null},prevElementSibling:Gn,removeElement:Wn,removeSubsets:function(e){let t=e.length;for(;--t>=0;){const n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0)e.splice(t,1);else for(let r=n.parent;r;r=r.parent)if(e.includes(r)){e.splice(t,1);break}}return e},replaceElement:function(e,t){const n=t.prev=e.prev;n&&(n.next=t);const r=t.next=e.next;r&&(r.prev=t);const i=t.parent=e.parent;if(i){const n=i.children;n[n.lastIndexOf(e)]=t,e.parent=null}},testElement:function(e,t){const n=Jn(e);return!n||n(t)},textContent:jn,uniqueSort:rr},Symbol.toStringTag,{value:"Module"}));function dr(e,t,n){return e?e(null!=t?t:e._root.children,null,void 0,n).toString():""}function fr(e){const t=e||(this?this.root():[]);let n="";for(let r=0;r<t.length;r++)n+=jn(t[r]);return n}function pr(e,t){if(t===e)return!1;let n=t;for(;n&&n!==n.parent;)if(n=n.parent,n===e)return!0;return!1}function mr(e){if(Array.isArray(e))return!0;if("object"!=typeof e||!Object.prototype.hasOwnProperty.call(e,"length")||"number"!=typeof e.length||e.length<0)return!1;for(let t=0;t<e.length;t++)if(!(t in e))return!1;return!0}const gr=Object.freeze(Object.defineProperty({__proto__:null,contains:pr,html:function(e,t){return dr(this,function(e){return"object"==typeof e&&null!=e&&!("length"in e)&&!("type"in e)}(e)?void(t=e):e,{...Tt,...null==this?void 0:this._options,...At(null!=t?t:{})})},merge:function(e,t){if(!mr(e)||!mr(t))return;let n=e.length;const r=+t.length;for(let i=0;i<r;i++)e[n++]=t[i];return e.length=n,e},parseHTML:function(e,t,n="boolean"==typeof t&&t){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t);const r=this.load(e,Tt,!1);return n||r("script").remove(),r.root()[0].children.slice()},root:function(){return this(this._root)},text:fr,xml:function(e){return dr(this,e,{...this._options,xmlMode:!0})}},Symbol.toStringTag,{value:"Module"}));function yr(e){return null!=e.cheerio}function vr(e,t){const n=e.length;for(let r=0;r<n;r++)t(e[r],r);return e}function br(e){const t="length"in e?Array.prototype.map.call(e,(e=>Xt(e,!0))):[Xt(e,!0)],n=new Ht(t);return t.forEach((e=>{e.parent=n})),t}var Er,Tr;function Sr(e){const t=e.indexOf("<");if(t<0||t>e.length-3)return!1;const n=e.charCodeAt(t+1);return(n>=Er.LowerA&&n<=Er.LowerZ||n>=Er.UpperA&&n<=Er.UpperZ||n===Er.Exclamation)&&e.includes(">",t+2)}(Tr=Er||(Er={}))[Tr.LowerA=97]="LowerA",Tr[Tr.LowerZ=122]="LowerZ",Tr[Tr.UpperA=65]="UpperA",Tr[Tr.UpperZ=90]="UpperZ",Tr[Tr.Exclamation=33]="Exclamation";const Ar=Object.prototype.hasOwnProperty,_r=/\s+/,kr="data-",wr={null:null,true:!0,false:!1},Or=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Ir=/^{[^]*}$|^\[[^]*]$/;function Rr(e,t,n){var r;if(e&&Gt(e))return null!==(r=e.attribs)&&void 0!==r||(e.attribs={}),t?Ar.call(e.attribs,t)?!n&&Or.test(t)?t:e.attribs[t]:"option"===e.name&&"value"===t?fr(e.children):"input"!==e.name||"radio"!==e.attribs.type&&"checkbox"!==e.attribs.type||"value"!==t?void 0:"on":e.attribs}function Cr(e,t,n){null===n?Lr(e,t):e.attribs[t]=`${n}`}function Pr(e,t,n){return t in e?e[t]:!n&&Or.test(t)?void 0!==Rr(e,t,!1):Rr(e,t,n)}function Nr(e,t,n,r){t in e?e[t]=n:Cr(e,t,!r&&Or.test(t)?n?"":null:`${n}`)}function xr(e,t,n){var r;const i=e;null!==(r=i.data)&&void 0!==r||(i.data={}),"object"==typeof t?Object.assign(i.data,t):"string"==typeof t&&void 0!==n&&(i.data[t]=n)}function Dr(e,t){let n,r,i;var s;null==t?(n=Object.keys(e.attribs).filter((e=>e.startsWith(kr))),r=n.map((e=>e.slice(5).replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))))):(n=[kr+(s=t,s.replace(/[A-Z]/g,"-$&").toLowerCase())],r=[t]);for(let a=0;a<n.length;++a){const t=n[a],s=r[a];if(Ar.call(e.attribs,t)&&!Ar.call(e.data,s)){if(i=e.attribs[t],Ar.call(wr,i))i=wr[i];else if(i===String(Number(i)))i=Number(i);else if(Ir.test(i))try{i=JSON.parse(i)}catch(YR){}e.data[s]=i}}return null==t?e.data:i}function Lr(e,t){e.attribs&&Ar.call(e.attribs,t)&&delete e.attribs[t]}function Mr(e){return e?e.trim().split(_r):[]}const Fr=Object.freeze(Object.defineProperty({__proto__:null,addClass:function e(t){if("function"==typeof t)return vr(this,((n,r)=>{if(Gt(n)){const i=n.attribs.class||"";e.call([n],t.call(n,r,i))}}));if(!t||"string"!=typeof t)return this;const n=t.split(_r),r=this.length;for(let i=0;i<r;i++){const e=this[i];if(!Gt(e))continue;const t=Rr(e,"class",!1);if(t){let r=` ${t} `;for(let e=0;e<n.length;e++){const t=`${n[e]} `;r.includes(` ${t}`)||(r+=t)}Cr(e,"class",r.trim())}else Cr(e,"class",n.join(" ").trim())}return this},attr:function(e,t){if("object"==typeof e||void 0!==t){if("function"==typeof t){if("string"!=typeof e)throw new Error("Bad combination of arguments.");return vr(this,((n,r)=>{Gt(n)&&Cr(n,e,t.call(n,r,n.attribs[e]))}))}return vr(this,(n=>{Gt(n)&&("object"==typeof e?Object.keys(e).forEach((t=>{const r=e[t];Cr(n,t,r)})):Cr(n,e,t))}))}return arguments.length>1?this:Rr(this[0],e,this.options.xmlMode)},data:function(e,t){var n;const r=this[0];if(!r||!Gt(r))return;const i=r;return null!==(n=i.data)&&void 0!==n||(i.data={}),e?"object"==typeof e||void 0!==t?(vr(this,(n=>{Gt(n)&&("object"==typeof e?xr(n,e):xr(n,e,t))})),this):Ar.call(i.data,e)?i.data[e]:Dr(i,e):Dr(i)},hasClass:function(e){return this.toArray().some((t=>{const n=Gt(t)&&t.attribs.class;let r=-1;if(n&&e.length)for(;(r=n.indexOf(e,r+1))>-1;){const t=r+e.length;if((0===r||_r.test(n[r-1]))&&(t===n.length||_r.test(n[t])))return!0}return!1}))},prop:function(e,t){var n;if("string"==typeof e&&void 0===t){const t=this[0];if(!t||!Gt(t))return;switch(e){case"style":{const e=this.css(),t=Object.keys(e);return t.forEach(((t,n)=>{e[n]=t})),e.length=t.length,e}case"tagName":case"nodeName":return t.name.toUpperCase();case"href":case"src":{const r=null===(n=t.attribs)||void 0===n?void 0:n[e];return"undefined"==typeof URL||("href"!==e||"a"!==t.tagName&&"link"!==t.name)&&("src"!==e||"img"!==t.tagName&&"iframe"!==t.tagName&&"audio"!==t.tagName&&"video"!==t.tagName&&"source"!==t.tagName)||void 0===r||!this.options.baseURI?r:new URL(r,this.options.baseURI).href}case"innerText":return $n(t);case"textContent":return jn(t);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return Pr(t,e,this.options.xmlMode)}}if("object"==typeof e||void 0!==t){if("function"==typeof t){if("object"==typeof e)throw new Error("Bad combination of arguments.");return vr(this,((n,r)=>{Gt(n)&&Nr(n,e,t.call(n,r,Pr(n,e,this.options.xmlMode)),this.options.xmlMode)}))}return vr(this,(n=>{Gt(n)&&("object"==typeof e?Object.keys(e).forEach((t=>{const r=e[t];Nr(n,t,r,this.options.xmlMode)})):Nr(n,e,t,this.options.xmlMode))}))}},removeAttr:function(e){const t=Mr(e);for(let n=0;n<t.length;n++)vr(this,(e=>{Gt(e)&&Lr(e,t[n])}));return this},removeClass:function e(t){if("function"==typeof t)return vr(this,((n,r)=>{Gt(n)&&e.call([n],t.call(n,r,n.attribs.class||""))}));const n=Mr(t),r=n.length,i=0===arguments.length;return vr(this,(e=>{if(Gt(e))if(i)e.attribs.class="";else{const t=Mr(e.attribs.class);let i=!1;for(let e=0;e<r;e++){const r=t.indexOf(n[e]);r>=0&&(t.splice(r,1),i=!0,e--)}i&&(e.attribs.class=t.join(" "))}}))},toggleClass:function e(t,n){if("function"==typeof t)return vr(this,((r,i)=>{Gt(r)&&e.call([r],t.call(r,i,r.attribs.class||"",n),n)}));if(!t||"string"!=typeof t)return this;const r=t.split(_r),i=r.length,s="boolean"==typeof n?n?1:-1:0,a=this.length;for(let o=0;o<a;o++){const e=this[o];if(!Gt(e))continue;const t=Mr(e.attribs.class);for(let n=0;n<i;n++){const e=t.indexOf(r[n]);s>=0&&e<0?t.push(r[n]):s<=0&&e>=0&&t.splice(e,1)}e.attribs.class=t.join(" ")}return this},val:function(e){const t=0===arguments.length,n=this[0];if(!n||!Gt(n))return t?void 0:this;switch(n.name){case"textarea":return this.text(e);case"select":{const n=this.find("option:selected");if(!t){if(null==this.attr("multiple")&&"object"==typeof e)return this;this.find("option").removeAttr("selected");const t="object"!=typeof e?[e]:e;for(let e=0;e<t.length;e++)this.find(`option[value="${t[e]}"]`).attr("selected","");return this}return this.attr("multiple")?n.toArray().map((e=>fr(e.children))):n.attr("value")}case"input":case"option":return t?this.attr("value"):this.attr("value",e)}}},Symbol.toStringTag,{value:"Module"}));var jr,$r,Br,Ur;($r=jr||(jr={})).Attribute="attribute",$r.Pseudo="pseudo",$r.PseudoElement="pseudo-element",$r.Tag="tag",$r.Universal="universal",$r.Adjacent="adjacent",$r.Child="child",$r.Descendant="descendant",$r.Parent="parent",$r.Sibling="sibling",$r.ColumnCombinator="column-combinator",(Ur=Br||(Br={})).Any="any",Ur.Element="element",Ur.End="end",Ur.Equals="equals",Ur.Exists="exists",Ur.Hyphen="hyphen",Ur.Not="not",Ur.Start="start";const Hr=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,qr=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,Gr=new Map([[126,Br.Element],[94,Br.Start],[36,Br.End],[42,Br.Any],[33,Br.Not],[124,Br.Hyphen]]),Wr=new Set(["has","not","matches","is","where","host","host-context"]);function Qr(e){switch(e.type){case jr.Adjacent:case jr.Child:case jr.Descendant:case jr.Parent:case jr.Sibling:case jr.ColumnCombinator:return!0;default:return!1}}const Vr=new Set(["contains","icontains"]);function Yr(e,t,n){const r=parseInt(t,16)-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)}function zr(e){return e.replace(qr,Yr)}function Kr(e){return 39===e||34===e}function Xr(e){return 32===e||9===e||10===e||12===e||13===e}function Jr(e){const t=[],n=Zr(t,`${e}`,0);if(n<e.length)throw new Error(`Unmatched selector: ${e.slice(n)}`);return t}function Zr(e,t,n){let r=[];function i(e){const r=t.slice(n+e).match(Hr);if(!r)throw new Error(`Expected name, found ${t.slice(n)}`);const[i]=r;return n+=e+i.length,zr(i)}function s(e){for(n+=e;n<t.length&&Xr(t.charCodeAt(n));)n++}function a(){const e=n+=1;let r=1;for(;r>0&&n<t.length;n++)40!==t.charCodeAt(n)||o(n)?41!==t.charCodeAt(n)||o(n)||r--:r++;if(r)throw new Error("Parenthesis not matched");return zr(t.slice(e,n-1))}function o(e){let n=0;for(;92===t.charCodeAt(--e);)n++;return!(1&~n)}function c(){if(r.length>0&&Qr(r[r.length-1]))throw new Error("Did not expect successive traversals.")}function l(e){r.length>0&&r[r.length-1].type===jr.Descendant?r[r.length-1].type=e:(c(),r.push({type:e}))}function u(e,t){r.push({type:jr.Attribute,name:e,action:t,value:i(1),namespace:null,ignoreCase:"quirks"})}function h(){if(r.length&&r[r.length-1].type===jr.Descendant&&r.pop(),0===r.length)throw new Error("Empty sub-selector");e.push(r)}if(s(0),t.length===n)return n;e:for(;n<t.length;){const e=t.charCodeAt(n);switch(e){case 32:case 9:case 10:case 12:case 13:0!==r.length&&r[0].type===jr.Descendant||(c(),r.push({type:jr.Descendant})),s(1);break;case 62:l(jr.Child),s(1);break;case 60:l(jr.Parent),s(1);break;case 126:l(jr.Sibling),s(1);break;case 43:l(jr.Adjacent),s(1);break;case 46:u("class",Br.Element);break;case 35:u("id",Br.Equals);break;case 91:{let e;s(1);let a=null;124===t.charCodeAt(n)?e=i(1):t.startsWith("*|",n)?(a="*",e=i(2)):(e=i(0),124===t.charCodeAt(n)&&61!==t.charCodeAt(n+1)&&(a=e,e=i(1))),s(0);let c=Br.Exists;const l=Gr.get(t.charCodeAt(n));if(l){if(c=l,61!==t.charCodeAt(n+1))throw new Error("Expected `=`");s(2)}else 61===t.charCodeAt(n)&&(c=Br.Equals,s(1));let u="",h=null;if("exists"!==c){if(Kr(t.charCodeAt(n))){const e=t.charCodeAt(n);let r=n+1;for(;r<t.length&&(t.charCodeAt(r)!==e||o(r));)r+=1;if(t.charCodeAt(r)!==e)throw new Error("Attribute value didn't end");u=zr(t.slice(n+1,r)),n=r+1}else{const e=n;for(;n<t.length&&(!Xr(t.charCodeAt(n))&&93!==t.charCodeAt(n)||o(n));)n+=1;u=zr(t.slice(e,n))}s(0);const e=32|t.charCodeAt(n);115===e?(h=!1,s(1)):105===e&&(h=!0,s(1))}if(93!==t.charCodeAt(n))throw new Error("Attribute selector didn't terminate");n+=1;const d={type:jr.Attribute,name:e,action:c,value:u,namespace:a,ignoreCase:h};r.push(d);break}case 58:{if(58===t.charCodeAt(n+1)){r.push({type:jr.PseudoElement,name:i(2).toLowerCase(),data:40===t.charCodeAt(n)?a():null});continue}const e=i(1).toLowerCase();let s=null;if(40===t.charCodeAt(n))if(Wr.has(e)){if(Kr(t.charCodeAt(n+1)))throw new Error(`Pseudo-selector ${e} cannot be quoted`);if(s=[],n=Zr(s,t,n+1),41!==t.charCodeAt(n))throw new Error(`Missing closing parenthesis in :${e} (${t})`);n+=1}else{if(s=a(),Vr.has(e)){const e=s.charCodeAt(0);e===s.charCodeAt(s.length-1)&&Kr(e)&&(s=s.slice(1,-1))}s=zr(s)}r.push({type:jr.Pseudo,name:e,data:s});break}case 44:h(),r=[],s(1);break;default:{if(t.startsWith("/*",n)){const e=t.indexOf("*/",n+2);if(e<0)throw new Error("Comment was not terminated");n=e+2,0===r.length&&s(0);break}let a,o=null;if(42===e)n+=1,a="*";else if(124===e){if(a="",124===t.charCodeAt(n+1)){l(jr.ColumnCombinator),s(2);break}}else{if(!Hr.test(t.slice(n)))break e;a=i(0)}124===t.charCodeAt(n)&&124!==t.charCodeAt(n+1)&&(o=a,42===t.charCodeAt(n+1)?(a="*",n+=2):a=i(1)),r.push("*"===a?{type:jr.Universal,namespace:o}:{type:jr.Tag,name:a,namespace:o})}}}return h(),n}var ei="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ti(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ni(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var ri={trueFunc:function(){return!0},falseFunc:function(){return!1}};const ii=ti(ri),si=new Map([[jr.Universal,50],[jr.Tag,30],[jr.Attribute,1],[jr.Pseudo,0]]);function ai(e){return!si.has(e.type)}const oi=new Map([[Br.Exists,10],[Br.Equals,8],[Br.Not,7],[Br.Start,6],[Br.End,6],[Br.Any,5]]);function ci(e){const t=e.map(li);for(let n=1;n<e.length;n++){const r=t[n];if(!(r<0))for(let i=n-1;i>=0&&r<t[i];i--){const n=e[i+1];e[i+1]=e[i],e[i]=n,t[i+1]=t[i],t[i]=r}}}function li(e){var t,n;let r=null!==(t=si.get(e.type))&&void 0!==t?t:-1;return e.type===jr.Attribute?(r=null!==(n=oi.get(e.action))&&void 0!==n?n:4,e.action===Br.Equals&&"id"===e.name&&(r=9),e.ignoreCase&&(r>>=1)):e.type===jr.Pseudo&&(e.data?"has"===e.name||"contains"===e.name?r=0:Array.isArray(e.data)?(r=Math.min(...e.data.map((e=>Math.min(...e.map(li))))),r<0&&(r=0)):r=2:r=3),r}const ui=/[-[\]{}()*+?.,\\^$|#\s]/g;function hi(e){return e.replace(ui,"\\$&")}const di=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function fi(e,t){return"boolean"==typeof e.ignoreCase?e.ignoreCase:"quirks"===e.ignoreCase?!!t.quirksMode:!t.xmlMode&&di.has(e.name)}const pi={equals(e,t,n){const{adapter:r}=n,{name:i}=t;let{value:s}=t;return fi(t,n)?(s=s.toLowerCase(),t=>{const n=r.getAttributeValue(t,i);return null!=n&&n.length===s.length&&n.toLowerCase()===s&&e(t)}):t=>r.getAttributeValue(t,i)===s&&e(t)},hyphen(e,t,n){const{adapter:r}=n,{name:i}=t;let{value:s}=t;const a=s.length;return fi(t,n)?(s=s.toLowerCase(),function(t){const n=r.getAttributeValue(t,i);return null!=n&&(n.length===a||"-"===n.charAt(a))&&n.substr(0,a).toLowerCase()===s&&e(t)}):function(t){const n=r.getAttributeValue(t,i);return null!=n&&(n.length===a||"-"===n.charAt(a))&&n.substr(0,a)===s&&e(t)}},element(e,t,n){const{adapter:r}=n,{name:i,value:s}=t;if(/\s/.test(s))return ii.falseFunc;const a=new RegExp(`(?:^|\\s)${hi(s)}(?:$|\\s)`,fi(t,n)?"i":"");return function(t){const n=r.getAttributeValue(t,i);return null!=n&&n.length>=s.length&&a.test(n)&&e(t)}},exists:(e,{name:t},{adapter:n})=>r=>n.hasAttrib(r,t)&&e(r),start(e,t,n){const{adapter:r}=n,{name:i}=t;let{value:s}=t;const a=s.length;return 0===a?ii.falseFunc:fi(t,n)?(s=s.toLowerCase(),t=>{const n=r.getAttributeValue(t,i);return null!=n&&n.length>=a&&n.substr(0,a).toLowerCase()===s&&e(t)}):t=>{var n;return!!(null===(n=r.getAttributeValue(t,i))||void 0===n?void 0:n.startsWith(s))&&e(t)}},end(e,t,n){const{adapter:r}=n,{name:i}=t;let{value:s}=t;const a=-s.length;return 0===a?ii.falseFunc:fi(t,n)?(s=s.toLowerCase(),t=>{var n;return(null===(n=r.getAttributeValue(t,i))||void 0===n?void 0:n.substr(a).toLowerCase())===s&&e(t)}):t=>{var n;return!!(null===(n=r.getAttributeValue(t,i))||void 0===n?void 0:n.endsWith(s))&&e(t)}},any(e,t,n){const{adapter:r}=n,{name:i,value:s}=t;if(""===s)return ii.falseFunc;if(fi(t,n)){const t=new RegExp(hi(s),"i");return function(n){const a=r.getAttributeValue(n,i);return null!=a&&a.length>=s.length&&t.test(a)&&e(n)}}return t=>{var n;return!!(null===(n=r.getAttributeValue(t,i))||void 0===n?void 0:n.includes(s))&&e(t)}},not(e,t,n){const{adapter:r}=n,{name:i}=t;let{value:s}=t;return""===s?t=>!!r.getAttributeValue(t,i)&&e(t):fi(t,n)?(s=s.toLowerCase(),t=>{const n=r.getAttributeValue(t,i);return(null==n||n.length!==s.length||n.toLowerCase()!==s)&&e(t)}):t=>r.getAttributeValue(t,i)!==s&&e(t)}},mi=new Set([9,10,12,13,32]),gi="0".charCodeAt(0),yi="9".charCodeAt(0);function vi(e){return function(e){const t=e[0],n=e[1]-1;if(n<0&&t<=0)return ii.falseFunc;if(-1===t)return e=>e<=n;if(0===t)return e=>e===n;if(1===t)return n<0?ii.trueFunc:e=>e>=n;const r=Math.abs(t),i=(n%r+r)%r;return t>1?e=>e>=n&&e%r===i:e=>e<=n&&e%r===i}(function(e){if("even"===(e=e.trim().toLowerCase()))return[2,0];if("odd"===e)return[2,1];let t=0,n=0,r=s(),i=a();if(t<e.length&&"n"===e.charAt(t)&&(t++,n=r*(null!=i?i:1),o(),t<e.length?(r=s(),o(),i=a()):r=i=0),null===i||t<e.length)throw new Error(`n-th rule couldn't be parsed ('${e}')`);return[n,r*i];function s(){return"-"===e.charAt(t)?(t++,-1):("+"===e.charAt(t)&&t++,1)}function a(){const n=t;let r=0;for(;t<e.length&&e.charCodeAt(t)>=gi&&e.charCodeAt(t)<=yi;)r=10*r+(e.charCodeAt(t)-gi),t++;return t===n?null:r}function o(){for(;t<e.length&&mi.has(e.charCodeAt(t));)t++}}(e))}function bi(e,t){return n=>{const r=t.getParent(n);return null!=r&&t.isTag(r)&&e(n)}}const Ei={contains:(e,t,{adapter:n})=>function(r){return e(r)&&n.getText(r).includes(t)},icontains(e,t,{adapter:n}){const r=t.toLowerCase();return function(t){return e(t)&&n.getText(t).toLowerCase().includes(r)}},"nth-child"(e,t,{adapter:n,equals:r}){const i=vi(t);return i===ii.falseFunc?ii.falseFunc:i===ii.trueFunc?bi(e,n):function(t){const s=n.getSiblings(t);let a=0;for(let e=0;e<s.length&&!r(t,s[e]);e++)n.isTag(s[e])&&a++;return i(a)&&e(t)}},"nth-last-child"(e,t,{adapter:n,equals:r}){const i=vi(t);return i===ii.falseFunc?ii.falseFunc:i===ii.trueFunc?bi(e,n):function(t){const s=n.getSiblings(t);let a=0;for(let e=s.length-1;e>=0&&!r(t,s[e]);e--)n.isTag(s[e])&&a++;return i(a)&&e(t)}},"nth-of-type"(e,t,{adapter:n,equals:r}){const i=vi(t);return i===ii.falseFunc?ii.falseFunc:i===ii.trueFunc?bi(e,n):function(t){const s=n.getSiblings(t);let a=0;for(let e=0;e<s.length;e++){const i=s[e];if(r(t,i))break;n.isTag(i)&&n.getName(i)===n.getName(t)&&a++}return i(a)&&e(t)}},"nth-last-of-type"(e,t,{adapter:n,equals:r}){const i=vi(t);return i===ii.falseFunc?ii.falseFunc:i===ii.trueFunc?bi(e,n):function(t){const s=n.getSiblings(t);let a=0;for(let e=s.length-1;e>=0;e--){const i=s[e];if(r(t,i))break;n.isTag(i)&&n.getName(i)===n.getName(t)&&a++}return i(a)&&e(t)}},root:(e,t,{adapter:n})=>t=>{const r=n.getParent(t);return(null==r||!n.isTag(r))&&e(t)},scope(e,t,n,r){const{equals:i}=n;return r&&0!==r.length?1===r.length?t=>i(r[0],t)&&e(t):t=>r.includes(t)&&e(t):Ei.root(e,t,n)},hover:Ti("isHovered"),visited:Ti("isVisited"),active:Ti("isActive")};function Ti(e){return function(t,n,{adapter:r}){const i=r[e];return"function"!=typeof i?ii.falseFunc:function(e){return i(e)&&t(e)}}}const Si={empty:(e,{adapter:t})=>!t.getChildren(e).some((e=>t.isTag(e)||""!==t.getText(e))),"first-child"(e,{adapter:t,equals:n}){if(t.prevElementSibling)return null==t.prevElementSibling(e);const r=t.getSiblings(e).find((e=>t.isTag(e)));return null!=r&&n(e,r)},"last-child"(e,{adapter:t,equals:n}){const r=t.getSiblings(e);for(let i=r.length-1;i>=0;i--){if(n(e,r[i]))return!0;if(t.isTag(r[i]))break}return!1},"first-of-type"(e,{adapter:t,equals:n}){const r=t.getSiblings(e),i=t.getName(e);for(let s=0;s<r.length;s++){const a=r[s];if(n(e,a))return!0;if(t.isTag(a)&&t.getName(a)===i)break}return!1},"last-of-type"(e,{adapter:t,equals:n}){const r=t.getSiblings(e),i=t.getName(e);for(let s=r.length-1;s>=0;s--){const a=r[s];if(n(e,a))return!0;if(t.isTag(a)&&t.getName(a)===i)break}return!1},"only-of-type"(e,{adapter:t,equals:n}){const r=t.getName(e);return t.getSiblings(e).every((i=>n(e,i)||!t.isTag(i)||t.getName(i)!==r))},"only-child":(e,{adapter:t,equals:n})=>t.getSiblings(e).every((r=>n(e,r)||!t.isTag(r)))};function Ai(e,t,n,r){if(null===n){if(e.length>r)throw new Error(`Pseudo-class :${t} requires an argument`)}else if(e.length===r)throw new Error(`Pseudo-class :${t} doesn't have any arguments`)}const _i={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:":is(\n        :is(button, input, select, textarea, optgroup, option)[disabled],\n        optgroup[disabled] > option,\n        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)\n    )",enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},ki={};function wi(e,t){const n=t.getSiblings(e);if(n.length<=1)return[];const r=n.indexOf(e);return r<0||r===n.length-1?[]:n.slice(r+1).filter(t.isTag)}function Oi(e){return{xmlMode:!!e.xmlMode,lowerCaseAttributeNames:!!e.lowerCaseAttributeNames,lowerCaseTags:!!e.lowerCaseTags,quirksMode:!!e.quirksMode,cacheResults:!!e.cacheResults,pseudos:e.pseudos,adapter:e.adapter,equals:e.equals}}const Ii=(e,t,n,r,i)=>{const s=i(t,Oi(n),r);return s===ii.trueFunc?e:s===ii.falseFunc?ii.falseFunc:t=>s(t)&&e(t)},Ri={is:Ii,matches:Ii,where:Ii,not(e,t,n,r,i){const s=i(t,Oi(n),r);return s===ii.falseFunc?e:s===ii.trueFunc?ii.falseFunc:t=>!s(t)&&e(t)},has(e,t,n,r,i){const{adapter:s}=n,a=Oi(n);a.relativeSelector=!0;const o=t.some((e=>e.some(ai)))?[ki]:void 0,c=i(t,a,o);if(c===ii.falseFunc)return ii.falseFunc;const l=function(e,t){return e===ii.falseFunc?ii.falseFunc:n=>t.isTag(n)&&e(n)}(c,s);if(o&&c!==ii.trueFunc){const{shouldTestNextSiblings:t=!1}=c;return n=>{if(!e(n))return!1;o[0]=n;const r=s.getChildren(n),i=t?[...r,...wi(n,s)]:r;return s.existsOne(l,i)}}return t=>e(t)&&s.existsOne(l,s.getChildren(t))}};function Ci(e,t){const n=t.getParent(e);return n&&t.isTag(n)?n:null}function Pi(e,t,n,r,i){const{adapter:s,equals:a}=n;switch(t.type){case jr.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case jr.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case jr.Attribute:if(null!=t.namespace)throw new Error("Namespaced attributes are not yet supported by css-select");return n.xmlMode&&!n.lowerCaseAttributeNames||(t.name=t.name.toLowerCase()),pi[t.action](e,t,n);case jr.Pseudo:return function(e,t,n,r,i){var s;const{name:a,data:o}=t;if(Array.isArray(o)){if(!(a in Ri))throw new Error(`Unknown pseudo-class :${a}(${o})`);return Ri[a](e,o,n,r,i)}const c=null===(s=n.pseudos)||void 0===s?void 0:s[a],l="string"==typeof c?c:_i[a];if("string"==typeof l){if(null!=o)throw new Error(`Pseudo ${a} doesn't have any arguments`);const t=Jr(l);return Ri.is(e,t,n,r,i)}if("function"==typeof c)return Ai(c,a,o,1),t=>c(t,o)&&e(t);if(a in Ei)return Ei[a](e,o,n,r);if(a in Si){const t=Si[a];return Ai(t,a,o,2),r=>t(r,n,o)&&e(r)}throw new Error(`Unknown pseudo-class :${a}`)}(e,t,n,r,i);case jr.Tag:{if(null!=t.namespace)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:r}=t;return n.xmlMode&&!n.lowerCaseTags||(r=r.toLowerCase()),function(t){return s.getName(t)===r&&e(t)}}case jr.Descendant:{if(!1===n.cacheResults||"undefined"==typeof WeakSet)return function(t){let n=t;for(;n=Ci(n,s);)if(e(n))return!0;return!1};const t=new WeakSet;return function(n){let r=n;for(;r=Ci(r,s);)if(!t.has(r)){if(s.isTag(r)&&e(r))return!0;t.add(r)}return!1}}case"_flexibleDescendant":return function(t){let n=t;do{if(e(n))return!0}while(n=Ci(n,s));return!1};case jr.Parent:return function(t){return s.getChildren(t).some((t=>s.isTag(t)&&e(t)))};case jr.Child:return function(t){const n=s.getParent(t);return null!=n&&s.isTag(n)&&e(n)};case jr.Sibling:return function(t){const n=s.getSiblings(t);for(let r=0;r<n.length;r++){const i=n[r];if(a(t,i))break;if(s.isTag(i)&&e(i))return!0}return!1};case jr.Adjacent:return s.prevElementSibling?function(t){const n=s.prevElementSibling(t);return null!=n&&e(n)}:function(t){const n=s.getSiblings(t);let r;for(let e=0;e<n.length;e++){const i=n[e];if(a(t,i))break;s.isTag(i)&&(r=i)}return!!r&&e(r)};case jr.Universal:if(null!=t.namespace&&"*"!==t.namespace)throw new Error("Namespaced universal selectors are not yet supported by css-select");return e}}function Ni(e){return e.type===jr.Pseudo&&("scope"===e.name||Array.isArray(e.data)&&e.data.some((e=>e.some(Ni))))}const xi={type:jr.Descendant},Di={type:"_flexibleDescendant"},Li={type:jr.Pseudo,name:"scope",data:null};function Mi(e,t,n){var r;e.forEach(ci),n=null!==(r=t.context)&&void 0!==r?r:n;const i=Array.isArray(n),s=n&&(Array.isArray(n)?n:[n]);if(!1!==t.relativeSelector)!function(e,{adapter:t},n){const r=!!(null==n?void 0:n.every((e=>{const n=t.isTag(e)&&t.getParent(e);return e===ki||n&&t.isTag(n)})));for(const i of e){if(i.length>0&&ai(i[0])&&i[0].type!==jr.Descendant);else{if(!r||i.some(Ni))continue;i.unshift(xi)}i.unshift(Li)}}(e,t,s);else if(e.some((e=>e.length>0&&ai(e[0]))))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let a=!1;const o=e.map((e=>{if(e.length>=2){const[t,n]=e;t.type!==jr.Pseudo||"scope"!==t.name||(i&&n.type===jr.Descendant?e[1]=Di:n.type!==jr.Adjacent&&n.type!==jr.Sibling||(a=!0))}return function(e,t,n){var r;return e.reduce(((e,r)=>e===ii.falseFunc?ii.falseFunc:Pi(e,r,t,n,Mi)),null!==(r=t.rootFunc)&&void 0!==r?r:ii.trueFunc)}(e,t,s)})).reduce(Fi,ii.falseFunc);return o.shouldTestNextSiblings=a,o}function Fi(e,t){return t===ii.falseFunc||e===ii.trueFunc?e:e===ii.falseFunc||t===ii.trueFunc?t:function(n){return e(n)||t(n)}}const ji=(e,t)=>e===t,$i={adapter:hr,equals:ji};const Bi=(Ui=Mi,function(e,t,n){const r=function(e){var t,n,r,i;const s=null!=e?e:$i;return null!==(t=s.adapter)&&void 0!==t||(s.adapter=hr),null!==(n=s.equals)&&void 0!==n||(s.equals=null!==(i=null===(r=s.adapter)||void 0===r?void 0:r.equals)&&void 0!==i?i:ji),s}(t);return Ui(e,r,n)});var Ui;function Hi(e,t,n=!1){return n&&(e=function(e,t){const n=Array.isArray(e)?e.slice(0):[e],r=n.length;for(let i=0;i<r;i++){const e=wi(n[i],t);n.push(...e)}return n}(e,t)),Array.isArray(e)?t.removeSubsets(e):t.getChildren(e)}const qi=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function Gi(e){return"pseudo"===e.type&&(!!qi.has(e.name)||!("not"!==e.name||!Array.isArray(e.data))&&e.data.some((e=>e.some(Gi))))}function Wi(e){const t=[],n=[];for(const r of e)r.some(Gi)?t.push(r):n.push(r);return[n,t]}const Qi={type:jr.Universal,namespace:null},Vi={type:jr.Pseudo,name:"scope",data:null};function Yi(e,t,n={}){return zi([e],t,n)}function zi(e,t,n={}){if("function"==typeof t)return e.some(t);const[r,i]=Wi(Jr(t));return r.length>0&&e.some(Bi(r,n))||i.some((t=>Ji(t,e,n).length>0))}function Ki(e,t,n={}){return Xi(Jr(e),t,n)}function Xi(e,t,n){if(0===t.length)return[];const[r,i]=Wi(e);let s;if(r.length){const e=ns(t,r,n);if(0===i.length)return e;e.length&&(s=new Set(e))}for(let a=0;a<i.length&&(null==s?void 0:s.size)!==t.length;a++){const e=i[a];if(0===(s?t.filter((e=>Gt(e)&&!s.has(e))):t).length)break;const r=Ji(e,t,n);if(r.length)if(s)r.forEach((e=>s.add(e)));else{if(a===i.length-1)return r;s=new Set(r)}}return void 0!==s?s.size===t.length?t:t.filter((e=>s.has(e))):[]}function Ji(e,t,n){var r;if(e.some(Qr)){const i=null!==(r=n.root)&&void 0!==r?r:function(e){for(;e.parent;)e=e.parent;return e}(t[0]),s={...n,context:t,relativeSelector:!1};return e.push(Vi),Zi(i,e,s,!0,t.length)}return Zi(t,e,n,!1,t.length)}function Zi(e,t,n,r,i){const s=t.findIndex(Gi),a=t.slice(0,s),o=t[s],c=t.length-1===s?i:1/0,l=function(e,t,n){const r=null!=t?parseInt(t,10):NaN;switch(e){case"first":return 1;case"nth":case"eq":return isFinite(r)?r>=0?r+1:1/0:0;case"lt":return isFinite(r)?r>=0?Math.min(r,n):1/0:0;case"gt":return isFinite(r)?1/0:0;case"odd":return 2*n;case"even":return 2*n-1;case"last":case"not":return 1/0}}(o.name,o.data,c);if(0===l)return[];const u=(0!==a.length||Array.isArray(e)?0===a.length?(Array.isArray(e)?e:[e]).filter(Gt):r||a.some(Qr)?es(e,[a],n,l):ns(e,[a],n):Bn(e).filter(Gt)).slice(0,l);let h=function(e,t,n,r){const i="string"==typeof n?parseInt(n,10):NaN;switch(e){case"first":case"lt":return t;case"last":return t.length>0?[t[t.length-1]]:t;case"nth":case"eq":return isFinite(i)&&Math.abs(i)<t.length?[i<0?t[t.length+i]:t[i]]:[];case"gt":return isFinite(i)?t.slice(i+1):[];case"even":return t.filter(((e,t)=>t%2==0));case"odd":return t.filter(((e,t)=>t%2==1));case"not":{const e=new Set(Xi(n,t,r));return t.filter((t=>!e.has(t)))}}}(o.name,u,o.data,n);if(0===h.length||t.length===s+1)return h;const d=t.slice(s+1),f=d.some(Qr);if(f){if(Qr(d[0])){const{type:e}=d[0];e!==jr.Sibling&&e!==jr.Adjacent||(h=Hi(h,hr,!0)),d.unshift(Qi)}n={...n,relativeSelector:!1,rootFunc:e=>h.includes(e)}}else n.rootFunc&&n.rootFunc!==ri.trueFunc&&(n={...n,rootFunc:ri.trueFunc});return d.some(Gi)?Zi(h,d,n,!1,i):f?es(h,[d],n,i):ns(h,[d],n)}function es(e,t,n,r){return ts(e,Bi(t,n,e),r)}function ts(e,t,n=1/0){return Vn((e=>Gt(e)&&t(e)),Hi(e,hr,t.shouldTestNextSiblings),!0,n)}function ns(e,t,n){const r=(Array.isArray(e)?e:[e]).filter(Gt);if(0===r.length)return r;const i=Bi(t,n);return i===ri.trueFunc?r:r.filter(i)}const rs=/^\s*[~+]/;function is(e){return function(t,...n){return function(r){var i;let s=e(t,this);return r&&(s=Ts(s,r,this.options.xmlMode,null===(i=this._root)||void 0===i?void 0:i[0])),this._make(this.length>1&&s.length>1?n.reduce(((e,t)=>t(e)),s):s)}}}const ss=is(((e,t)=>{const n=[];for(let r=0;r<t.length;r++){const i=e(t[r]);n.push(i)}return(new Array).concat(...n)})),as=is(((e,t)=>{const n=[];for(let r=0;r<t.length;r++){const i=e(t[r]);null!==i&&n.push(i)}return n}));function os(e,...t){let n=null;const r=is(((e,t)=>{const r=[];return vr(t,(t=>{for(let i;(i=e(t))&&!(null==n?void 0:n(i,r.length));t=i)r.push(i)})),r}))(e,...t);return function(e,t){n="string"==typeof e?t=>Yi(t,e,this.options):e?Es(e):null;const i=r.call(this,t);return n=null,i}}function cs(e){return Array.from(new Set(e))}const ls=as((({parent:e})=>e&&!zt(e)?e:null),cs),us=ss((e=>{const t=[];for(;e.parent&&!zt(e.parent);)t.push(e.parent),e=e.parent;return t}),rr,(e=>e.reverse())),hs=os((({parent:e})=>e&&!zt(e)?e:null),rr,(e=>e.reverse()));const ds=as((e=>qn(e))),fs=ss((e=>{const t=[];for(;e.next;)Gt(e=e.next)&&t.push(e);return t}),cs),ps=os((e=>qn(e)),cs),ms=as((e=>Gn(e))),gs=ss((e=>{const t=[];for(;e.prev;)Gt(e=e.prev)&&t.push(e);return t}),cs),ys=os((e=>Gn(e)),cs),vs=ss((e=>Hn(e).filter((t=>Gt(t)&&t!==e))),rr),bs=ss((e=>Bn(e).filter(Gt)),cs);function Es(e){return"function"==typeof e?(t,n)=>e.call(t,n,t):yr(e)?t=>Array.prototype.includes.call(e,t):function(t){return e===t}}function Ts(e,t,n,r){return"string"==typeof t?Ki(t,e,{xmlMode:n,root:r}):e.filter(Es(t))}const Ss=Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t){const n=this._make(e,t),r=rr([...this.get(),...n.get()]);return this._make(r)},addBack:function(e){return this.prevObject?this.add(e?this.prevObject.filter(e):this.prevObject):this},children:bs,closest:function(e){var t;const n=[];if(!e)return this._make(n);const r={xmlMode:this.options.xmlMode,root:null===(t=this._root)||void 0===t?void 0:t[0]},i="string"==typeof e?t=>Yi(t,e,r):Es(e);return vr(this,(e=>{for(;e&&Gt(e);){if(i(e,0)){n.includes(e)||n.push(e);break}e=e.parent}})),this._make(n)},contents:function(){const e=this.toArray().reduce(((e,t)=>Kt(t)?e.concat(t.children):e),[]);return this._make(e)},each:function(e){let t=0;const n=this.length;for(;t<n&&!1!==e.call(this[t],t,this[t]);)++t;return this},end:function(){var e;return null!==(e=this.prevObject)&&void 0!==e?e:this._make([])},eq:function(e){var t;return 0===(e=+e)&&this.length<=1?this:(e<0&&(e=this.length+e),this._make(null!==(t=this[e])&&void 0!==t?t:[]))},filter:function(e){var t;return this._make(Ts(this.toArray(),e,this.options.xmlMode,null===(t=this._root)||void 0===t?void 0:t[0]))},filterArray:Ts,find:function(e){var t;if(!e)return this._make([]);const n=this.toArray();if("string"!=typeof e){const t=yr(e)?e.toArray():[e];return this._make(t.filter((e=>n.some((t=>pr(t,e))))))}const r=rs.test(e)?n:this.children().toArray(),i={context:n,root:null===(t=this._root)||void 0===t?void 0:t[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(function(e,t,n={},r=1/0){if("function"==typeof e)return ts(t,e);const[i,s]=Wi(Jr(e)),a=s.map((e=>Zi(t,e,n,!0,r)));return i.length&&a.push(es(t,i,n,r)),0===a.length?[]:1===a.length?a[0]:rr(a.reduce(((e,t)=>[...e,...t])))}(e,r,i))},first:function(){return this.length>1?this._make(this[0]):this},get:function(e){return null==e?this.toArray():this[e<0?this.length+e:e]},has:function(e){return this.filter("string"==typeof e?`:has(${e})`:(t,n)=>this._make(n).find(e).length>0)},index:function(e){let t,n;return null==e?(t=this.parent().children(),n=this[0]):"string"==typeof e?(t=this._make(e),n=this[0]):(t=this,n=yr(e)?e[0]:e),Array.prototype.indexOf.call(t,n)},is:function(e){const t=this.toArray();return"string"==typeof e?zi(t.filter(Gt),e,this.options):!!e&&t.some(Es(e))},last:function(){return this.length>0?this._make(this[this.length-1]):this},map:function(e){let t=[];for(let n=0;n<this.length;n++){const r=this[n],i=e.call(r,n,r);null!=i&&(t=t.concat(i))}return this._make(t)},next:ds,nextAll:fs,nextUntil:ps,not:function(e){let t=this.toArray();if("string"==typeof e){const n=new Set(Ki(e,t,this.options));t=t.filter((e=>!n.has(e)))}else{const n=Es(e);t=t.filter(((e,t)=>!n(e,t)))}return this._make(t)},parent:ls,parents:us,parentsUntil:hs,prev:ms,prevAll:gs,prevUntil:ys,siblings:vs,slice:function(e,t){return this._make(Array.prototype.slice.call(this,e,t))},toArray:function(){return Array.prototype.slice.call(this)}},Symbol.toStringTag,{value:"Module"}));function As(e,t){const n=Array.isArray(e)?e:[e];t?t.children=n:t=null;for(let r=0;r<n.length;r++){const e=n[r];e.parent&&e.parent.children!==n&&Wn(e),t?(e.prev=n[r-1]||null,e.next=n[r+1]||null):e.prev=e.next=null,e.parent=t}return t}function _s(e){return function(...t){const n=this.length-1;return vr(this,((r,i)=>{if(!Kt(r))return;const s="function"==typeof t[0]?t[0].call(r,i,this._render(r.children)):t,a=this._makeDomArray(s,i<n);e(a,r.children,r)}))}}function ks(e,t,n,r,i){var s,a;const o=[t,n,...r],c=0===t?null:e[t-1],l=t+n>=e.length?null:e[t+n];for(let u=0;u<r.length;++u){const e=r[u],n=e.parent;if(n){const r=n.children.indexOf(e);r>-1&&(n.children.splice(r,1),i===n&&t>r&&o[0]--)}e.parent=i,e.prev&&(e.prev.next=null!==(s=e.next)&&void 0!==s?s:null),e.next&&(e.next.prev=null!==(a=e.prev)&&void 0!==a?a:null),e.prev=0===u?c:r[u-1],e.next=u===r.length-1?l:r[u+1]}return c&&(c.next=r[0]),l&&(l.prev=r[r.length-1]),e.splice(...o)}const ws=_s(((e,t,n)=>{ks(t,t.length,0,e,n)})),Os=_s(((e,t,n)=>{ks(t,0,0,e,n)}));function Is(e){return function(t){const n=this.length-1,r=this.parents().last();for(let i=0;i<this.length;i++){const s=this[i],a="function"==typeof t?t.call(s,i,s):"string"!=typeof t||Sr(t)?t:r.find(t).clone(),[o]=this._makeDomArray(a,i<n);if(!o||!Kt(o))continue;let c=o,l=0;for(;l<c.children.length;){const e=c.children[l];Gt(e)?(c=e,l=0):l++}e(s,c,[o])}return this}}const Rs=Is(((e,t,n)=>{const{parent:r}=e;if(!r)return;const i=r.children,s=i.indexOf(e);As([e],t),ks(i,s,0,n,r)})),Cs=Is(((e,t,n)=>{Kt(e)&&(As(e.children,t),As(n,e))}));const Ps=Object.freeze(Object.defineProperty({__proto__:null,_makeDomArray:function(e,t){return null==e?[]:yr(e)?t?br(e.get()):e.get():Array.isArray(e)?e.reduce(((e,n)=>e.concat(this._makeDomArray(n,t))),[]):"string"==typeof e?this._parse(e,this.options,!1,null).children:t?br([e]):[e]},after:function(...e){const t=this.length-1;return vr(this,((n,r)=>{const{parent:i}=n;if(!Kt(n)||!i)return;const s=i.children,a=s.indexOf(n);if(a<0)return;const o="function"==typeof e[0]?e[0].call(n,r,this._render(n.children)):e;ks(s,a+1,0,this._makeDomArray(o,r<t),i)}))},append:ws,appendTo:function(e){return(yr(e)?e:this._make(e)).append(this),this},before:function(...e){const t=this.length-1;return vr(this,((n,r)=>{const{parent:i}=n;if(!Kt(n)||!i)return;const s=i.children,a=s.indexOf(n);if(a<0)return;const o="function"==typeof e[0]?e[0].call(n,r,this._render(n.children)):e;ks(s,a,0,this._makeDomArray(o,r<t),i)}))},clone:function(){return this._make(br(this.get()))},empty:function(){return vr(this,(e=>{Kt(e)&&(e.children.forEach((e=>{e.next=e.prev=e.parent=null})),e.children.length=0)}))},html:function(e){if(void 0===e){const e=this[0];return e&&Kt(e)?this._render(e.children):null}return vr(this,(t=>{if(!Kt(t))return;t.children.forEach((e=>{e.next=e.prev=e.parent=null}));As(yr(e)?e.toArray():this._parse(`${e}`,this.options,!1,t).children,t)}))},insertAfter:function(e){"string"==typeof e&&(e=this._make(e)),this.remove();const t=[];return this._makeDomArray(e).forEach((e=>{const n=this.clone().toArray(),{parent:r}=e;if(!r)return;const i=r.children,s=i.indexOf(e);s<0||(ks(i,s+1,0,n,r),t.push(...n))})),this._make(t)},insertBefore:function(e){const t=this._make(e);this.remove();const n=[];return vr(t,(e=>{const t=this.clone().toArray(),{parent:r}=e;if(!r)return;const i=r.children,s=i.indexOf(e);s<0||(ks(i,s,0,t,r),n.push(...t))})),this._make(n)},prepend:Os,prependTo:function(e){return(yr(e)?e:this._make(e)).prepend(this),this},remove:function(e){return vr(e?this.filter(e):this,(e=>{Wn(e),e.prev=e.next=e.parent=null})),this},replaceWith:function(e){return vr(this,((t,n)=>{const{parent:r}=t;if(!r)return;const i=r.children,s="function"==typeof e?e.call(t,n,t):e,a=this._makeDomArray(s);As(a,null);const o=i.indexOf(t);ks(i,o,1,a,r),a.includes(t)||(t.parent=t.prev=t.next=null)}))},text:function(e){return void 0===e?fr(this):vr(this,"function"==typeof e?(t,n)=>this._make(t).text(e.call(t,n,fr([t]))):t=>{if(!Kt(t))return;t.children.forEach((e=>{e.next=e.prev=e.parent=null}));As(new Ft(`${e}`),t)})},toString:function(){return this._render(this)},unwrap:function(e){return this.parent(e).not("body").each(((e,t)=>{this._make(t).replaceWith(t.children)})),this},wrap:Rs,wrapAll:function(e){const t=this[0];if(t){const n=this._make("function"==typeof e?e.call(t,0,t):e).insertBefore(t);let r;for(let e=0;e<n.length;e++)"tag"===n[e].type&&(r=n[e]);let i=0;for(;r&&i<r.children.length;){const e=r.children[i];"tag"===e.type?(r=e,i=0):i++}r&&this._make(r).append(this)}return this},wrapInner:Cs},Symbol.toStringTag,{value:"Module"}));function Ns(e,t,n,r){if("string"==typeof t){const s=xs(e),a="function"==typeof n?n.call(e,r,s[t]):n;""===a?delete s[t]:null!=a&&(s[t]=a),e.attribs.style=(i=s,Object.keys(i).reduce(((e,t)=>`${e}${e?" ":""}${t}: ${i[t]};`),""))}else"object"==typeof t&&Object.keys(t).forEach(((n,r)=>{Ns(e,n,t[n],r)}));var i}function xs(e,t){if(!e||!Gt(e))return;const n=function(e){if(e=(e||"").trim(),!e)return{};const t={};let n;for(const r of e.split(";")){const e=r.indexOf(":");if(e<1||e===r.length-1){const e=r.trimEnd();e.length>0&&void 0!==n&&(t[n]+=`;${e}`)}else n=r.slice(0,e).trim(),t[n]=r.slice(e+1).trim()}return t}(e.attribs.style);if("string"==typeof t)return n[t];if(Array.isArray(t)){const e={};return t.forEach((t=>{null!=n[t]&&(e[t]=n[t])})),e}return n}const Ds=Object.freeze(Object.defineProperty({__proto__:null,css:function(e,t){return null!=e&&null!=t||"object"==typeof e&&!Array.isArray(e)?vr(this,((n,r)=>{Gt(n)&&Ns(n,e,t,r)})):0!==this.length?xs(this[0],e):void 0}},Symbol.toStringTag,{value:"Module"})),Ls="input,select,textarea,keygen",Ms=/%20/g,Fs=/\r?\n/g;const js=Object.freeze(Object.defineProperty({__proto__:null,serialize:function(){return this.serializeArray().map((e=>`${encodeURIComponent(e.name)}=${encodeURIComponent(e.value)}`)).join("&").replace(Ms,"+")},serializeArray:function(){return this.map(((e,t)=>{const n=this._make(t);return Gt(t)&&"form"===t.name?n.find(Ls).toArray():n.filter(Ls).toArray()})).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(((e,t)=>{var n;const r=this._make(t),i=r.attr("name"),s=null!==(n=r.val())&&void 0!==n?n:"";return Array.isArray(s)?s.map((e=>({name:i,value:e.replace(Fs,"\r\n")}))):{name:i,value:s.replace(Fs,"\r\n")}})).toArray()}},Symbol.toStringTag,{value:"Module"}));class $s{constructor(e,t,n){if(this.length=0,this.options=n,this._root=t,e){for(let t=0;t<e.length;t++)this[t]=e[t];this.length=e.length}}}$s.prototype.cheerio="[cheerio object]",$s.prototype.splice=Array.prototype.splice,$s.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign($s.prototype,Fr,Ss,Ps,Ds,js);const Bs=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Us="ï¿½";var Hs,qs;(qs=Hs||(Hs={}))[qs.EOF=-1]="EOF",qs[qs.NULL=0]="NULL",qs[qs.TABULATION=9]="TABULATION",qs[qs.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",qs[qs.LINE_FEED=10]="LINE_FEED",qs[qs.FORM_FEED=12]="FORM_FEED",qs[qs.SPACE=32]="SPACE",qs[qs.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",qs[qs.QUOTATION_MARK=34]="QUOTATION_MARK",qs[qs.AMPERSAND=38]="AMPERSAND",qs[qs.APOSTROPHE=39]="APOSTROPHE",qs[qs.HYPHEN_MINUS=45]="HYPHEN_MINUS",qs[qs.SOLIDUS=47]="SOLIDUS",qs[qs.DIGIT_0=48]="DIGIT_0",qs[qs.DIGIT_9=57]="DIGIT_9",qs[qs.SEMICOLON=59]="SEMICOLON",qs[qs.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",qs[qs.EQUALS_SIGN=61]="EQUALS_SIGN",qs[qs.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",qs[qs.QUESTION_MARK=63]="QUESTION_MARK",qs[qs.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",qs[qs.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",qs[qs.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",qs[qs.GRAVE_ACCENT=96]="GRAVE_ACCENT",qs[qs.LATIN_SMALL_A=97]="LATIN_SMALL_A",qs[qs.LATIN_SMALL_Z=122]="LATIN_SMALL_Z";const Gs="--",Ws="[CDATA[",Qs="doctype",Vs="script",Ys="public",zs="system";function Ks(e){return e>=55296&&e<=57343}function Xs(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&e>=1&&e<=31||e>=127&&e<=159}function Js(e){return e>=64976&&e<=65007||Bs.has(e)}var Zs,ea;(ea=Zs||(Zs={})).controlCharacterInInputStream="control-character-in-input-stream",ea.noncharacterInInputStream="noncharacter-in-input-stream",ea.surrogateInInputStream="surrogate-in-input-stream",ea.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",ea.endTagWithAttributes="end-tag-with-attributes",ea.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",ea.unexpectedSolidusInTag="unexpected-solidus-in-tag",ea.unexpectedNullCharacter="unexpected-null-character",ea.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",ea.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",ea.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",ea.missingEndTagName="missing-end-tag-name",ea.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",ea.unknownNamedCharacterReference="unknown-named-character-reference",ea.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",ea.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",ea.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",ea.eofBeforeTagName="eof-before-tag-name",ea.eofInTag="eof-in-tag",ea.missingAttributeValue="missing-attribute-value",ea.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",ea.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",ea.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",ea.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",ea.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",ea.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",ea.missingDoctypePublicIdentifier="missing-doctype-public-identifier",ea.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",ea.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",ea.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",ea.cdataInHtmlContent="cdata-in-html-content",ea.incorrectlyOpenedComment="incorrectly-opened-comment",ea.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",ea.eofInDoctype="eof-in-doctype",ea.nestedComment="nested-comment",ea.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",ea.eofInComment="eof-in-comment",ea.incorrectlyClosedComment="incorrectly-closed-comment",ea.eofInCdata="eof-in-cdata",ea.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",ea.nullCharacterReference="null-character-reference",ea.surrogateCharacterReference="surrogate-character-reference",ea.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",ea.controlCharacterReference="control-character-reference",ea.noncharacterCharacterReference="noncharacter-character-reference",ea.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",ea.missingDoctypeName="missing-doctype-name",ea.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",ea.duplicateAttribute="duplicate-attribute",ea.nonConformingDoctype="non-conforming-doctype",ea.missingDoctype="missing-doctype",ea.misplacedDoctype="misplaced-doctype",ea.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",ea.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",ea.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",ea.openElementsLeftAfterEof="open-elements-left-after-eof",ea.abandonedHeadElementChild="abandoned-head-element-child",ea.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",ea.nestedNoscriptInHead="nested-noscript-in-head",ea.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text";class ta{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,t){const{line:n,col:r,offset:i}=this,s=r+t,a=i+t;return{code:e,startLine:n,endLine:n,startCol:s,endCol:s,startOffset:a,endOffset:a}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const t=this.html.charCodeAt(this.pos+1);if(function(e){return e>=56320&&e<=57343}(t))return this.pos++,this._addGap(),1024*(e-55296)+9216+t}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,Hs.EOF;return this._err(Zs.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,t){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=t}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,t){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(t)return this.html.startsWith(e,this.pos);for(let n=0;n<e.length;n++){if((32|this.html.charCodeAt(this.pos+n))!==e.charCodeAt(n))return!1}return!0}peek(e){const t=this.pos+e;if(t>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Hs.EOF;const n=this.html.charCodeAt(t);return n===Hs.CARRIAGE_RETURN?Hs.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,Hs.EOF;let e=this.html.charCodeAt(this.pos);if(e===Hs.CARRIAGE_RETURN)return this.isEol=!0,this.skipNextNewLine=!0,Hs.LINE_FEED;if(e===Hs.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine))return this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance();this.skipNextNewLine=!1,Ks(e)&&(e=this._processSurrogate(e));return null===this.handler.onParseError||e>31&&e<127||e===Hs.LINE_FEED||e===Hs.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e}_checkForProblematicCharacters(e){Xs(e)?this._err(Zs.controlCharacterInInputStream):Js(e)&&this._err(Zs.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var na,ra,ia,sa,aa,oa,ca,la,ua,ha,da,fa;function pa(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}(ra=na||(na={}))[ra.CHARACTER=0]="CHARACTER",ra[ra.NULL_CHARACTER=1]="NULL_CHARACTER",ra[ra.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",ra[ra.START_TAG=3]="START_TAG",ra[ra.END_TAG=4]="END_TAG",ra[ra.COMMENT=5]="COMMENT",ra[ra.DOCTYPE=6]="DOCTYPE",ra[ra.EOF=7]="EOF",ra[ra.HIBERNATION=8]="HIBERNATION",(sa=ia||(ia={})).HTML="http://www.w3.org/1999/xhtml",sa.MATHML="http://www.w3.org/1998/Math/MathML",sa.SVG="http://www.w3.org/2000/svg",sa.XLINK="http://www.w3.org/1999/xlink",sa.XML="http://www.w3.org/XML/1998/namespace",sa.XMLNS="http://www.w3.org/2000/xmlns/",(oa=aa||(aa={})).TYPE="type",oa.ACTION="action",oa.ENCODING="encoding",oa.PROMPT="prompt",oa.NAME="name",oa.COLOR="color",oa.FACE="face",oa.SIZE="size",(la=ca||(ca={})).NO_QUIRKS="no-quirks",la.QUIRKS="quirks",la.LIMITED_QUIRKS="limited-quirks",(ha=ua||(ua={})).A="a",ha.ADDRESS="address",ha.ANNOTATION_XML="annotation-xml",ha.APPLET="applet",ha.AREA="area",ha.ARTICLE="article",ha.ASIDE="aside",ha.B="b",ha.BASE="base",ha.BASEFONT="basefont",ha.BGSOUND="bgsound",ha.BIG="big",ha.BLOCKQUOTE="blockquote",ha.BODY="body",ha.BR="br",ha.BUTTON="button",ha.CAPTION="caption",ha.CENTER="center",ha.CODE="code",ha.COL="col",ha.COLGROUP="colgroup",ha.DD="dd",ha.DESC="desc",ha.DETAILS="details",ha.DIALOG="dialog",ha.DIR="dir",ha.DIV="div",ha.DL="dl",ha.DT="dt",ha.EM="em",ha.EMBED="embed",ha.FIELDSET="fieldset",ha.FIGCAPTION="figcaption",ha.FIGURE="figure",ha.FONT="font",ha.FOOTER="footer",ha.FOREIGN_OBJECT="foreignObject",ha.FORM="form",ha.FRAME="frame",ha.FRAMESET="frameset",ha.H1="h1",ha.H2="h2",ha.H3="h3",ha.H4="h4",ha.H5="h5",ha.H6="h6",ha.HEAD="head",ha.HEADER="header",ha.HGROUP="hgroup",ha.HR="hr",ha.HTML="html",ha.I="i",ha.IMG="img",ha.IMAGE="image",ha.INPUT="input",ha.IFRAME="iframe",ha.KEYGEN="keygen",ha.LABEL="label",ha.LI="li",ha.LINK="link",ha.LISTING="listing",ha.MAIN="main",ha.MALIGNMARK="malignmark",ha.MARQUEE="marquee",ha.MATH="math",ha.MENU="menu",ha.META="meta",ha.MGLYPH="mglyph",ha.MI="mi",ha.MO="mo",ha.MN="mn",ha.MS="ms",ha.MTEXT="mtext",ha.NAV="nav",ha.NOBR="nobr",ha.NOFRAMES="noframes",ha.NOEMBED="noembed",ha.NOSCRIPT="noscript",ha.OBJECT="object",ha.OL="ol",ha.OPTGROUP="optgroup",ha.OPTION="option",ha.P="p",ha.PARAM="param",ha.PLAINTEXT="plaintext",ha.PRE="pre",ha.RB="rb",ha.RP="rp",ha.RT="rt",ha.RTC="rtc",ha.RUBY="ruby",ha.S="s",ha.SCRIPT="script",ha.SEARCH="search",ha.SECTION="section",ha.SELECT="select",ha.SOURCE="source",ha.SMALL="small",ha.SPAN="span",ha.STRIKE="strike",ha.STRONG="strong",ha.STYLE="style",ha.SUB="sub",ha.SUMMARY="summary",ha.SUP="sup",ha.TABLE="table",ha.TBODY="tbody",ha.TEMPLATE="template",ha.TEXTAREA="textarea",ha.TFOOT="tfoot",ha.TD="td",ha.TH="th",ha.THEAD="thead",ha.TITLE="title",ha.TR="tr",ha.TRACK="track",ha.TT="tt",ha.U="u",ha.UL="ul",ha.SVG="svg",ha.VAR="var",ha.WBR="wbr",ha.XMP="xmp",(fa=da||(da={}))[fa.UNKNOWN=0]="UNKNOWN",fa[fa.A=1]="A",fa[fa.ADDRESS=2]="ADDRESS",fa[fa.ANNOTATION_XML=3]="ANNOTATION_XML",fa[fa.APPLET=4]="APPLET",fa[fa.AREA=5]="AREA",fa[fa.ARTICLE=6]="ARTICLE",fa[fa.ASIDE=7]="ASIDE",fa[fa.B=8]="B",fa[fa.BASE=9]="BASE",fa[fa.BASEFONT=10]="BASEFONT",fa[fa.BGSOUND=11]="BGSOUND",fa[fa.BIG=12]="BIG",fa[fa.BLOCKQUOTE=13]="BLOCKQUOTE",fa[fa.BODY=14]="BODY",fa[fa.BR=15]="BR",fa[fa.BUTTON=16]="BUTTON",fa[fa.CAPTION=17]="CAPTION",fa[fa.CENTER=18]="CENTER",fa[fa.CODE=19]="CODE",fa[fa.COL=20]="COL",fa[fa.COLGROUP=21]="COLGROUP",fa[fa.DD=22]="DD",fa[fa.DESC=23]="DESC",fa[fa.DETAILS=24]="DETAILS",fa[fa.DIALOG=25]="DIALOG",fa[fa.DIR=26]="DIR",fa[fa.DIV=27]="DIV",fa[fa.DL=28]="DL",fa[fa.DT=29]="DT",fa[fa.EM=30]="EM",fa[fa.EMBED=31]="EMBED",fa[fa.FIELDSET=32]="FIELDSET",fa[fa.FIGCAPTION=33]="FIGCAPTION",fa[fa.FIGURE=34]="FIGURE",fa[fa.FONT=35]="FONT",fa[fa.FOOTER=36]="FOOTER",fa[fa.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",fa[fa.FORM=38]="FORM",fa[fa.FRAME=39]="FRAME",fa[fa.FRAMESET=40]="FRAMESET",fa[fa.H1=41]="H1",fa[fa.H2=42]="H2",fa[fa.H3=43]="H3",fa[fa.H4=44]="H4",fa[fa.H5=45]="H5",fa[fa.H6=46]="H6",fa[fa.HEAD=47]="HEAD",fa[fa.HEADER=48]="HEADER",fa[fa.HGROUP=49]="HGROUP",fa[fa.HR=50]="HR",fa[fa.HTML=51]="HTML",fa[fa.I=52]="I",fa[fa.IMG=53]="IMG",fa[fa.IMAGE=54]="IMAGE",fa[fa.INPUT=55]="INPUT",fa[fa.IFRAME=56]="IFRAME",fa[fa.KEYGEN=57]="KEYGEN",fa[fa.LABEL=58]="LABEL",fa[fa.LI=59]="LI",fa[fa.LINK=60]="LINK",fa[fa.LISTING=61]="LISTING",fa[fa.MAIN=62]="MAIN",fa[fa.MALIGNMARK=63]="MALIGNMARK",fa[fa.MARQUEE=64]="MARQUEE",fa[fa.MATH=65]="MATH",fa[fa.MENU=66]="MENU",fa[fa.META=67]="META",fa[fa.MGLYPH=68]="MGLYPH",fa[fa.MI=69]="MI",fa[fa.MO=70]="MO",fa[fa.MN=71]="MN",fa[fa.MS=72]="MS",fa[fa.MTEXT=73]="MTEXT",fa[fa.NAV=74]="NAV",fa[fa.NOBR=75]="NOBR",fa[fa.NOFRAMES=76]="NOFRAMES",fa[fa.NOEMBED=77]="NOEMBED",fa[fa.NOSCRIPT=78]="NOSCRIPT",fa[fa.OBJECT=79]="OBJECT",fa[fa.OL=80]="OL",fa[fa.OPTGROUP=81]="OPTGROUP",fa[fa.OPTION=82]="OPTION",fa[fa.P=83]="P",fa[fa.PARAM=84]="PARAM",fa[fa.PLAINTEXT=85]="PLAINTEXT",fa[fa.PRE=86]="PRE",fa[fa.RB=87]="RB",fa[fa.RP=88]="RP",fa[fa.RT=89]="RT",fa[fa.RTC=90]="RTC",fa[fa.RUBY=91]="RUBY",fa[fa.S=92]="S",fa[fa.SCRIPT=93]="SCRIPT",fa[fa.SEARCH=94]="SEARCH",fa[fa.SECTION=95]="SECTION",fa[fa.SELECT=96]="SELECT",fa[fa.SOURCE=97]="SOURCE",fa[fa.SMALL=98]="SMALL",fa[fa.SPAN=99]="SPAN",fa[fa.STRIKE=100]="STRIKE",fa[fa.STRONG=101]="STRONG",fa[fa.STYLE=102]="STYLE",fa[fa.SUB=103]="SUB",fa[fa.SUMMARY=104]="SUMMARY",fa[fa.SUP=105]="SUP",fa[fa.TABLE=106]="TABLE",fa[fa.TBODY=107]="TBODY",fa[fa.TEMPLATE=108]="TEMPLATE",fa[fa.TEXTAREA=109]="TEXTAREA",fa[fa.TFOOT=110]="TFOOT",fa[fa.TD=111]="TD",fa[fa.TH=112]="TH",fa[fa.THEAD=113]="THEAD",fa[fa.TITLE=114]="TITLE",fa[fa.TR=115]="TR",fa[fa.TRACK=116]="TRACK",fa[fa.TT=117]="TT",fa[fa.U=118]="U",fa[fa.UL=119]="UL",fa[fa.SVG=120]="SVG",fa[fa.VAR=121]="VAR",fa[fa.WBR=122]="WBR",fa[fa.XMP=123]="XMP";const ma=new Map([[ua.A,da.A],[ua.ADDRESS,da.ADDRESS],[ua.ANNOTATION_XML,da.ANNOTATION_XML],[ua.APPLET,da.APPLET],[ua.AREA,da.AREA],[ua.ARTICLE,da.ARTICLE],[ua.ASIDE,da.ASIDE],[ua.B,da.B],[ua.BASE,da.BASE],[ua.BASEFONT,da.BASEFONT],[ua.BGSOUND,da.BGSOUND],[ua.BIG,da.BIG],[ua.BLOCKQUOTE,da.BLOCKQUOTE],[ua.BODY,da.BODY],[ua.BR,da.BR],[ua.BUTTON,da.BUTTON],[ua.CAPTION,da.CAPTION],[ua.CENTER,da.CENTER],[ua.CODE,da.CODE],[ua.COL,da.COL],[ua.COLGROUP,da.COLGROUP],[ua.DD,da.DD],[ua.DESC,da.DESC],[ua.DETAILS,da.DETAILS],[ua.DIALOG,da.DIALOG],[ua.DIR,da.DIR],[ua.DIV,da.DIV],[ua.DL,da.DL],[ua.DT,da.DT],[ua.EM,da.EM],[ua.EMBED,da.EMBED],[ua.FIELDSET,da.FIELDSET],[ua.FIGCAPTION,da.FIGCAPTION],[ua.FIGURE,da.FIGURE],[ua.FONT,da.FONT],[ua.FOOTER,da.FOOTER],[ua.FOREIGN_OBJECT,da.FOREIGN_OBJECT],[ua.FORM,da.FORM],[ua.FRAME,da.FRAME],[ua.FRAMESET,da.FRAMESET],[ua.H1,da.H1],[ua.H2,da.H2],[ua.H3,da.H3],[ua.H4,da.H4],[ua.H5,da.H5],[ua.H6,da.H6],[ua.HEAD,da.HEAD],[ua.HEADER,da.HEADER],[ua.HGROUP,da.HGROUP],[ua.HR,da.HR],[ua.HTML,da.HTML],[ua.I,da.I],[ua.IMG,da.IMG],[ua.IMAGE,da.IMAGE],[ua.INPUT,da.INPUT],[ua.IFRAME,da.IFRAME],[ua.KEYGEN,da.KEYGEN],[ua.LABEL,da.LABEL],[ua.LI,da.LI],[ua.LINK,da.LINK],[ua.LISTING,da.LISTING],[ua.MAIN,da.MAIN],[ua.MALIGNMARK,da.MALIGNMARK],[ua.MARQUEE,da.MARQUEE],[ua.MATH,da.MATH],[ua.MENU,da.MENU],[ua.META,da.META],[ua.MGLYPH,da.MGLYPH],[ua.MI,da.MI],[ua.MO,da.MO],[ua.MN,da.MN],[ua.MS,da.MS],[ua.MTEXT,da.MTEXT],[ua.NAV,da.NAV],[ua.NOBR,da.NOBR],[ua.NOFRAMES,da.NOFRAMES],[ua.NOEMBED,da.NOEMBED],[ua.NOSCRIPT,da.NOSCRIPT],[ua.OBJECT,da.OBJECT],[ua.OL,da.OL],[ua.OPTGROUP,da.OPTGROUP],[ua.OPTION,da.OPTION],[ua.P,da.P],[ua.PARAM,da.PARAM],[ua.PLAINTEXT,da.PLAINTEXT],[ua.PRE,da.PRE],[ua.RB,da.RB],[ua.RP,da.RP],[ua.RT,da.RT],[ua.RTC,da.RTC],[ua.RUBY,da.RUBY],[ua.S,da.S],[ua.SCRIPT,da.SCRIPT],[ua.SEARCH,da.SEARCH],[ua.SECTION,da.SECTION],[ua.SELECT,da.SELECT],[ua.SOURCE,da.SOURCE],[ua.SMALL,da.SMALL],[ua.SPAN,da.SPAN],[ua.STRIKE,da.STRIKE],[ua.STRONG,da.STRONG],[ua.STYLE,da.STYLE],[ua.SUB,da.SUB],[ua.SUMMARY,da.SUMMARY],[ua.SUP,da.SUP],[ua.TABLE,da.TABLE],[ua.TBODY,da.TBODY],[ua.TEMPLATE,da.TEMPLATE],[ua.TEXTAREA,da.TEXTAREA],[ua.TFOOT,da.TFOOT],[ua.TD,da.TD],[ua.TH,da.TH],[ua.THEAD,da.THEAD],[ua.TITLE,da.TITLE],[ua.TR,da.TR],[ua.TRACK,da.TRACK],[ua.TT,da.TT],[ua.U,da.U],[ua.UL,da.UL],[ua.SVG,da.SVG],[ua.VAR,da.VAR],[ua.WBR,da.WBR],[ua.XMP,da.XMP]]);function ga(e){var t;return null!==(t=ma.get(e))&&void 0!==t?t:da.UNKNOWN}const ya=da,va={[ia.HTML]:new Set([ya.ADDRESS,ya.APPLET,ya.AREA,ya.ARTICLE,ya.ASIDE,ya.BASE,ya.BASEFONT,ya.BGSOUND,ya.BLOCKQUOTE,ya.BODY,ya.BR,ya.BUTTON,ya.CAPTION,ya.CENTER,ya.COL,ya.COLGROUP,ya.DD,ya.DETAILS,ya.DIR,ya.DIV,ya.DL,ya.DT,ya.EMBED,ya.FIELDSET,ya.FIGCAPTION,ya.FIGURE,ya.FOOTER,ya.FORM,ya.FRAME,ya.FRAMESET,ya.H1,ya.H2,ya.H3,ya.H4,ya.H5,ya.H6,ya.HEAD,ya.HEADER,ya.HGROUP,ya.HR,ya.HTML,ya.IFRAME,ya.IMG,ya.INPUT,ya.LI,ya.LINK,ya.LISTING,ya.MAIN,ya.MARQUEE,ya.MENU,ya.META,ya.NAV,ya.NOEMBED,ya.NOFRAMES,ya.NOSCRIPT,ya.OBJECT,ya.OL,ya.P,ya.PARAM,ya.PLAINTEXT,ya.PRE,ya.SCRIPT,ya.SECTION,ya.SELECT,ya.SOURCE,ya.STYLE,ya.SUMMARY,ya.TABLE,ya.TBODY,ya.TD,ya.TEMPLATE,ya.TEXTAREA,ya.TFOOT,ya.TH,ya.THEAD,ya.TITLE,ya.TR,ya.TRACK,ya.UL,ya.WBR,ya.XMP]),[ia.MATHML]:new Set([ya.MI,ya.MO,ya.MN,ya.MS,ya.MTEXT,ya.ANNOTATION_XML]),[ia.SVG]:new Set([ya.TITLE,ya.FOREIGN_OBJECT,ya.DESC]),[ia.XLINK]:new Set,[ia.XML]:new Set,[ia.XMLNS]:new Set},ba=new Set([ya.H1,ya.H2,ya.H3,ya.H4,ya.H5,ya.H6]),Ea=new Set([ua.STYLE,ua.SCRIPT,ua.XMP,ua.IFRAME,ua.NOEMBED,ua.NOFRAMES,ua.PLAINTEXT]);var Ta,Sa;(Sa=Ta||(Ta={}))[Sa.DATA=0]="DATA",Sa[Sa.RCDATA=1]="RCDATA",Sa[Sa.RAWTEXT=2]="RAWTEXT",Sa[Sa.SCRIPT_DATA=3]="SCRIPT_DATA",Sa[Sa.PLAINTEXT=4]="PLAINTEXT",Sa[Sa.TAG_OPEN=5]="TAG_OPEN",Sa[Sa.END_TAG_OPEN=6]="END_TAG_OPEN",Sa[Sa.TAG_NAME=7]="TAG_NAME",Sa[Sa.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",Sa[Sa.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",Sa[Sa.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",Sa[Sa.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",Sa[Sa.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",Sa[Sa.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",Sa[Sa.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",Sa[Sa.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",Sa[Sa.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",Sa[Sa.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",Sa[Sa.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",Sa[Sa.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",Sa[Sa.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",Sa[Sa.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",Sa[Sa.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",Sa[Sa.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",Sa[Sa.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",Sa[Sa.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",Sa[Sa.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",Sa[Sa.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",Sa[Sa.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",Sa[Sa.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",Sa[Sa.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",Sa[Sa.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",Sa[Sa.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",Sa[Sa.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",Sa[Sa.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",Sa[Sa.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",Sa[Sa.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",Sa[Sa.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",Sa[Sa.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",Sa[Sa.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",Sa[Sa.BOGUS_COMMENT=40]="BOGUS_COMMENT",Sa[Sa.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",Sa[Sa.COMMENT_START=42]="COMMENT_START",Sa[Sa.COMMENT_START_DASH=43]="COMMENT_START_DASH",Sa[Sa.COMMENT=44]="COMMENT",Sa[Sa.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",Sa[Sa.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",Sa[Sa.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",Sa[Sa.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",Sa[Sa.COMMENT_END_DASH=49]="COMMENT_END_DASH",Sa[Sa.COMMENT_END=50]="COMMENT_END",Sa[Sa.COMMENT_END_BANG=51]="COMMENT_END_BANG",Sa[Sa.DOCTYPE=52]="DOCTYPE",Sa[Sa.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",Sa[Sa.DOCTYPE_NAME=54]="DOCTYPE_NAME",Sa[Sa.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",Sa[Sa.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",Sa[Sa.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",Sa[Sa.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",Sa[Sa.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",Sa[Sa.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",Sa[Sa.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",Sa[Sa.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",Sa[Sa.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",Sa[Sa.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",Sa[Sa.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",Sa[Sa.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",Sa[Sa.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",Sa[Sa.CDATA_SECTION=68]="CDATA_SECTION",Sa[Sa.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",Sa[Sa.CDATA_SECTION_END=70]="CDATA_SECTION_END",Sa[Sa.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",Sa[Sa.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND";const Aa={DATA:Ta.DATA,RCDATA:Ta.RCDATA,RAWTEXT:Ta.RAWTEXT,SCRIPT_DATA:Ta.SCRIPT_DATA,PLAINTEXT:Ta.PLAINTEXT,CDATA_SECTION:Ta.CDATA_SECTION};function _a(e){return e>=Hs.LATIN_CAPITAL_A&&e<=Hs.LATIN_CAPITAL_Z}function ka(e){return function(e){return e>=Hs.LATIN_SMALL_A&&e<=Hs.LATIN_SMALL_Z}(e)||_a(e)}function wa(e){return ka(e)||function(e){return e>=Hs.DIGIT_0&&e<=Hs.DIGIT_9}(e)}function Oa(e){return e+32}function Ia(e){return e===Hs.SPACE||e===Hs.LINE_FEED||e===Hs.TABULATION||e===Hs.FORM_FEED}function Ra(e){return Ia(e)||e===Hs.SOLIDUS||e===Hs.GREATER_THAN_SIGN}let Ca=class{constructor(e,t){this.options=e,this.handler=t,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=Ta.DATA,this.returnState=Ta.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new ta(t),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new vn(tn,((e,t)=>{this.preprocessor.pos=this.entityStartPos+t-1,this._flushCodePointConsumedAsCharacterReference(e)}),t.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(Zs.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:e=>{this._err(Zs.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+e)},validateNumericCharacterReference:e=>{const t=function(e){return e===Hs.NULL?Zs.nullCharacterReference:e>1114111?Zs.characterReferenceOutsideUnicodeRange:Ks(e)?Zs.surrogateCharacterReference:Js(e)?Zs.noncharacterCharacterReference:Xs(e)||e===Hs.CARRIAGE_RETURN?Zs.controlCharacterReference:null}(e);t&&this._err(t,1)}}:void 0)}_err(e,t=0){var n,r;null===(r=(n=this.handler).onParseError)||void 0===r||r.call(n,this.preprocessor.getError(e,t))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==e||e())}write(e,t,n){this.active=!0,this.preprocessor.write(e,t),this._runParsingLoop(),this.paused||null==n||n()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return!!this.preprocessor.endOfChunkHit&&(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let t=0;t<e;t++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,t){return!!this.preprocessor.startsWith(e,t)&&(this._advanceBy(e.length-1),!0)}_createStartTagToken(){this.currentToken={type:na.START_TAG,tagName:"",tagID:da.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:na.END_TAG,tagName:"",tagID:da.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:na.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:na.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,t;const n=this.currentToken;if(null===pa(n,this.currentAttr.name)){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){(null!==(e=(t=n.location).attrs)&&void 0!==e?e:t.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(Zs.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=ga(e.tagName),e.type===na.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(Zs.endTagWithAttributes),e.selfClosing&&this._err(Zs.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case na.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case na.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case na.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken)}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:na.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,t){if(this.currentCharacterToken){if(this.currentCharacterToken.type===e)return void(this.currentCharacterToken.chars+=t);this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk()}this._createCharacterToken(e,t)}_emitCodePoint(e){const t=Ia(e)?na.WHITESPACE_CHARACTER:e===Hs.NULL?na.NULL_CHARACTER:na.CHARACTER;this._appendCharToCurrentCharacterToken(t,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(na.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=Ta.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?pn.Attribute:pn.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===Ta.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===Ta.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===Ta.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case Ta.DATA:this._stateData(e);break;case Ta.RCDATA:this._stateRcdata(e);break;case Ta.RAWTEXT:this._stateRawtext(e);break;case Ta.SCRIPT_DATA:this._stateScriptData(e);break;case Ta.PLAINTEXT:this._statePlaintext(e);break;case Ta.TAG_OPEN:this._stateTagOpen(e);break;case Ta.END_TAG_OPEN:this._stateEndTagOpen(e);break;case Ta.TAG_NAME:this._stateTagName(e);break;case Ta.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(e);break;case Ta.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(e);break;case Ta.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(e);break;case Ta.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(e);break;case Ta.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(e);break;case Ta.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(e);break;case Ta.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(e);break;case Ta.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(e);break;case Ta.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(e);break;case Ta.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(e);break;case Ta.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(e);break;case Ta.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(e);break;case Ta.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(e);break;case Ta.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(e);break;case Ta.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(e);break;case Ta.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(e);break;case Ta.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(e);break;case Ta.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(e);break;case Ta.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(e);break;case Ta.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(e);break;case Ta.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(e);break;case Ta.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(e);break;case Ta.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(e);break;case Ta.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(e);break;case Ta.ATTRIBUTE_NAME:this._stateAttributeName(e);break;case Ta.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(e);break;case Ta.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(e);break;case Ta.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(e);break;case Ta.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(e);break;case Ta.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(e);break;case Ta.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(e);break;case Ta.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(e);break;case Ta.BOGUS_COMMENT:this._stateBogusComment(e);break;case Ta.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(e);break;case Ta.COMMENT_START:this._stateCommentStart(e);break;case Ta.COMMENT_START_DASH:this._stateCommentStartDash(e);break;case Ta.COMMENT:this._stateComment(e);break;case Ta.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(e);break;case Ta.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(e);break;case Ta.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(e);break;case Ta.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(e);break;case Ta.COMMENT_END_DASH:this._stateCommentEndDash(e);break;case Ta.COMMENT_END:this._stateCommentEnd(e);break;case Ta.COMMENT_END_BANG:this._stateCommentEndBang(e);break;case Ta.DOCTYPE:this._stateDoctype(e);break;case Ta.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(e);break;case Ta.DOCTYPE_NAME:this._stateDoctypeName(e);break;case Ta.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(e);break;case Ta.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(e);break;case Ta.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(e);break;case Ta.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(e);break;case Ta.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(e);break;case Ta.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(e);break;case Ta.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break;case Ta.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(e);break;case Ta.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(e);break;case Ta.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(e);break;case Ta.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(e);break;case Ta.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(e);break;case Ta.BOGUS_DOCTYPE:this._stateBogusDoctype(e);break;case Ta.CDATA_SECTION:this._stateCdataSection(e);break;case Ta.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(e);break;case Ta.CDATA_SECTION_END:this._stateCdataSectionEnd(e);break;case Ta.CHARACTER_REFERENCE:this._stateCharacterReference();break;case Ta.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(e);break;default:throw new Error("Unknown state")}}_stateData(e){switch(e){case Hs.LESS_THAN_SIGN:this.state=Ta.TAG_OPEN;break;case Hs.AMPERSAND:this._startCharacterReference();break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),this._emitCodePoint(e);break;case Hs.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case Hs.AMPERSAND:this._startCharacterReference();break;case Hs.LESS_THAN_SIGN:this.state=Ta.RCDATA_LESS_THAN_SIGN;break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),this._emitChars(Us);break;case Hs.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case Hs.LESS_THAN_SIGN:this.state=Ta.RAWTEXT_LESS_THAN_SIGN;break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),this._emitChars(Us);break;case Hs.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case Hs.LESS_THAN_SIGN:this.state=Ta.SCRIPT_DATA_LESS_THAN_SIGN;break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),this._emitChars(Us);break;case Hs.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case Hs.NULL:this._err(Zs.unexpectedNullCharacter),this._emitChars(Us);break;case Hs.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateTagOpen(e){if(ka(e))this._createStartTagToken(),this.state=Ta.TAG_NAME,this._stateTagName(e);else switch(e){case Hs.EXCLAMATION_MARK:this.state=Ta.MARKUP_DECLARATION_OPEN;break;case Hs.SOLIDUS:this.state=Ta.END_TAG_OPEN;break;case Hs.QUESTION_MARK:this._err(Zs.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=Ta.BOGUS_COMMENT,this._stateBogusComment(e);break;case Hs.EOF:this._err(Zs.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(Zs.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=Ta.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(ka(e))this._createEndTagToken(),this.state=Ta.TAG_NAME,this._stateTagName(e);else switch(e){case Hs.GREATER_THAN_SIGN:this._err(Zs.missingEndTagName),this.state=Ta.DATA;break;case Hs.EOF:this._err(Zs.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(Zs.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=Ta.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const t=this.currentToken;switch(e){case Hs.SPACE:case Hs.LINE_FEED:case Hs.TABULATION:case Hs.FORM_FEED:this.state=Ta.BEFORE_ATTRIBUTE_NAME;break;case Hs.SOLIDUS:this.state=Ta.SELF_CLOSING_START_TAG;break;case Hs.GREATER_THAN_SIGN:this.state=Ta.DATA,this.emitCurrentTagToken();break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),t.tagName+=Us;break;case Hs.EOF:this._err(Zs.eofInTag),this._emitEOFToken();break;default:t.tagName+=String.fromCodePoint(_a(e)?Oa(e):e)}}_stateRcdataLessThanSign(e){e===Hs.SOLIDUS?this.state=Ta.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=Ta.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){ka(e)?(this.state=Ta.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=Ta.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();this.currentToken.tagName=this.lastStartTagName;switch(this.preprocessor.peek(this.lastStartTagName.length)){case Hs.SPACE:case Hs.LINE_FEED:case Hs.TABULATION:case Hs.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=Ta.BEFORE_ATTRIBUTE_NAME,!1;case Hs.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=Ta.SELF_CLOSING_START_TAG,!1;case Hs.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=Ta.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Ta.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===Hs.SOLIDUS?this.state=Ta.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=Ta.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){ka(e)?(this.state=Ta.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=Ta.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Ta.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case Hs.SOLIDUS:this.state=Ta.SCRIPT_DATA_END_TAG_OPEN;break;case Hs.EXCLAMATION_MARK:this.state=Ta.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=Ta.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){ka(e)?(this.state=Ta.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=Ta.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Ta.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===Hs.HYPHEN_MINUS?(this.state=Ta.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=Ta.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===Hs.HYPHEN_MINUS?(this.state=Ta.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=Ta.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case Hs.HYPHEN_MINUS:this.state=Ta.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case Hs.LESS_THAN_SIGN:this.state=Ta.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),this._emitChars(Us);break;case Hs.EOF:this._err(Zs.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case Hs.HYPHEN_MINUS:this.state=Ta.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case Hs.LESS_THAN_SIGN:this.state=Ta.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),this.state=Ta.SCRIPT_DATA_ESCAPED,this._emitChars(Us);break;case Hs.EOF:this._err(Zs.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=Ta.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case Hs.HYPHEN_MINUS:this._emitChars("-");break;case Hs.LESS_THAN_SIGN:this.state=Ta.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case Hs.GREATER_THAN_SIGN:this.state=Ta.SCRIPT_DATA,this._emitChars(">");break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),this.state=Ta.SCRIPT_DATA_ESCAPED,this._emitChars(Us);break;case Hs.EOF:this._err(Zs.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=Ta.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===Hs.SOLIDUS?this.state=Ta.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:ka(e)?(this._emitChars("<"),this.state=Ta.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=Ta.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){ka(e)?(this.state=Ta.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=Ta.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=Ta.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(Vs,!1)&&Ra(this.preprocessor.peek(Vs.length))){this._emitCodePoint(e);for(let e=0;e<Vs.length;e++)this._emitCodePoint(this._consume());this.state=Ta.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=Ta.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case Hs.HYPHEN_MINUS:this.state=Ta.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case Hs.LESS_THAN_SIGN:this.state=Ta.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),this._emitChars(Us);break;case Hs.EOF:this._err(Zs.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case Hs.HYPHEN_MINUS:this.state=Ta.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case Hs.LESS_THAN_SIGN:this.state=Ta.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),this.state=Ta.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Us);break;case Hs.EOF:this._err(Zs.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=Ta.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case Hs.HYPHEN_MINUS:this._emitChars("-");break;case Hs.LESS_THAN_SIGN:this.state=Ta.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case Hs.GREATER_THAN_SIGN:this.state=Ta.SCRIPT_DATA,this._emitChars(">");break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),this.state=Ta.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Us);break;case Hs.EOF:this._err(Zs.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=Ta.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===Hs.SOLIDUS?(this.state=Ta.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=Ta.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(Vs,!1)&&Ra(this.preprocessor.peek(Vs.length))){this._emitCodePoint(e);for(let e=0;e<Vs.length;e++)this._emitCodePoint(this._consume());this.state=Ta.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=Ta.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case Hs.SPACE:case Hs.LINE_FEED:case Hs.TABULATION:case Hs.FORM_FEED:break;case Hs.SOLIDUS:case Hs.GREATER_THAN_SIGN:case Hs.EOF:this.state=Ta.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case Hs.EQUALS_SIGN:this._err(Zs.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=Ta.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=Ta.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case Hs.SPACE:case Hs.LINE_FEED:case Hs.TABULATION:case Hs.FORM_FEED:case Hs.SOLIDUS:case Hs.GREATER_THAN_SIGN:case Hs.EOF:this._leaveAttrName(),this.state=Ta.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case Hs.EQUALS_SIGN:this._leaveAttrName(),this.state=Ta.BEFORE_ATTRIBUTE_VALUE;break;case Hs.QUOTATION_MARK:case Hs.APOSTROPHE:case Hs.LESS_THAN_SIGN:this._err(Zs.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),this.currentAttr.name+=Us;break;default:this.currentAttr.name+=String.fromCodePoint(_a(e)?Oa(e):e)}}_stateAfterAttributeName(e){switch(e){case Hs.SPACE:case Hs.LINE_FEED:case Hs.TABULATION:case Hs.FORM_FEED:break;case Hs.SOLIDUS:this.state=Ta.SELF_CLOSING_START_TAG;break;case Hs.EQUALS_SIGN:this.state=Ta.BEFORE_ATTRIBUTE_VALUE;break;case Hs.GREATER_THAN_SIGN:this.state=Ta.DATA,this.emitCurrentTagToken();break;case Hs.EOF:this._err(Zs.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=Ta.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case Hs.SPACE:case Hs.LINE_FEED:case Hs.TABULATION:case Hs.FORM_FEED:break;case Hs.QUOTATION_MARK:this.state=Ta.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case Hs.APOSTROPHE:this.state=Ta.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case Hs.GREATER_THAN_SIGN:this._err(Zs.missingAttributeValue),this.state=Ta.DATA,this.emitCurrentTagToken();break;default:this.state=Ta.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case Hs.QUOTATION_MARK:this.state=Ta.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case Hs.AMPERSAND:this._startCharacterReference();break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),this.currentAttr.value+=Us;break;case Hs.EOF:this._err(Zs.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case Hs.APOSTROPHE:this.state=Ta.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case Hs.AMPERSAND:this._startCharacterReference();break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),this.currentAttr.value+=Us;break;case Hs.EOF:this._err(Zs.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case Hs.SPACE:case Hs.LINE_FEED:case Hs.TABULATION:case Hs.FORM_FEED:this._leaveAttrValue(),this.state=Ta.BEFORE_ATTRIBUTE_NAME;break;case Hs.AMPERSAND:this._startCharacterReference();break;case Hs.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=Ta.DATA,this.emitCurrentTagToken();break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),this.currentAttr.value+=Us;break;case Hs.QUOTATION_MARK:case Hs.APOSTROPHE:case Hs.LESS_THAN_SIGN:case Hs.EQUALS_SIGN:case Hs.GRAVE_ACCENT:this._err(Zs.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break;case Hs.EOF:this._err(Zs.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case Hs.SPACE:case Hs.LINE_FEED:case Hs.TABULATION:case Hs.FORM_FEED:this._leaveAttrValue(),this.state=Ta.BEFORE_ATTRIBUTE_NAME;break;case Hs.SOLIDUS:this._leaveAttrValue(),this.state=Ta.SELF_CLOSING_START_TAG;break;case Hs.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=Ta.DATA,this.emitCurrentTagToken();break;case Hs.EOF:this._err(Zs.eofInTag),this._emitEOFToken();break;default:this._err(Zs.missingWhitespaceBetweenAttributes),this.state=Ta.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case Hs.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=Ta.DATA,this.emitCurrentTagToken();break;case Hs.EOF:this._err(Zs.eofInTag),this._emitEOFToken();break;default:this._err(Zs.unexpectedSolidusInTag),this.state=Ta.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const t=this.currentToken;switch(e){case Hs.GREATER_THAN_SIGN:this.state=Ta.DATA,this.emitCurrentComment(t);break;case Hs.EOF:this.emitCurrentComment(t),this._emitEOFToken();break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),t.data+=Us;break;default:t.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(Gs,!0)?(this._createCommentToken(Gs.length+1),this.state=Ta.COMMENT_START):this._consumeSequenceIfMatch(Qs,!1)?(this.currentLocation=this.getCurrentLocation(Qs.length+1),this.state=Ta.DOCTYPE):this._consumeSequenceIfMatch(Ws,!0)?this.inForeignNode?this.state=Ta.CDATA_SECTION:(this._err(Zs.cdataInHtmlContent),this._createCommentToken(Ws.length+1),this.currentToken.data="[CDATA[",this.state=Ta.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Zs.incorrectlyOpenedComment),this._createCommentToken(2),this.state=Ta.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case Hs.HYPHEN_MINUS:this.state=Ta.COMMENT_START_DASH;break;case Hs.GREATER_THAN_SIGN:{this._err(Zs.abruptClosingOfEmptyComment),this.state=Ta.DATA;const e=this.currentToken;this.emitCurrentComment(e);break}default:this.state=Ta.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const t=this.currentToken;switch(e){case Hs.HYPHEN_MINUS:this.state=Ta.COMMENT_END;break;case Hs.GREATER_THAN_SIGN:this._err(Zs.abruptClosingOfEmptyComment),this.state=Ta.DATA,this.emitCurrentComment(t);break;case Hs.EOF:this._err(Zs.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=Ta.COMMENT,this._stateComment(e)}}_stateComment(e){const t=this.currentToken;switch(e){case Hs.HYPHEN_MINUS:this.state=Ta.COMMENT_END_DASH;break;case Hs.LESS_THAN_SIGN:t.data+="<",this.state=Ta.COMMENT_LESS_THAN_SIGN;break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),t.data+=Us;break;case Hs.EOF:this._err(Zs.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const t=this.currentToken;switch(e){case Hs.EXCLAMATION_MARK:t.data+="!",this.state=Ta.COMMENT_LESS_THAN_SIGN_BANG;break;case Hs.LESS_THAN_SIGN:t.data+="<";break;default:this.state=Ta.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===Hs.HYPHEN_MINUS?this.state=Ta.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=Ta.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===Hs.HYPHEN_MINUS?this.state=Ta.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=Ta.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==Hs.GREATER_THAN_SIGN&&e!==Hs.EOF&&this._err(Zs.nestedComment),this.state=Ta.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const t=this.currentToken;switch(e){case Hs.HYPHEN_MINUS:this.state=Ta.COMMENT_END;break;case Hs.EOF:this._err(Zs.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=Ta.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const t=this.currentToken;switch(e){case Hs.GREATER_THAN_SIGN:this.state=Ta.DATA,this.emitCurrentComment(t);break;case Hs.EXCLAMATION_MARK:this.state=Ta.COMMENT_END_BANG;break;case Hs.HYPHEN_MINUS:t.data+="-";break;case Hs.EOF:this._err(Zs.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--",this.state=Ta.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const t=this.currentToken;switch(e){case Hs.HYPHEN_MINUS:t.data+="--!",this.state=Ta.COMMENT_END_DASH;break;case Hs.GREATER_THAN_SIGN:this._err(Zs.incorrectlyClosedComment),this.state=Ta.DATA,this.emitCurrentComment(t);break;case Hs.EOF:this._err(Zs.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--!",this.state=Ta.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case Hs.SPACE:case Hs.LINE_FEED:case Hs.TABULATION:case Hs.FORM_FEED:this.state=Ta.BEFORE_DOCTYPE_NAME;break;case Hs.GREATER_THAN_SIGN:this.state=Ta.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break;case Hs.EOF:{this._err(Zs.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._err(Zs.missingWhitespaceBeforeDoctypeName),this.state=Ta.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(_a(e))this._createDoctypeToken(String.fromCharCode(Oa(e))),this.state=Ta.DOCTYPE_NAME;else switch(e){case Hs.SPACE:case Hs.LINE_FEED:case Hs.TABULATION:case Hs.FORM_FEED:break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),this._createDoctypeToken(Us),this.state=Ta.DOCTYPE_NAME;break;case Hs.GREATER_THAN_SIGN:{this._err(Zs.missingDoctypeName),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=Ta.DATA;break}case Hs.EOF:{this._err(Zs.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=Ta.DOCTYPE_NAME}}_stateDoctypeName(e){const t=this.currentToken;switch(e){case Hs.SPACE:case Hs.LINE_FEED:case Hs.TABULATION:case Hs.FORM_FEED:this.state=Ta.AFTER_DOCTYPE_NAME;break;case Hs.GREATER_THAN_SIGN:this.state=Ta.DATA,this.emitCurrentDoctype(t);break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),t.name+=Us;break;case Hs.EOF:this._err(Zs.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.name+=String.fromCodePoint(_a(e)?Oa(e):e)}}_stateAfterDoctypeName(e){const t=this.currentToken;switch(e){case Hs.SPACE:case Hs.LINE_FEED:case Hs.TABULATION:case Hs.FORM_FEED:break;case Hs.GREATER_THAN_SIGN:this.state=Ta.DATA,this.emitCurrentDoctype(t);break;case Hs.EOF:this._err(Zs.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._consumeSequenceIfMatch(Ys,!1)?this.state=Ta.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(zs,!1)?this.state=Ta.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Zs.invalidCharacterSequenceAfterDoctypeName),t.forceQuirks=!0,this.state=Ta.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const t=this.currentToken;switch(e){case Hs.SPACE:case Hs.LINE_FEED:case Hs.TABULATION:case Hs.FORM_FEED:this.state=Ta.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case Hs.QUOTATION_MARK:this._err(Zs.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=Ta.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case Hs.APOSTROPHE:this._err(Zs.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=Ta.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case Hs.GREATER_THAN_SIGN:this._err(Zs.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=Ta.DATA,this.emitCurrentDoctype(t);break;case Hs.EOF:this._err(Zs.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(Zs.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=Ta.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case Hs.SPACE:case Hs.LINE_FEED:case Hs.TABULATION:case Hs.FORM_FEED:break;case Hs.QUOTATION_MARK:t.publicId="",this.state=Ta.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case Hs.APOSTROPHE:t.publicId="",this.state=Ta.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case Hs.GREATER_THAN_SIGN:this._err(Zs.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=Ta.DATA,this.emitCurrentDoctype(t);break;case Hs.EOF:this._err(Zs.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(Zs.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=Ta.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case Hs.QUOTATION_MARK:this.state=Ta.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),t.publicId+=Us;break;case Hs.GREATER_THAN_SIGN:this._err(Zs.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=Ta.DATA;break;case Hs.EOF:this._err(Zs.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case Hs.APOSTROPHE:this.state=Ta.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),t.publicId+=Us;break;case Hs.GREATER_THAN_SIGN:this._err(Zs.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=Ta.DATA;break;case Hs.EOF:this._err(Zs.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case Hs.SPACE:case Hs.LINE_FEED:case Hs.TABULATION:case Hs.FORM_FEED:this.state=Ta.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case Hs.GREATER_THAN_SIGN:this.state=Ta.DATA,this.emitCurrentDoctype(t);break;case Hs.QUOTATION_MARK:this._err(Zs.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=Ta.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Hs.APOSTROPHE:this._err(Zs.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=Ta.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Hs.EOF:this._err(Zs.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(Zs.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Ta.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const t=this.currentToken;switch(e){case Hs.SPACE:case Hs.LINE_FEED:case Hs.TABULATION:case Hs.FORM_FEED:break;case Hs.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=Ta.DATA;break;case Hs.QUOTATION_MARK:t.systemId="",this.state=Ta.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Hs.APOSTROPHE:t.systemId="",this.state=Ta.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Hs.EOF:this._err(Zs.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(Zs.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Ta.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const t=this.currentToken;switch(e){case Hs.SPACE:case Hs.LINE_FEED:case Hs.TABULATION:case Hs.FORM_FEED:this.state=Ta.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case Hs.QUOTATION_MARK:this._err(Zs.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=Ta.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Hs.APOSTROPHE:this._err(Zs.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=Ta.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Hs.GREATER_THAN_SIGN:this._err(Zs.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Ta.DATA,this.emitCurrentDoctype(t);break;case Hs.EOF:this._err(Zs.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(Zs.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Ta.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case Hs.SPACE:case Hs.LINE_FEED:case Hs.TABULATION:case Hs.FORM_FEED:break;case Hs.QUOTATION_MARK:t.systemId="",this.state=Ta.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case Hs.APOSTROPHE:t.systemId="",this.state=Ta.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case Hs.GREATER_THAN_SIGN:this._err(Zs.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Ta.DATA,this.emitCurrentDoctype(t);break;case Hs.EOF:this._err(Zs.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(Zs.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=Ta.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case Hs.QUOTATION_MARK:this.state=Ta.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),t.systemId+=Us;break;case Hs.GREATER_THAN_SIGN:this._err(Zs.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=Ta.DATA;break;case Hs.EOF:this._err(Zs.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case Hs.APOSTROPHE:this.state=Ta.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter),t.systemId+=Us;break;case Hs.GREATER_THAN_SIGN:this._err(Zs.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=Ta.DATA;break;case Hs.EOF:this._err(Zs.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case Hs.SPACE:case Hs.LINE_FEED:case Hs.TABULATION:case Hs.FORM_FEED:break;case Hs.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=Ta.DATA;break;case Hs.EOF:this._err(Zs.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(Zs.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=Ta.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const t=this.currentToken;switch(e){case Hs.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=Ta.DATA;break;case Hs.NULL:this._err(Zs.unexpectedNullCharacter);break;case Hs.EOF:this.emitCurrentDoctype(t),this._emitEOFToken()}}_stateCdataSection(e){switch(e){case Hs.RIGHT_SQUARE_BRACKET:this.state=Ta.CDATA_SECTION_BRACKET;break;case Hs.EOF:this._err(Zs.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===Hs.RIGHT_SQUARE_BRACKET?this.state=Ta.CDATA_SECTION_END:(this._emitChars("]"),this.state=Ta.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case Hs.GREATER_THAN_SIGN:this.state=Ta.DATA;break;case Hs.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=Ta.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0){if(!this.preprocessor.lastChunkWritten)return this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,void(this.preprocessor.endOfChunkHit=!0);e=this.entityDecoder.end()}0===e?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(Hs.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&wa(this.preprocessor.peek(1))?Ta.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){wa(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===Hs.SEMICOLON&&this._err(Zs.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}};const Pa=new Set([da.DD,da.DT,da.LI,da.OPTGROUP,da.OPTION,da.P,da.RB,da.RP,da.RT,da.RTC]),Na=new Set([...Pa,da.CAPTION,da.COLGROUP,da.TBODY,da.TD,da.TFOOT,da.TH,da.THEAD,da.TR]),xa=new Set([da.APPLET,da.CAPTION,da.HTML,da.MARQUEE,da.OBJECT,da.TABLE,da.TD,da.TEMPLATE,da.TH]),Da=new Set([...xa,da.OL,da.UL]),La=new Set([...xa,da.BUTTON]),Ma=new Set([da.ANNOTATION_XML,da.MI,da.MN,da.MO,da.MS,da.MTEXT]),Fa=new Set([da.DESC,da.FOREIGN_OBJECT,da.TITLE]),ja=new Set([da.TR,da.TEMPLATE,da.HTML]),$a=new Set([da.TBODY,da.TFOOT,da.THEAD,da.TEMPLATE,da.HTML]),Ba=new Set([da.TABLE,da.TEMPLATE,da.HTML]),Ua=new Set([da.TD,da.TH]);class Ha{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,t,n){this.treeAdapter=t,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=da.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===da.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===ia.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,t){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=t,this.currentTagId=t,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,t,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,t){const n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&(this.current=t)}insertAfter(e,t,n){const r=this._indexOf(e)+1;this.items.splice(r,0,t),this.tagIDs.splice(r,0,n),this.stackTop++,r===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,r===this.stackTop)}popUntilTagNamePopped(e){let t=this.stackTop+1;do{t=this.tagIDs.lastIndexOf(e,t-1)}while(t>0&&this.treeAdapter.getNamespaceURI(this.items[t])!==ia.HTML);this.shortenToLength(t<0?0:t)}shortenToLength(e){for(;this.stackTop>=e;){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,this.stackTop<e)}}popUntilElementPopped(e){const t=this._indexOf(e);this.shortenToLength(t<0?0:t)}popUntilPopped(e,t){const n=this._indexOfTagNames(e,t);this.shortenToLength(n<0?0:n)}popUntilNumberedHeaderPopped(){this.popUntilPopped(ba,ia.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Ua,ia.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,t){for(let n=this.stackTop;n>=0;n--)if(e.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===t)return n;return-1}clearBackTo(e,t){const n=this._indexOfTagNames(e,t);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(Ba,ia.HTML)}clearBackToTableBodyContext(){this.clearBackTo($a,ia.HTML)}clearBackToTableRowContext(){this.clearBackTo(ja,ia.HTML)}remove(e){const t=this._indexOf(e);t>=0&&(t===this.stackTop?this.pop():(this.items.splice(t,1),this.tagIDs.splice(t,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===da.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const t=this._indexOf(e)-1;return t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===da.HTML}hasInDynamicScope(e,t){for(let n=this.stackTop;n>=0;n--){const r=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case ia.HTML:if(r===e)return!0;if(t.has(r))return!1;break;case ia.SVG:if(Fa.has(r))return!1;break;case ia.MATHML:if(Ma.has(r))return!1}}return!0}hasInScope(e){return this.hasInDynamicScope(e,xa)}hasInListItemScope(e){return this.hasInDynamicScope(e,Da)}hasInButtonScope(e){return this.hasInDynamicScope(e,La)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case ia.HTML:if(ba.has(t))return!0;if(xa.has(t))return!1;break;case ia.SVG:if(Fa.has(t))return!1;break;case ia.MATHML:if(Ma.has(t))return!1}}return!0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===ia.HTML)switch(this.tagIDs[t]){case e:return!0;case da.TABLE:case da.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===ia.HTML)switch(this.tagIDs[e]){case da.TBODY:case da.THEAD:case da.TFOOT:return!0;case da.TABLE:case da.HTML:return!1}return!0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===ia.HTML)switch(this.tagIDs[t]){case e:return!0;case da.OPTION:case da.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;Pa.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;Na.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==e&&Na.has(this.currentTagId);)this.pop()}}var qa,Ga;(Ga=qa||(qa={}))[Ga.Marker=0]="Marker",Ga[Ga.Element=1]="Element";const Wa={type:qa.Marker};class Qa{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,t){const n=[],r=t.length,i=this.treeAdapter.getTagName(e),s=this.treeAdapter.getNamespaceURI(e);for(let a=0;a<this.entries.length;a++){const e=this.entries[a];if(e.type===qa.Marker)break;const{element:t}=e;if(this.treeAdapter.getTagName(t)===i&&this.treeAdapter.getNamespaceURI(t)===s){const e=this.treeAdapter.getAttrList(t);e.length===r&&n.push({idx:a,attrs:e})}}return n}_ensureNoahArkCondition(e){if(this.entries.length<3)return;const t=this.treeAdapter.getAttrList(e),n=this._getNoahArkConditionCandidates(e,t);if(n.length<3)return;const r=new Map(t.map((e=>[e.name,e.value])));let i=0;for(let s=0;s<n.length;s++){const e=n[s];e.attrs.every((e=>r.get(e.name)===e.value))&&(i+=1,i>=3&&this.entries.splice(e.idx,1))}}insertMarker(){this.entries.unshift(Wa)}pushElement(e,t){this._ensureNoahArkCondition(e),this.entries.unshift({type:qa.Element,element:e,token:t})}insertElementAfterBookmark(e,t){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:qa.Element,element:e,token:t})}removeEntry(e){const t=this.entries.indexOf(e);t>=0&&this.entries.splice(t,1)}clearToLastMarker(){const e=this.entries.indexOf(Wa);e>=0?this.entries.splice(0,e+1):this.entries.length=0}getElementEntryInScopeWithTagName(e){const t=this.entries.find((t=>t.type===qa.Marker||this.treeAdapter.getTagName(t.element)===e));return t&&t.type===qa.Element?t:null}getElementEntry(e){return this.entries.find((t=>t.type===qa.Element&&t.element===e))}}const Va={createDocument:()=>({nodeName:"#document",mode:ca.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(e,t,n)=>({nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}),createCommentNode:e=>({nodeName:"#comment",data:e,parentNode:null}),createTextNode:e=>({nodeName:"#text",value:e,parentNode:null}),appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent:e=>e.content,setDocumentType(e,t,n,r){const i=e.childNodes.find((e=>"#documentType"===e.nodeName));if(i)i.name=t,i.publicId=n,i.systemId=r;else{const i={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};Va.appendChild(e,i)}},setDocumentMode(e,t){e.mode=t},getDocumentMode:e=>e.mode,detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(Va.isTextNode(n))return void(n.value+=t)}Va.appendChild(e,Va.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&Va.isTextNode(r)?r.value+=t:Va.insertBefore(e,Va.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map((e=>e.name)));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild:e=>e.childNodes[0],getChildNodes:e=>e.childNodes,getParentNode:e=>e.parentNode,getAttrList:e=>e.attrs,getTagName:e=>e.tagName,getNamespaceURI:e=>e.namespaceURI,getTextNodeContent:e=>e.value,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName:e=>e.name,getDocumentTypeNodePublicId:e=>e.publicId,getDocumentTypeNodeSystemId:e=>e.systemId,isTextNode:e=>"#text"===e.nodeName,isCommentNode:e=>"#comment"===e.nodeName,isDocumentTypeNode:e=>"#documentType"===e.nodeName,isElementNode:e=>Object.prototype.hasOwnProperty.call(e,"tagName"),setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},Ya="html",za=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Ka=[...za,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Xa=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Ja=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Za=[...Ja,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function eo(e,t){return t.some((t=>e.startsWith(t)))}const to="text/html",no="application/xhtml+xml",ro=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((e=>[e.toLowerCase(),e]))),io=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:ia.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:ia.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:ia.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:ia.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:ia.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:ia.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:ia.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:ia.XML}],["xml:space",{prefix:"xml",name:"space",namespace:ia.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:ia.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:ia.XMLNS}]]),so=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((e=>[e.toLowerCase(),e]))),ao=new Set([da.B,da.BIG,da.BLOCKQUOTE,da.BODY,da.BR,da.CENTER,da.CODE,da.DD,da.DIV,da.DL,da.DT,da.EM,da.EMBED,da.H1,da.H2,da.H3,da.H4,da.H5,da.H6,da.HEAD,da.HR,da.I,da.IMG,da.LI,da.LISTING,da.MENU,da.META,da.NOBR,da.OL,da.P,da.PRE,da.RUBY,da.S,da.SMALL,da.SPAN,da.STRONG,da.STRIKE,da.SUB,da.SUP,da.TABLE,da.TT,da.U,da.UL,da.VAR]);function oo(e){for(let t=0;t<e.attrs.length;t++)if("definitionurl"===e.attrs[t].name){e.attrs[t].name="definitionURL";break}}function co(e){for(let t=0;t<e.attrs.length;t++){const n=ro.get(e.attrs[t].name);null!=n&&(e.attrs[t].name=n)}}function lo(e){for(let t=0;t<e.attrs.length;t++){const n=io.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function uo(e,t,n,r){return(!r||r===ia.HTML)&&function(e,t,n){if(t===ia.MATHML&&e===da.ANNOTATION_XML)for(let r=0;r<n.length;r++)if(n[r].name===aa.ENCODING){const e=n[r].value.toLowerCase();return e===to||e===no}return t===ia.SVG&&(e===da.FOREIGN_OBJECT||e===da.DESC||e===da.TITLE)}(e,t,n)||(!r||r===ia.MATHML)&&function(e,t){return t===ia.MATHML&&(e===da.MI||e===da.MO||e===da.MN||e===da.MS||e===da.MTEXT)}(e,t)}var ho,fo;(fo=ho||(ho={}))[fo.INITIAL=0]="INITIAL",fo[fo.BEFORE_HTML=1]="BEFORE_HTML",fo[fo.BEFORE_HEAD=2]="BEFORE_HEAD",fo[fo.IN_HEAD=3]="IN_HEAD",fo[fo.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",fo[fo.AFTER_HEAD=5]="AFTER_HEAD",fo[fo.IN_BODY=6]="IN_BODY",fo[fo.TEXT=7]="TEXT",fo[fo.IN_TABLE=8]="IN_TABLE",fo[fo.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",fo[fo.IN_CAPTION=10]="IN_CAPTION",fo[fo.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",fo[fo.IN_TABLE_BODY=12]="IN_TABLE_BODY",fo[fo.IN_ROW=13]="IN_ROW",fo[fo.IN_CELL=14]="IN_CELL",fo[fo.IN_SELECT=15]="IN_SELECT",fo[fo.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",fo[fo.IN_TEMPLATE=17]="IN_TEMPLATE",fo[fo.AFTER_BODY=18]="AFTER_BODY",fo[fo.IN_FRAMESET=19]="IN_FRAMESET",fo[fo.AFTER_FRAMESET=20]="AFTER_FRAMESET",fo[fo.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",fo[fo.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET";const po={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},mo=new Set([da.TABLE,da.TBODY,da.TFOOT,da.THEAD,da.TR]),go={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:Va,onParseError:null};let yo=class{constructor(e,t,n=null,r=null){this.fragmentContext=n,this.scriptHandler=r,this.currentToken=null,this.stopped=!1,this.insertionMode=ho.INITIAL,this.originalInsertionMode=ho.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...go,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=t?t:this.treeAdapter.createDocument(),this.tokenizer=new Ca(this.options,this),this.activeFormattingElements=new Qa(this.treeAdapter),this.fragmentContextID=n?ga(this.treeAdapter.getTagName(n)):da.UNKNOWN,this._setContextModes(null!=n?n:this.document,this.fragmentContextID),this.openElements=new Ha(this.document,this.treeAdapter,this)}static parse(e,t){const n=new this(t);return n.tokenizer.write(e,!0),n.document}static getFragmentParser(e,t){const n={...go,...t};null!=e||(e=n.treeAdapter.createElement(ua.TEMPLATE,ia.HTML,[]));const r=n.treeAdapter.createElement("documentmock",ia.HTML,[]),i=new this(n,r,e);return i.fragmentContextID===da.TEMPLATE&&i.tmplInsertionModeStack.unshift(ho.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t}_err(e,t,n){var r;if(!this.onParseError)return;const i=null!==(r=e.location)&&void 0!==r?r:po,s={code:t,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:n?i.startLine:i.endLine,endCol:n?i.startCol:i.endCol,endOffset:n?i.startOffset:i.endOffset};this.onParseError(s)}onItemPush(e,t,n){var r,i;null===(i=(r=this.treeAdapter).onItemPush)||void 0===i||i.call(r,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,t)}onItemPop(e,t){var n,r;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),null===(r=(n=this.treeAdapter).onItemPop)||void 0===r||r.call(n,e,this.openElements.current),t){let e,t;0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,t=this.fragmentContextID):({current:e,currentTagId:t}=this.openElements),this._setContextModes(e,t)}}_setContextModes(e,t){const n=e===this.document||this.treeAdapter.getNamespaceURI(e)===ia.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&!this._isIntegrationPoint(t,e)}_switchToTextParsing(e,t){this._insertElement(e,ia.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=ho.TEXT}switchToPlaintextParsing(){this.insertionMode=ho.TEXT,this.originalInsertionMode=ho.IN_BODY,this.tokenizer.state=Aa.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===ua.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===ia.HTML)switch(this.fragmentContextID){case da.TITLE:case da.TEXTAREA:this.tokenizer.state=Aa.RCDATA;break;case da.STYLE:case da.XMP:case da.IFRAME:case da.NOEMBED:case da.NOFRAMES:case da.NOSCRIPT:this.tokenizer.state=Aa.RAWTEXT;break;case da.SCRIPT:this.tokenizer.state=Aa.SCRIPT_DATA;break;case da.PLAINTEXT:this.tokenizer.state=Aa.PLAINTEXT}}_setDocumentType(e){const t=e.name||"",n=e.publicId||"",r=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,n,r),e.location){const t=this.treeAdapter.getChildNodes(this.document).find((e=>this.treeAdapter.isDocumentTypeNode(e)));t&&this.treeAdapter.setNodeSourceCodeLocation(t,e.location)}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){const n=t&&{...t,startTag:t};this.treeAdapter.setNodeSourceCodeLocation(e,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const t=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(t,e)}}_appendElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location)}_insertElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID)}_insertFakeElement(e,t){const n=this.treeAdapter.createElement(e,ia.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,t)}_insertTemplate(e){const t=this.treeAdapter.createElement(e.tagName,ia.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(ua.HTML,ia.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,da.HTML)}_appendCommentNode(e,t){const n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location)}_insertCharacters(e){let t,n;if(this._shouldFosterParentOnInsertion()?(({parent:t,beforeElement:n}=this._findFosterParentingLocation()),n?this.treeAdapter.insertTextBefore(t,e.chars,n):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;const r=this.treeAdapter.getChildNodes(t),i=n?r.lastIndexOf(n):r.length,s=r[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:t,endCol:n,endOffset:r}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:t,endCol:n,endOffset:r})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location)}_adoptNodes(e,t){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){const n=t.location,r=this.treeAdapter.getTagName(e),i=t.type===na.END_TAG&&r===t.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,i)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let t,n;return 0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,n=this.fragmentContextID):({current:t,currentTagId:n}=this.openElements),(e.tagID!==da.SVG||this.treeAdapter.getTagName(t)!==ua.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(t)!==ia.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===da.MGLYPH||e.tagID===da.MALIGNMARK)&&!this._isIntegrationPoint(n,t,ia.HTML))}_processToken(e){switch(e.type){case na.CHARACTER:this.onCharacter(e);break;case na.NULL_CHARACTER:this.onNullCharacter(e);break;case na.COMMENT:this.onComment(e);break;case na.DOCTYPE:this.onDoctype(e);break;case na.START_TAG:this._processStartTag(e);break;case na.END_TAG:this.onEndTag(e);break;case na.EOF:this.onEof(e);break;case na.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e)}}_isIntegrationPoint(e,t,n){return uo(e,this.treeAdapter.getNamespaceURI(t),this.treeAdapter.getAttrList(t),n)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const t=this.activeFormattingElements.entries.findIndex((e=>e.type===qa.Marker||this.openElements.contains(e.element)));for(let n=t<0?e-1:t-1;n>=0;n--){const e=this.activeFormattingElements.entries[n];this._insertElement(e.token,this.treeAdapter.getNamespaceURI(e.element)),e.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=ho.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(da.P),this.openElements.popUntilTagNamePopped(da.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(0===e&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case da.TR:return void(this.insertionMode=ho.IN_ROW);case da.TBODY:case da.THEAD:case da.TFOOT:return void(this.insertionMode=ho.IN_TABLE_BODY);case da.CAPTION:return void(this.insertionMode=ho.IN_CAPTION);case da.COLGROUP:return void(this.insertionMode=ho.IN_COLUMN_GROUP);case da.TABLE:return void(this.insertionMode=ho.IN_TABLE);case da.BODY:return void(this.insertionMode=ho.IN_BODY);case da.FRAMESET:return void(this.insertionMode=ho.IN_FRAMESET);case da.SELECT:return void this._resetInsertionModeForSelect(e);case da.TEMPLATE:return void(this.insertionMode=this.tmplInsertionModeStack[0]);case da.HTML:return void(this.insertionMode=this.headElement?ho.AFTER_HEAD:ho.BEFORE_HEAD);case da.TD:case da.TH:if(e>0)return void(this.insertionMode=ho.IN_CELL);break;case da.HEAD:if(e>0)return void(this.insertionMode=ho.IN_HEAD)}this.insertionMode=ho.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){const e=this.openElements.tagIDs[t];if(e===da.TEMPLATE)break;if(e===da.TABLE)return void(this.insertionMode=ho.IN_SELECT_IN_TABLE)}this.insertionMode=ho.IN_SELECT}_isElementCausesFosterParenting(e){return mo.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case da.TEMPLATE:if(this.treeAdapter.getNamespaceURI(t)===ia.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break;case da.TABLE:{const n=this.treeAdapter.getParentNode(t);return n?{parent:n,beforeElement:t}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_isSpecialElement(e,t){const n=this.treeAdapter.getNamespaceURI(e);return va[n].has(t)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){e._insertCharacters(t),e.framesetOk=!1}(this,e);else switch(this.insertionMode){case ho.INITIAL:Oo(this,e);break;case ho.BEFORE_HTML:Io(this,e);break;case ho.BEFORE_HEAD:Ro(this,e);break;case ho.IN_HEAD:No(this,e);break;case ho.IN_HEAD_NO_SCRIPT:xo(this,e);break;case ho.AFTER_HEAD:Do(this,e);break;case ho.IN_BODY:case ho.IN_CAPTION:case ho.IN_CELL:case ho.IN_TEMPLATE:Fo(this,e);break;case ho.TEXT:case ho.IN_SELECT:case ho.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case ho.IN_TABLE:case ho.IN_TABLE_BODY:case ho.IN_ROW:Qo(this,e);break;case ho.IN_TABLE_TEXT:Xo(this,e);break;case ho.IN_COLUMN_GROUP:tc(this,e);break;case ho.AFTER_BODY:uc(this,e);break;case ho.AFTER_AFTER_BODY:hc(this,e)}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){t.chars=Us,e._insertCharacters(t)}(this,e);else switch(this.insertionMode){case ho.INITIAL:Oo(this,e);break;case ho.BEFORE_HTML:Io(this,e);break;case ho.BEFORE_HEAD:Ro(this,e);break;case ho.IN_HEAD:No(this,e);break;case ho.IN_HEAD_NO_SCRIPT:xo(this,e);break;case ho.AFTER_HEAD:Do(this,e);break;case ho.TEXT:this._insertCharacters(e);break;case ho.IN_TABLE:case ho.IN_TABLE_BODY:case ho.IN_ROW:Qo(this,e);break;case ho.IN_COLUMN_GROUP:tc(this,e);break;case ho.AFTER_BODY:uc(this,e);break;case ho.AFTER_AFTER_BODY:hc(this,e)}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML)ko(this,e);else switch(this.insertionMode){case ho.INITIAL:case ho.BEFORE_HTML:case ho.BEFORE_HEAD:case ho.IN_HEAD:case ho.IN_HEAD_NO_SCRIPT:case ho.AFTER_HEAD:case ho.IN_BODY:case ho.IN_TABLE:case ho.IN_CAPTION:case ho.IN_COLUMN_GROUP:case ho.IN_TABLE_BODY:case ho.IN_ROW:case ho.IN_CELL:case ho.IN_SELECT:case ho.IN_SELECT_IN_TABLE:case ho.IN_TEMPLATE:case ho.IN_FRAMESET:case ho.AFTER_FRAMESET:ko(this,e);break;case ho.IN_TABLE_TEXT:Jo(this,e);break;case ho.AFTER_BODY:!function(e,t){e._appendCommentNode(t,e.openElements.items[0])}(this,e);break;case ho.AFTER_AFTER_BODY:case ho.AFTER_AFTER_FRAMESET:!function(e,t){e._appendCommentNode(t,e.document)}(this,e)}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case ho.INITIAL:!function(e,t){e._setDocumentType(t);const n=t.forceQuirks?ca.QUIRKS:function(e){if(e.name!==Ya)return ca.QUIRKS;const{systemId:t}=e;if(t&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===t.toLowerCase())return ca.QUIRKS;let{publicId:n}=e;if(null!==n){if(n=n.toLowerCase(),Xa.has(n))return ca.QUIRKS;let e=null===t?Ka:za;if(eo(n,e))return ca.QUIRKS;if(e=null===t?Ja:Za,eo(n,e))return ca.LIMITED_QUIRKS}return ca.NO_QUIRKS}(t);(function(e){return e.name===Ya&&null===e.publicId&&(null===e.systemId||"about:legacy-compat"===e.systemId)})(t)||e._err(t,Zs.nonConformingDoctype);e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=ho.BEFORE_HTML}(this,e);break;case ho.BEFORE_HEAD:case ho.IN_HEAD:case ho.IN_HEAD_NO_SCRIPT:case ho.AFTER_HEAD:this._err(e,Zs.misplacedDoctype);break;case ho.IN_TABLE_TEXT:Jo(this,e)}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,Zs.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?function(e,t){if(function(e){const t=e.tagID;return t===da.FONT&&e.attrs.some((({name:e})=>e===aa.COLOR||e===aa.SIZE||e===aa.FACE))||ao.has(t)}(t))dc(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===ia.MATHML?oo(t):r===ia.SVG&&(!function(e){const t=so.get(e.tagName);null!=t&&(e.tagName=t,e.tagID=ga(e.tagName))}(t),co(t)),lo(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case ho.INITIAL:Oo(this,e);break;case ho.BEFORE_HTML:!function(e,t){t.tagID===da.HTML?(e._insertElement(t,ia.HTML),e.insertionMode=ho.BEFORE_HEAD):Io(e,t)}(this,e);break;case ho.BEFORE_HEAD:!function(e,t){switch(t.tagID){case da.HTML:Ho(e,t);break;case da.HEAD:e._insertElement(t,ia.HTML),e.headElement=e.openElements.current,e.insertionMode=ho.IN_HEAD;break;default:Ro(e,t)}}(this,e);break;case ho.IN_HEAD:Co(this,e);break;case ho.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case da.HTML:Ho(e,t);break;case da.BASEFONT:case da.BGSOUND:case da.HEAD:case da.LINK:case da.META:case da.NOFRAMES:case da.STYLE:Co(e,t);break;case da.NOSCRIPT:e._err(t,Zs.nestedNoscriptInHead);break;default:xo(e,t)}}(this,e);break;case ho.AFTER_HEAD:!function(e,t){switch(t.tagID){case da.HTML:Ho(e,t);break;case da.BODY:e._insertElement(t,ia.HTML),e.framesetOk=!1,e.insertionMode=ho.IN_BODY;break;case da.FRAMESET:e._insertElement(t,ia.HTML),e.insertionMode=ho.IN_FRAMESET;break;case da.BASE:case da.BASEFONT:case da.BGSOUND:case da.LINK:case da.META:case da.NOFRAMES:case da.SCRIPT:case da.STYLE:case da.TEMPLATE:case da.TITLE:e._err(t,Zs.abandonedHeadElementChild),e.openElements.push(e.headElement,da.HEAD),Co(e,t),e.openElements.remove(e.headElement);break;case da.HEAD:e._err(t,Zs.misplacedStartTagForHeadElement);break;default:Do(e,t)}}(this,e);break;case ho.IN_BODY:Ho(this,e);break;case ho.IN_TABLE:Vo(this,e);break;case ho.IN_TABLE_TEXT:Jo(this,e);break;case ho.IN_CAPTION:!function(e,t){const n=t.tagID;Zo.has(n)?e.openElements.hasInTableScope(da.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(da.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ho.IN_TABLE,Vo(e,t)):Ho(e,t)}(this,e);break;case ho.IN_COLUMN_GROUP:ec(this,e);break;case ho.IN_TABLE_BODY:nc(this,e);break;case ho.IN_ROW:ic(this,e);break;case ho.IN_CELL:!function(e,t){const n=t.tagID;Zo.has(n)?(e.openElements.hasInTableScope(da.TD)||e.openElements.hasInTableScope(da.TH))&&(e._closeTableCell(),ic(e,t)):Ho(e,t)}(this,e);break;case ho.IN_SELECT:ac(this,e);break;case ho.IN_SELECT_IN_TABLE:!function(e,t){const n=t.tagID;n===da.CAPTION||n===da.TABLE||n===da.TBODY||n===da.TFOOT||n===da.THEAD||n===da.TR||n===da.TD||n===da.TH?(e.openElements.popUntilTagNamePopped(da.SELECT),e._resetInsertionMode(),e._processStartTag(t)):ac(e,t)}(this,e);break;case ho.IN_TEMPLATE:!function(e,t){switch(t.tagID){case da.BASE:case da.BASEFONT:case da.BGSOUND:case da.LINK:case da.META:case da.NOFRAMES:case da.SCRIPT:case da.STYLE:case da.TEMPLATE:case da.TITLE:Co(e,t);break;case da.CAPTION:case da.COLGROUP:case da.TBODY:case da.TFOOT:case da.THEAD:e.tmplInsertionModeStack[0]=ho.IN_TABLE,e.insertionMode=ho.IN_TABLE,Vo(e,t);break;case da.COL:e.tmplInsertionModeStack[0]=ho.IN_COLUMN_GROUP,e.insertionMode=ho.IN_COLUMN_GROUP,ec(e,t);break;case da.TR:e.tmplInsertionModeStack[0]=ho.IN_TABLE_BODY,e.insertionMode=ho.IN_TABLE_BODY,nc(e,t);break;case da.TD:case da.TH:e.tmplInsertionModeStack[0]=ho.IN_ROW,e.insertionMode=ho.IN_ROW,ic(e,t);break;default:e.tmplInsertionModeStack[0]=ho.IN_BODY,e.insertionMode=ho.IN_BODY,Ho(e,t)}}(this,e);break;case ho.AFTER_BODY:!function(e,t){t.tagID===da.HTML?Ho(e,t):uc(e,t)}(this,e);break;case ho.IN_FRAMESET:!function(e,t){switch(t.tagID){case da.HTML:Ho(e,t);break;case da.FRAMESET:e._insertElement(t,ia.HTML);break;case da.FRAME:e._appendElement(t,ia.HTML),t.ackSelfClosing=!0;break;case da.NOFRAMES:Co(e,t)}}(this,e);break;case ho.AFTER_FRAMESET:!function(e,t){switch(t.tagID){case da.HTML:Ho(e,t);break;case da.NOFRAMES:Co(e,t)}}(this,e);break;case ho.AFTER_AFTER_BODY:!function(e,t){t.tagID===da.HTML?Ho(e,t):hc(e,t)}(this,e);break;case ho.AFTER_AFTER_FRAMESET:!function(e,t){switch(t.tagID){case da.HTML:Ho(e,t);break;case da.NOFRAMES:Co(e,t)}}(this,e)}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function(e,t){if(t.tagID===da.P||t.tagID===da.BR)return dc(e),void e._endTagOutsideForeignContent(t);for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===ia.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(r);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(n);break}}}(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case ho.INITIAL:Oo(this,e);break;case ho.BEFORE_HTML:!function(e,t){const n=t.tagID;n!==da.HTML&&n!==da.HEAD&&n!==da.BODY&&n!==da.BR||Io(e,t)}(this,e);break;case ho.BEFORE_HEAD:!function(e,t){const n=t.tagID;n===da.HEAD||n===da.BODY||n===da.HTML||n===da.BR?Ro(e,t):e._err(t,Zs.endTagWithoutMatchingOpenElement)}(this,e);break;case ho.IN_HEAD:!function(e,t){switch(t.tagID){case da.HEAD:e.openElements.pop(),e.insertionMode=ho.AFTER_HEAD;break;case da.BODY:case da.BR:case da.HTML:No(e,t);break;case da.TEMPLATE:Po(e,t);break;default:e._err(t,Zs.endTagWithoutMatchingOpenElement)}}(this,e);break;case ho.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case da.NOSCRIPT:e.openElements.pop(),e.insertionMode=ho.IN_HEAD;break;case da.BR:xo(e,t);break;default:e._err(t,Zs.endTagWithoutMatchingOpenElement)}}(this,e);break;case ho.AFTER_HEAD:!function(e,t){switch(t.tagID){case da.BODY:case da.HTML:case da.BR:Do(e,t);break;case da.TEMPLATE:Po(e,t);break;default:e._err(t,Zs.endTagWithoutMatchingOpenElement)}}(this,e);break;case ho.IN_BODY:Go(this,e);break;case ho.TEXT:!function(e,t){var n;t.tagID===da.SCRIPT&&(null===(n=e.scriptHandler)||void 0===n||n.call(e,e.openElements.current));e.openElements.pop(),e.insertionMode=e.originalInsertionMode}(this,e);break;case ho.IN_TABLE:Yo(this,e);break;case ho.IN_TABLE_TEXT:Jo(this,e);break;case ho.IN_CAPTION:!function(e,t){const n=t.tagID;switch(n){case da.CAPTION:case da.TABLE:e.openElements.hasInTableScope(da.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(da.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ho.IN_TABLE,n===da.TABLE&&Yo(e,t));break;case da.BODY:case da.COL:case da.COLGROUP:case da.HTML:case da.TBODY:case da.TD:case da.TFOOT:case da.TH:case da.THEAD:case da.TR:break;default:Go(e,t)}}(this,e);break;case ho.IN_COLUMN_GROUP:!function(e,t){switch(t.tagID){case da.COLGROUP:e.openElements.currentTagId===da.COLGROUP&&(e.openElements.pop(),e.insertionMode=ho.IN_TABLE);break;case da.TEMPLATE:Po(e,t);break;case da.COL:break;default:tc(e,t)}}(this,e);break;case ho.IN_TABLE_BODY:rc(this,e);break;case ho.IN_ROW:sc(this,e);break;case ho.IN_CELL:!function(e,t){const n=t.tagID;switch(n){case da.TD:case da.TH:e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ho.IN_ROW);break;case da.TABLE:case da.TBODY:case da.TFOOT:case da.THEAD:case da.TR:e.openElements.hasInTableScope(n)&&(e._closeTableCell(),sc(e,t));break;case da.BODY:case da.CAPTION:case da.COL:case da.COLGROUP:case da.HTML:break;default:Go(e,t)}}(this,e);break;case ho.IN_SELECT:oc(this,e);break;case ho.IN_SELECT_IN_TABLE:!function(e,t){const n=t.tagID;n===da.CAPTION||n===da.TABLE||n===da.TBODY||n===da.TFOOT||n===da.THEAD||n===da.TR||n===da.TD||n===da.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(da.SELECT),e._resetInsertionMode(),e.onEndTag(t)):oc(e,t)}(this,e);break;case ho.IN_TEMPLATE:!function(e,t){t.tagID===da.TEMPLATE&&Po(e,t)}(this,e);break;case ho.AFTER_BODY:lc(this,e);break;case ho.IN_FRAMESET:!function(e,t){t.tagID!==da.FRAMESET||e.openElements.isRootHtmlElementCurrent()||(e.openElements.pop(),e.fragmentContext||e.openElements.currentTagId===da.FRAMESET||(e.insertionMode=ho.AFTER_FRAMESET))}(this,e);break;case ho.AFTER_FRAMESET:!function(e,t){t.tagID===da.HTML&&(e.insertionMode=ho.AFTER_AFTER_FRAMESET)}(this,e);break;case ho.AFTER_AFTER_BODY:hc(this,e)}}onEof(e){switch(this.insertionMode){case ho.INITIAL:Oo(this,e);break;case ho.BEFORE_HTML:Io(this,e);break;case ho.BEFORE_HEAD:Ro(this,e);break;case ho.IN_HEAD:No(this,e);break;case ho.IN_HEAD_NO_SCRIPT:xo(this,e);break;case ho.AFTER_HEAD:Do(this,e);break;case ho.IN_BODY:case ho.IN_TABLE:case ho.IN_CAPTION:case ho.IN_COLUMN_GROUP:case ho.IN_TABLE_BODY:case ho.IN_ROW:case ho.IN_CELL:case ho.IN_SELECT:case ho.IN_SELECT_IN_TABLE:Wo(this,e);break;case ho.TEXT:!function(e,t){e._err(t,Zs.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}(this,e);break;case ho.IN_TABLE_TEXT:Jo(this,e);break;case ho.IN_TEMPLATE:cc(this,e);break;case ho.AFTER_BODY:case ho.IN_FRAMESET:case ho.AFTER_FRAMESET:case ho.AFTER_AFTER_BODY:case ho.AFTER_AFTER_FRAMESET:wo(this,e)}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===Hs.LINE_FEED)){if(1===e.chars.length)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode)this._insertCharacters(e);else switch(this.insertionMode){case ho.IN_HEAD:case ho.IN_HEAD_NO_SCRIPT:case ho.AFTER_HEAD:case ho.TEXT:case ho.IN_COLUMN_GROUP:case ho.IN_SELECT:case ho.IN_SELECT_IN_TABLE:case ho.IN_FRAMESET:case ho.AFTER_FRAMESET:this._insertCharacters(e);break;case ho.IN_BODY:case ho.IN_CAPTION:case ho.IN_CELL:case ho.IN_TEMPLATE:case ho.AFTER_BODY:case ho.AFTER_AFTER_BODY:case ho.AFTER_AFTER_FRAMESET:Mo(this,e);break;case ho.IN_TABLE:case ho.IN_TABLE_BODY:case ho.IN_ROW:Qo(this,e);break;case ho.IN_TABLE_TEXT:Ko(this,e)}}};function vo(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):qo(e,t),n}function bo(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[r])&&(n=i)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function Eo(e,t,n){let r=t,i=e.openElements.getCommonAncestor(t);for(let s=0,a=i;a!==n;s++,a=i){i=e.openElements.getCommonAncestor(a);const n=e.activeFormattingElements.getElementEntry(a),o=n&&s>=3;!n||o?(o&&e.activeFormattingElements.removeEntry(n),e.openElements.remove(a)):(a=To(e,n),r===t&&(e.activeFormattingElements.bookmark=n),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function To(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function So(e,t,n){const r=ga(e.treeAdapter.getTagName(t));if(e._isElementCausesFosterParenting(r))e._fosterParentElement(n);else{const i=e.treeAdapter.getNamespaceURI(t);r===da.TEMPLATE&&i===ia.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function Ao(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:i}=n,s=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,i),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,i.tagID)}function _o(e,t){for(let n=0;n<8;n++){const n=vo(e,t);if(!n)break;const r=bo(e,n);if(!r)break;e.activeFormattingElements.bookmark=n;const i=Eo(e,r,n.element),s=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(i),s&&So(e,s,i),Ao(e,r,n)}}function ko(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function wo(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],r=e.treeAdapter.getNodeSourceCodeLocation(n);if(r&&!r.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const n=e.openElements.items[1],r=e.treeAdapter.getNodeSourceCodeLocation(n);r&&!r.endTag&&e._setEndLocation(n,t)}}}}function Oo(e,t){e._err(t,Zs.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,ca.QUIRKS),e.insertionMode=ho.BEFORE_HTML,e._processToken(t)}function Io(e,t){e._insertFakeRootElement(),e.insertionMode=ho.BEFORE_HEAD,e._processToken(t)}function Ro(e,t){e._insertFakeElement(ua.HEAD,da.HEAD),e.headElement=e.openElements.current,e.insertionMode=ho.IN_HEAD,e._processToken(t)}function Co(e,t){switch(t.tagID){case da.HTML:Ho(e,t);break;case da.BASE:case da.BASEFONT:case da.BGSOUND:case da.LINK:case da.META:e._appendElement(t,ia.HTML),t.ackSelfClosing=!0;break;case da.TITLE:e._switchToTextParsing(t,Aa.RCDATA);break;case da.NOSCRIPT:e.options.scriptingEnabled?e._switchToTextParsing(t,Aa.RAWTEXT):(e._insertElement(t,ia.HTML),e.insertionMode=ho.IN_HEAD_NO_SCRIPT);break;case da.NOFRAMES:case da.STYLE:e._switchToTextParsing(t,Aa.RAWTEXT);break;case da.SCRIPT:e._switchToTextParsing(t,Aa.SCRIPT_DATA);break;case da.TEMPLATE:e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=ho.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(ho.IN_TEMPLATE);break;case da.HEAD:e._err(t,Zs.misplacedStartTagForHeadElement);break;default:No(e,t)}}function Po(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==da.TEMPLATE&&e._err(t,Zs.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(da.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,Zs.endTagWithoutMatchingOpenElement)}function No(e,t){e.openElements.pop(),e.insertionMode=ho.AFTER_HEAD,e._processToken(t)}function xo(e,t){const n=t.type===na.EOF?Zs.openElementsLeftAfterEof:Zs.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=ho.IN_HEAD,e._processToken(t)}function Do(e,t){e._insertFakeElement(ua.BODY,da.BODY),e.insertionMode=ho.IN_BODY,Lo(e,t)}function Lo(e,t){switch(t.type){case na.CHARACTER:Fo(e,t);break;case na.WHITESPACE_CHARACTER:Mo(e,t);break;case na.COMMENT:ko(e,t);break;case na.START_TAG:Ho(e,t);break;case na.END_TAG:Go(e,t);break;case na.EOF:Wo(e,t)}}function Mo(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Fo(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function jo(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,ia.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function $o(e){const t=pa(e,aa.TYPE);return null!=t&&"hidden"===t.toLowerCase()}function Bo(e,t){e._switchToTextParsing(t,Aa.RAWTEXT)}function Uo(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ia.HTML)}function Ho(e,t){switch(t.tagID){case da.I:case da.S:case da.B:case da.U:case da.EM:case da.TT:case da.BIG:case da.CODE:case da.FONT:case da.SMALL:case da.STRIKE:case da.STRONG:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ia.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case da.A:!function(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(ua.A);n&&(_o(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,ia.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case da.H1:case da.H2:case da.H3:case da.H4:case da.H5:case da.H6:!function(e,t){e.openElements.hasInButtonScope(da.P)&&e._closePElement(),ba.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,ia.HTML)}(e,t);break;case da.P:case da.DL:case da.OL:case da.UL:case da.DIV:case da.DIR:case da.NAV:case da.MAIN:case da.MENU:case da.ASIDE:case da.CENTER:case da.FIGURE:case da.FOOTER:case da.HEADER:case da.HGROUP:case da.DIALOG:case da.DETAILS:case da.ADDRESS:case da.ARTICLE:case da.SEARCH:case da.SECTION:case da.SUMMARY:case da.FIELDSET:case da.BLOCKQUOTE:case da.FIGCAPTION:!function(e,t){e.openElements.hasInButtonScope(da.P)&&e._closePElement(),e._insertElement(t,ia.HTML)}(e,t);break;case da.LI:case da.DD:case da.DT:!function(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const t=e.openElements.tagIDs[r];if(n===da.LI&&t===da.LI||(n===da.DD||n===da.DT)&&(t===da.DD||t===da.DT)){e.openElements.generateImpliedEndTagsWithExclusion(t),e.openElements.popUntilTagNamePopped(t);break}if(t!==da.ADDRESS&&t!==da.DIV&&t!==da.P&&e._isSpecialElement(e.openElements.items[r],t))break}e.openElements.hasInButtonScope(da.P)&&e._closePElement(),e._insertElement(t,ia.HTML)}(e,t);break;case da.BR:case da.IMG:case da.WBR:case da.AREA:case da.EMBED:case da.KEYGEN:jo(e,t);break;case da.HR:!function(e,t){e.openElements.hasInButtonScope(da.P)&&e._closePElement(),e._appendElement(t,ia.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}(e,t);break;case da.RB:case da.RTC:!function(e,t){e.openElements.hasInScope(da.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,ia.HTML)}(e,t);break;case da.RT:case da.RP:!function(e,t){e.openElements.hasInScope(da.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(da.RTC),e._insertElement(t,ia.HTML)}(e,t);break;case da.PRE:case da.LISTING:!function(e,t){e.openElements.hasInButtonScope(da.P)&&e._closePElement(),e._insertElement(t,ia.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}(e,t);break;case da.XMP:!function(e,t){e.openElements.hasInButtonScope(da.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Aa.RAWTEXT)}(e,t);break;case da.SVG:!function(e,t){e._reconstructActiveFormattingElements(),co(t),lo(t),t.selfClosing?e._appendElement(t,ia.SVG):e._insertElement(t,ia.SVG),t.ackSelfClosing=!0}(e,t);break;case da.HTML:!function(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}(e,t);break;case da.BASE:case da.LINK:case da.META:case da.STYLE:case da.TITLE:case da.SCRIPT:case da.BGSOUND:case da.BASEFONT:case da.TEMPLATE:Co(e,t);break;case da.BODY:!function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}(e,t);break;case da.FORM:!function(e,t){const n=e.openElements.tmplCount>0;e.formElement&&!n||(e.openElements.hasInButtonScope(da.P)&&e._closePElement(),e._insertElement(t,ia.HTML),n||(e.formElement=e.openElements.current))}(e,t);break;case da.NOBR:!function(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(da.NOBR)&&(_o(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,ia.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case da.MATH:!function(e,t){e._reconstructActiveFormattingElements(),oo(t),lo(t),t.selfClosing?e._appendElement(t,ia.MATHML):e._insertElement(t,ia.MATHML),t.ackSelfClosing=!0}(e,t);break;case da.TABLE:!function(e,t){e.treeAdapter.getDocumentMode(e.document)!==ca.QUIRKS&&e.openElements.hasInButtonScope(da.P)&&e._closePElement(),e._insertElement(t,ia.HTML),e.framesetOk=!1,e.insertionMode=ho.IN_TABLE}(e,t);break;case da.INPUT:!function(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,ia.HTML),$o(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}(e,t);break;case da.PARAM:case da.TRACK:case da.SOURCE:!function(e,t){e._appendElement(t,ia.HTML),t.ackSelfClosing=!0}(e,t);break;case da.IMAGE:!function(e,t){t.tagName=ua.IMG,t.tagID=da.IMG,jo(e,t)}(e,t);break;case da.BUTTON:!function(e,t){e.openElements.hasInScope(da.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(da.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,ia.HTML),e.framesetOk=!1}(e,t);break;case da.APPLET:case da.OBJECT:case da.MARQUEE:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ia.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}(e,t);break;case da.IFRAME:!function(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Aa.RAWTEXT)}(e,t);break;case da.SELECT:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,ia.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===ho.IN_TABLE||e.insertionMode===ho.IN_CAPTION||e.insertionMode===ho.IN_TABLE_BODY||e.insertionMode===ho.IN_ROW||e.insertionMode===ho.IN_CELL?ho.IN_SELECT_IN_TABLE:ho.IN_SELECT}(e,t);break;case da.OPTION:case da.OPTGROUP:!function(e,t){e.openElements.currentTagId===da.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,ia.HTML)}(e,t);break;case da.NOEMBED:case da.NOFRAMES:Bo(e,t);break;case da.FRAMESET:!function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,ia.HTML),e.insertionMode=ho.IN_FRAMESET)}(e,t);break;case da.TEXTAREA:!function(e,t){e._insertElement(t,ia.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Aa.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=ho.TEXT}(e,t);break;case da.NOSCRIPT:e.options.scriptingEnabled?Bo(e,t):Uo(e,t);break;case da.PLAINTEXT:!function(e,t){e.openElements.hasInButtonScope(da.P)&&e._closePElement(),e._insertElement(t,ia.HTML),e.tokenizer.state=Aa.PLAINTEXT}(e,t);break;case da.COL:case da.TH:case da.TD:case da.TR:case da.HEAD:case da.FRAME:case da.TBODY:case da.TFOOT:case da.THEAD:case da.CAPTION:case da.COLGROUP:break;default:Uo(e,t)}}function qo(e,t){const n=t.tagName,r=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const t=e.openElements.items[i],s=e.openElements.tagIDs[i];if(r===s&&(r!==da.UNKNOWN||e.treeAdapter.getTagName(t)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(t,s))break}}function Go(e,t){switch(t.tagID){case da.A:case da.B:case da.I:case da.S:case da.U:case da.EM:case da.TT:case da.BIG:case da.CODE:case da.FONT:case da.NOBR:case da.SMALL:case da.STRIKE:case da.STRONG:_o(e,t);break;case da.P:!function(e){e.openElements.hasInButtonScope(da.P)||e._insertFakeElement(ua.P,da.P),e._closePElement()}(e);break;case da.DL:case da.UL:case da.OL:case da.DIR:case da.DIV:case da.NAV:case da.PRE:case da.MAIN:case da.MENU:case da.ASIDE:case da.BUTTON:case da.CENTER:case da.FIGURE:case da.FOOTER:case da.HEADER:case da.HGROUP:case da.DIALOG:case da.ADDRESS:case da.ARTICLE:case da.DETAILS:case da.SEARCH:case da.SECTION:case da.SUMMARY:case da.LISTING:case da.FIELDSET:case da.BLOCKQUOTE:case da.FIGCAPTION:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case da.LI:!function(e){e.openElements.hasInListItemScope(da.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(da.LI),e.openElements.popUntilTagNamePopped(da.LI))}(e);break;case da.DD:case da.DT:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case da.H1:case da.H2:case da.H3:case da.H4:case da.H5:case da.H6:!function(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}(e);break;case da.BR:!function(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(ua.BR,da.BR),e.openElements.pop(),e.framesetOk=!1}(e);break;case da.BODY:!function(e,t){if(e.openElements.hasInScope(da.BODY)&&(e.insertionMode=ho.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}(e,t);break;case da.HTML:!function(e,t){e.openElements.hasInScope(da.BODY)&&(e.insertionMode=ho.AFTER_BODY,lc(e,t))}(e,t);break;case da.FORM:!function(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(da.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(da.FORM):n&&e.openElements.remove(n))}(e);break;case da.APPLET:case da.OBJECT:case da.MARQUEE:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}(e,t);break;case da.TEMPLATE:Po(e,t);break;default:qo(e,t)}}function Wo(e,t){e.tmplInsertionModeStack.length>0?cc(e,t):wo(e,t)}function Qo(e,t){if(mo.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=ho.IN_TABLE_TEXT,t.type){case na.CHARACTER:Xo(e,t);break;case na.WHITESPACE_CHARACTER:Ko(e,t)}else zo(e,t)}function Vo(e,t){switch(t.tagID){case da.TD:case da.TH:case da.TR:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(ua.TBODY,da.TBODY),e.insertionMode=ho.IN_TABLE_BODY,nc(e,t)}(e,t);break;case da.STYLE:case da.SCRIPT:case da.TEMPLATE:Co(e,t);break;case da.COL:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(ua.COLGROUP,da.COLGROUP),e.insertionMode=ho.IN_COLUMN_GROUP,ec(e,t)}(e,t);break;case da.FORM:!function(e,t){e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,ia.HTML),e.formElement=e.openElements.current,e.openElements.pop())}(e,t);break;case da.TABLE:!function(e,t){e.openElements.hasInTableScope(da.TABLE)&&(e.openElements.popUntilTagNamePopped(da.TABLE),e._resetInsertionMode(),e._processStartTag(t))}(e,t);break;case da.TBODY:case da.TFOOT:case da.THEAD:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,ia.HTML),e.insertionMode=ho.IN_TABLE_BODY}(e,t);break;case da.INPUT:!function(e,t){$o(t)?e._appendElement(t,ia.HTML):zo(e,t),t.ackSelfClosing=!0}(e,t);break;case da.CAPTION:!function(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,ia.HTML),e.insertionMode=ho.IN_CAPTION}(e,t);break;case da.COLGROUP:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,ia.HTML),e.insertionMode=ho.IN_COLUMN_GROUP}(e,t);break;default:zo(e,t)}}function Yo(e,t){switch(t.tagID){case da.TABLE:e.openElements.hasInTableScope(da.TABLE)&&(e.openElements.popUntilTagNamePopped(da.TABLE),e._resetInsertionMode());break;case da.TEMPLATE:Po(e,t);break;case da.BODY:case da.CAPTION:case da.COL:case da.COLGROUP:case da.HTML:case da.TBODY:case da.TD:case da.TFOOT:case da.TH:case da.THEAD:case da.TR:break;default:zo(e,t)}}function zo(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Lo(e,t),e.fosterParentingEnabled=n}function Ko(e,t){e.pendingCharacterTokens.push(t)}function Xo(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Jo(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)zo(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const Zo=new Set([da.CAPTION,da.COL,da.COLGROUP,da.TBODY,da.TD,da.TFOOT,da.TH,da.THEAD,da.TR]);function ec(e,t){switch(t.tagID){case da.HTML:Ho(e,t);break;case da.COL:e._appendElement(t,ia.HTML),t.ackSelfClosing=!0;break;case da.TEMPLATE:Co(e,t);break;default:tc(e,t)}}function tc(e,t){e.openElements.currentTagId===da.COLGROUP&&(e.openElements.pop(),e.insertionMode=ho.IN_TABLE,e._processToken(t))}function nc(e,t){switch(t.tagID){case da.TR:e.openElements.clearBackToTableBodyContext(),e._insertElement(t,ia.HTML),e.insertionMode=ho.IN_ROW;break;case da.TH:case da.TD:e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(ua.TR,da.TR),e.insertionMode=ho.IN_ROW,ic(e,t);break;case da.CAPTION:case da.COL:case da.COLGROUP:case da.TBODY:case da.TFOOT:case da.THEAD:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ho.IN_TABLE,Vo(e,t));break;default:Vo(e,t)}}function rc(e,t){const n=t.tagID;switch(t.tagID){case da.TBODY:case da.TFOOT:case da.THEAD:e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ho.IN_TABLE);break;case da.TABLE:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ho.IN_TABLE,Yo(e,t));break;case da.BODY:case da.CAPTION:case da.COL:case da.COLGROUP:case da.HTML:case da.TD:case da.TH:case da.TR:break;default:Yo(e,t)}}function ic(e,t){switch(t.tagID){case da.TH:case da.TD:e.openElements.clearBackToTableRowContext(),e._insertElement(t,ia.HTML),e.insertionMode=ho.IN_CELL,e.activeFormattingElements.insertMarker();break;case da.CAPTION:case da.COL:case da.COLGROUP:case da.TBODY:case da.TFOOT:case da.THEAD:case da.TR:e.openElements.hasInTableScope(da.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ho.IN_TABLE_BODY,nc(e,t));break;default:Vo(e,t)}}function sc(e,t){switch(t.tagID){case da.TR:e.openElements.hasInTableScope(da.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ho.IN_TABLE_BODY);break;case da.TABLE:e.openElements.hasInTableScope(da.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ho.IN_TABLE_BODY,rc(e,t));break;case da.TBODY:case da.TFOOT:case da.THEAD:(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(da.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ho.IN_TABLE_BODY,rc(e,t));break;case da.BODY:case da.CAPTION:case da.COL:case da.COLGROUP:case da.HTML:case da.TD:case da.TH:break;default:Yo(e,t)}}function ac(e,t){switch(t.tagID){case da.HTML:Ho(e,t);break;case da.OPTION:e.openElements.currentTagId===da.OPTION&&e.openElements.pop(),e._insertElement(t,ia.HTML);break;case da.OPTGROUP:e.openElements.currentTagId===da.OPTION&&e.openElements.pop(),e.openElements.currentTagId===da.OPTGROUP&&e.openElements.pop(),e._insertElement(t,ia.HTML);break;case da.HR:e.openElements.currentTagId===da.OPTION&&e.openElements.pop(),e.openElements.currentTagId===da.OPTGROUP&&e.openElements.pop(),e._appendElement(t,ia.HTML),t.ackSelfClosing=!0;break;case da.INPUT:case da.KEYGEN:case da.TEXTAREA:case da.SELECT:e.openElements.hasInSelectScope(da.SELECT)&&(e.openElements.popUntilTagNamePopped(da.SELECT),e._resetInsertionMode(),t.tagID!==da.SELECT&&e._processStartTag(t));break;case da.SCRIPT:case da.TEMPLATE:Co(e,t)}}function oc(e,t){switch(t.tagID){case da.OPTGROUP:e.openElements.stackTop>0&&e.openElements.currentTagId===da.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===da.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===da.OPTGROUP&&e.openElements.pop();break;case da.OPTION:e.openElements.currentTagId===da.OPTION&&e.openElements.pop();break;case da.SELECT:e.openElements.hasInSelectScope(da.SELECT)&&(e.openElements.popUntilTagNamePopped(da.SELECT),e._resetInsertionMode());break;case da.TEMPLATE:Po(e,t)}}function cc(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(da.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):wo(e,t)}function lc(e,t){var n;if(t.tagID===da.HTML){if(e.fragmentContext||(e.insertionMode=ho.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===da.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(null===(n=e.treeAdapter.getNodeSourceCodeLocation(r))||void 0===n?void 0:n.endTag)&&e._setEndLocation(r,t)}}else uc(e,t)}function uc(e,t){e.insertionMode=ho.IN_BODY,Lo(e,t)}function hc(e,t){e.insertionMode=ho.IN_BODY,Lo(e,t)}function dc(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==ia.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}const fc=new Set([ua.AREA,ua.BASE,ua.BASEFONT,ua.BGSOUND,ua.BR,ua.COL,ua.EMBED,ua.FRAME,ua.HR,ua.IMG,ua.INPUT,ua.KEYGEN,ua.LINK,ua.META,ua.PARAM,ua.SOURCE,ua.TRACK,ua.WBR]);const pc={treeAdapter:Va,scriptingEnabled:!0};function mc(e,t){return gc(e,{...pc,...t})}function gc(e,t){return t.treeAdapter.isElementNode(e)?function(e,t){const n=t.treeAdapter.getTagName(e);return`<${n}${function(e,{treeAdapter:t}){let n="";for(const r of t.getAttrList(e)){if(n+=" ",r.namespace)switch(r.namespace){case ia.XML:n+=`xml:${r.name}`;break;case ia.XMLNS:"xmlns"!==r.name&&(n+="xmlns:"),n+=r.name;break;case ia.XLINK:n+=`xlink:${r.name}`;break;default:n+=`${r.prefix}:${r.name}`}else n+=r.name;n+=`="${wn(r.value)}"`}return n}(e,t)}>${function(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===ia.HTML&&fc.has(t.treeAdapter.getTagName(e))}(e,t)?"":`${function(e,t){let n="";const r=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===ua.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===ia.HTML?t.treeAdapter.getTemplateContent(e):e,i=t.treeAdapter.getChildNodes(r);if(i)for(const s of i)n+=gc(s,t);return n}(e,t)}</${n}>`}`}(e,t):t.treeAdapter.isTextNode(e)?function(e,t){const{treeAdapter:n}=t,r=n.getTextNodeContent(e),i=n.getParentNode(e),s=i&&n.isElementNode(i)&&n.getTagName(i);return s&&n.getNamespaceURI(i)===ia.HTML&&(a=s,o=t.scriptingEnabled,Ea.has(a)||o&&a===ua.NOSCRIPT)?r:On(r);var a,o}(e,t):t.treeAdapter.isCommentNode(e)?function(e,{treeAdapter:t}){return`\x3c!--${t.getCommentNodeContent(e)}--\x3e`}(e,t):t.treeAdapter.isDocumentTypeNode(e)?function(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`}(e,t):""}function yc(e){const t=e.includes('"')?"'":'"';return t+e+t}const vc={isCommentNode:Vt,isElementNode:Gt,isTextNode:Qt,createDocument(){const e=new Ht([]);return e["x-mode"]=ca.NO_QUIRKS,e},createDocumentFragment:()=>new Ht([]),createElement(e,t,n){const r=Object.create(null),i=Object.create(null),s=Object.create(null);for(let o=0;o<n.length;o++){const e=n[o].name;r[e]=n[o].value,i[e]=n[o].namespace,s[e]=n[o].prefix}const a=new qt(e,r,[]);return a.namespace=t,a["x-attribsNamespace"]=i,a["x-attribsPrefix"]=s,a},createCommentNode:e=>new jt(e),createTextNode:e=>new Ft(e),appendChild(e,t){const n=e.children[e.children.length-1];n&&(n.next=t,t.prev=n),e.children.push(t),t.parent=e},insertBefore(e,t,n){const r=e.children.indexOf(n),{prev:i}=n;i&&(i.next=t,t.prev=i),n.prev=t,t.next=n,e.children.splice(r,0,t),t.parent=e},setTemplateContent(e,t){vc.appendChild(e,t)},getTemplateContent:e=>e.children[0],setDocumentType(e,t,n,r){const i=function(e,t,n){let r="!DOCTYPE ";return e&&(r+=e),t?r+=` PUBLIC ${yc(t)}`:n&&(r+=" SYSTEM"),n&&(r+=` ${yc(n)}`),r}(t,n,r);let s=e.children.find((e=>Yt(e)&&"!doctype"===e.name));s?s.data=null!=i?i:null:(s=new $t("!doctype",i),vc.appendChild(e,s)),s["x-name"]=t,s["x-publicId"]=n,s["x-systemId"]=r},setDocumentMode(e,t){e["x-mode"]=t},getDocumentMode:e=>e["x-mode"],detachNode(e){if(e.parent){const t=e.parent.children.indexOf(e),{prev:n,next:r}=e;e.prev=null,e.next=null,n&&(n.next=r),r&&(r.prev=n),e.parent.children.splice(t,1),e.parent=null}},insertText(e,t){const n=e.children[e.children.length-1];n&&Qt(n)?n.data+=t:vc.appendChild(e,vc.createTextNode(t))},insertTextBefore(e,t,n){const r=e.children[e.children.indexOf(n)-1];r&&Qt(r)?r.data+=t:vc.insertBefore(e,vc.createTextNode(t),n)},adoptAttributes(e,t){for(let n=0;n<t.length;n++){const r=t[n].name;void 0===e.attribs[r]&&(e.attribs[r]=t[n].value,e["x-attribsNamespace"][r]=t[n].namespace,e["x-attribsPrefix"][r]=t[n].prefix)}},getFirstChild:e=>e.children[0],getChildNodes:e=>e.children,getParentNode:e=>e.parent,getAttrList:e=>e.attributes,getTagName:e=>e.name,getNamespaceURI:e=>e.namespace,getTextNodeContent:e=>e.data,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName(e){var t;return null!==(t=e["x-name"])&&void 0!==t?t:""},getDocumentTypeNodePublicId(e){var t;return null!==(t=e["x-publicId"])&&void 0!==t?t:""},getDocumentTypeNodeSystemId(e){var t;return null!==(t=e["x-systemId"])&&void 0!==t?t:""},isDocumentTypeNode:e=>Yt(e)&&"!doctype"===e.name,setNodeSourceCodeLocation(e,t){t&&(e.startIndex=t.startOffset,e.endIndex=t.endOffset),e.sourceCodeLocation=t},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){null!=t.endOffset&&(e.endIndex=t.endOffset),e.sourceCodeLocation={...e.sourceCodeLocation,...t}}};function bc(e,t,n,r){const i={scriptingEnabled:"boolean"!=typeof t.scriptingEnabled||t.scriptingEnabled,treeAdapter:vc,sourceCodeLocationInfo:t.sourceCodeLocationInfo};return n?function(e,t){return yo.parse(e,t)}(e,i):function(e,t,n){"string"==typeof e&&(n=t,t=e,e=null);const r=yo.getFragmentParser(e,n);return r.tokenizer.write(t,!0),r.getFragment()}(r,e,i)}const Ec={treeAdapter:vc};var Tc,Sc,Ac,_c;function kc(e){return e===Tc.Space||e===Tc.NewLine||e===Tc.Tab||e===Tc.FormFeed||e===Tc.CarriageReturn}function wc(e){return e===Tc.Slash||e===Tc.Gt||kc(e)}function Oc(e){return e>=Tc.Zero&&e<=Tc.Nine}!function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"}(Tc||(Tc={})),function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.SpecialStartSequence=23]="SpecialStartSequence",e[e.InSpecialTag=24]="InSpecialTag",e[e.BeforeEntity=25]="BeforeEntity",e[e.BeforeNumericEntity=26]="BeforeNumericEntity",e[e.InNamedEntity=27]="InNamedEntity",e[e.InNumericEntity=28]="InNumericEntity",e[e.InHexEntity=29]="InHexEntity"}(Sc||(Sc={})),(_c=Ac||(Ac={}))[_c.NoValue=0]="NoValue",_c[_c.Unquoted=1]="Unquoted",_c[_c.Single=2]="Single",_c[_c.Double=3]="Double";const Ic={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])};class Rc{constructor({xmlMode:e=!1,decodeEntities:t=!0},n){this.cbs=n,this.state=Sc.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Sc.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=e,this.decodeEntities=t,this.entityTrie=e?nn:tn}reset(){this.state=Sc.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Sc.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(e){this.offset+=this.buffer.length,this.buffer=e,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}getIndex(){return this.index}getSectionStart(){return this.sectionStart}stateText(e){e===Tc.Lt||!this.decodeEntities&&this.fastForwardTo(Tc.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=Sc.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&e===Tc.Amp&&(this.state=Sc.BeforeEntity)}stateSpecialStartSequence(e){const t=this.sequenceIndex===this.currentSequence.length;if(t?wc(e):(32|e)===this.currentSequence[this.sequenceIndex]){if(!t)return void this.sequenceIndex++}else this.isSpecial=!1;this.sequenceIndex=0,this.state=Sc.InTagName,this.stateInTagName(e)}stateInSpecialTag(e){if(this.sequenceIndex===this.currentSequence.length){if(e===Tc.Gt||kc(e)){const t=this.index-this.currentSequence.length;if(this.sectionStart<t){const e=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=e}return this.isSpecial=!1,this.sectionStart=t+2,void this.stateInClosingTagName(e)}this.sequenceIndex=0}(32|e)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:0===this.sequenceIndex?this.currentSequence===Ic.TitleEnd?this.decodeEntities&&e===Tc.Amp&&(this.state=Sc.BeforeEntity):this.fastForwardTo(Tc.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=Number(e===Tc.Lt)}stateCDATASequence(e){e===Ic.Cdata[this.sequenceIndex]?++this.sequenceIndex===Ic.Cdata.length&&(this.state=Sc.InCommentLike,this.currentSequence=Ic.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=Sc.InDeclaration,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===e)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Ic.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=Sc.Text):0===this.sequenceIndex?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(e){return this.xmlMode?!wc(e):function(e){return e>=Tc.LowerA&&e<=Tc.LowerZ||e>=Tc.UpperA&&e<=Tc.UpperZ}(e)}startSpecial(e,t){this.isSpecial=!0,this.currentSequence=e,this.sequenceIndex=t,this.state=Sc.SpecialStartSequence}stateBeforeTagName(e){if(e===Tc.ExclamationMark)this.state=Sc.BeforeDeclaration,this.sectionStart=this.index+1;else if(e===Tc.Questionmark)this.state=Sc.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(e)){const t=32|e;this.sectionStart=this.index,this.xmlMode||t!==Ic.TitleEnd[2]?this.state=this.xmlMode||t!==Ic.ScriptEnd[2]?Sc.InTagName:Sc.BeforeSpecialS:this.startSpecial(Ic.TitleEnd,3)}else e===Tc.Slash?this.state=Sc.BeforeClosingTagName:(this.state=Sc.Text,this.stateText(e))}stateInTagName(e){wc(e)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Sc.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateBeforeClosingTagName(e){kc(e)||(e===Tc.Gt?this.state=Sc.Text:(this.state=this.isTagStartChar(e)?Sc.InClosingTagName:Sc.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(e){(e===Tc.Gt||kc(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=Sc.AfterClosingTagName,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){(e===Tc.Gt||this.fastForwardTo(Tc.Gt))&&(this.state=Sc.Text,this.baseState=Sc.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(e){e===Tc.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=Sc.InSpecialTag,this.sequenceIndex=0):this.state=Sc.Text,this.baseState=this.state,this.sectionStart=this.index+1):e===Tc.Slash?this.state=Sc.InSelfClosingTag:kc(e)||(this.state=Sc.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===Tc.Gt?(this.cbs.onselfclosingtag(this.index),this.state=Sc.Text,this.baseState=Sc.Text,this.sectionStart=this.index+1,this.isSpecial=!1):kc(e)||(this.state=Sc.BeforeAttributeName,this.stateBeforeAttributeName(e))}stateInAttributeName(e){(e===Tc.Eq||wc(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Sc.AfterAttributeName,this.stateAfterAttributeName(e))}stateAfterAttributeName(e){e===Tc.Eq?this.state=Sc.BeforeAttributeValue:e===Tc.Slash||e===Tc.Gt?(this.cbs.onattribend(Ac.NoValue,this.index),this.state=Sc.BeforeAttributeName,this.stateBeforeAttributeName(e)):kc(e)||(this.cbs.onattribend(Ac.NoValue,this.index),this.state=Sc.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(e){e===Tc.DoubleQuote?(this.state=Sc.InAttributeValueDq,this.sectionStart=this.index+1):e===Tc.SingleQuote?(this.state=Sc.InAttributeValueSq,this.sectionStart=this.index+1):kc(e)||(this.sectionStart=this.index,this.state=Sc.InAttributeValueNq,this.stateInAttributeValueNoQuotes(e))}handleInAttributeValue(e,t){e===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===Tc.DoubleQuote?Ac.Double:Ac.Single,this.index),this.state=Sc.BeforeAttributeName):this.decodeEntities&&e===Tc.Amp&&(this.baseState=this.state,this.state=Sc.BeforeEntity)}stateInAttributeValueDoubleQuotes(e){this.handleInAttributeValue(e,Tc.DoubleQuote)}stateInAttributeValueSingleQuotes(e){this.handleInAttributeValue(e,Tc.SingleQuote)}stateInAttributeValueNoQuotes(e){kc(e)||e===Tc.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(Ac.Unquoted,this.index),this.state=Sc.BeforeAttributeName,this.stateBeforeAttributeName(e)):this.decodeEntities&&e===Tc.Amp&&(this.baseState=this.state,this.state=Sc.BeforeEntity)}stateBeforeDeclaration(e){e===Tc.OpeningSquareBracket?(this.state=Sc.CDATASequence,this.sequenceIndex=0):this.state=e===Tc.Dash?Sc.BeforeComment:Sc.InDeclaration}stateInDeclaration(e){(e===Tc.Gt||this.fastForwardTo(Tc.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=Sc.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===Tc.Gt||this.fastForwardTo(Tc.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=Sc.Text,this.sectionStart=this.index+1)}stateBeforeComment(e){e===Tc.Dash?(this.state=Sc.InCommentLike,this.currentSequence=Ic.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=Sc.InDeclaration}stateInSpecialComment(e){(e===Tc.Gt||this.fastForwardTo(Tc.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=Sc.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){const t=32|e;t===Ic.ScriptEnd[3]?this.startSpecial(Ic.ScriptEnd,4):t===Ic.StyleEnd[3]?this.startSpecial(Ic.StyleEnd,4):(this.state=Sc.InTagName,this.stateInTagName(e))}stateBeforeEntity(e){this.entityExcess=1,this.entityResult=0,e===Tc.Number?this.state=Sc.BeforeNumericEntity:e===Tc.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=Sc.InNamedEntity,this.stateInNamedEntity(e))}stateInNamedEntity(e){if(this.entityExcess+=1,this.trieIndex=En(this.entityTrie,this.trieCurrent,this.trieIndex+1,e),this.trieIndex<0)return this.emitNamedEntity(),void this.index--;this.trieCurrent=this.entityTrie[this.trieIndex];const t=this.trieCurrent&un.VALUE_LENGTH;if(t){const n=(t>>14)-1;if(this.allowLegacyEntity()||e===Tc.Semi){const e=this.index-this.entityExcess+1;e>this.sectionStart&&this.emitPartial(this.sectionStart,e),this.entityResult=this.trieIndex,this.trieIndex+=n,this.entityExcess=0,this.sectionStart=this.index+1,0===n&&this.emitNamedEntity()}else this.trieIndex+=n}}emitNamedEntity(){if(this.state=this.baseState,0===this.entityResult)return;switch((this.entityTrie[this.entityResult]&un.VALUE_LENGTH)>>14){case 1:this.emitCodePoint(this.entityTrie[this.entityResult]&~un.VALUE_LENGTH);break;case 2:this.emitCodePoint(this.entityTrie[this.entityResult+1]);break;case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}stateBeforeNumericEntity(e){(32|e)===Tc.LowerX?(this.entityExcess++,this.state=Sc.InHexEntity):(this.state=Sc.InNumericEntity,this.stateInNumericEntity(e))}emitNumericEntity(e){const t=this.index-this.entityExcess-1;t+2+Number(this.state===Sc.InHexEntity)!==this.index&&(t>this.sectionStart&&this.emitPartial(this.sectionStart,t),this.sectionStart=this.index+Number(e),this.emitCodePoint(on(this.entityResult))),this.state=this.baseState}stateInNumericEntity(e){e===Tc.Semi?this.emitNumericEntity(!0):Oc(e)?(this.entityResult=10*this.entityResult+(e-Tc.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)}stateInHexEntity(e){e===Tc.Semi?this.emitNumericEntity(!0):Oc(e)?(this.entityResult=16*this.entityResult+(e-Tc.Zero),this.entityExcess++):!function(e){return e>=Tc.UpperA&&e<=Tc.UpperF||e>=Tc.LowerA&&e<=Tc.LowerF}(e)?(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--):(this.entityResult=16*this.entityResult+((32|e)-Tc.LowerA+10),this.entityExcess++)}allowLegacyEntity(){return!this.xmlMode&&(this.baseState===Sc.Text||this.baseState===Sc.InSpecialTag)}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===Sc.Text||this.state===Sc.InSpecialTag&&0===this.sequenceIndex?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):this.state!==Sc.InAttributeValueDq&&this.state!==Sc.InAttributeValueSq&&this.state!==Sc.InAttributeValueNq||(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const e=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case Sc.Text:this.stateText(e);break;case Sc.SpecialStartSequence:this.stateSpecialStartSequence(e);break;case Sc.InSpecialTag:this.stateInSpecialTag(e);break;case Sc.CDATASequence:this.stateCDATASequence(e);break;case Sc.InAttributeValueDq:this.stateInAttributeValueDoubleQuotes(e);break;case Sc.InAttributeName:this.stateInAttributeName(e);break;case Sc.InCommentLike:this.stateInCommentLike(e);break;case Sc.InSpecialComment:this.stateInSpecialComment(e);break;case Sc.BeforeAttributeName:this.stateBeforeAttributeName(e);break;case Sc.InTagName:this.stateInTagName(e);break;case Sc.InClosingTagName:this.stateInClosingTagName(e);break;case Sc.BeforeTagName:this.stateBeforeTagName(e);break;case Sc.AfterAttributeName:this.stateAfterAttributeName(e);break;case Sc.InAttributeValueSq:this.stateInAttributeValueSingleQuotes(e);break;case Sc.BeforeAttributeValue:this.stateBeforeAttributeValue(e);break;case Sc.BeforeClosingTagName:this.stateBeforeClosingTagName(e);break;case Sc.AfterClosingTagName:this.stateAfterClosingTagName(e);break;case Sc.BeforeSpecialS:this.stateBeforeSpecialS(e);break;case Sc.InAttributeValueNq:this.stateInAttributeValueNoQuotes(e);break;case Sc.InSelfClosingTag:this.stateInSelfClosingTag(e);break;case Sc.InDeclaration:this.stateInDeclaration(e);break;case Sc.BeforeDeclaration:this.stateBeforeDeclaration(e);break;case Sc.BeforeComment:this.stateBeforeComment(e);break;case Sc.InProcessingInstruction:this.stateInProcessingInstruction(e);break;case Sc.InNamedEntity:this.stateInNamedEntity(e);break;case Sc.BeforeEntity:this.stateBeforeEntity(e);break;case Sc.InHexEntity:this.stateInHexEntity(e);break;case Sc.InNumericEntity:this.stateInNumericEntity(e);break;default:this.stateBeforeNumericEntity(e)}this.index++}this.cleanup()}finish(){this.state===Sc.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length+this.offset;this.state===Sc.InCommentLike?this.currentSequence===Ic.CdataEnd?this.cbs.oncdata(this.sectionStart,e,0):this.cbs.oncomment(this.sectionStart,e,0):this.state===Sc.InNumericEntity&&this.allowLegacyEntity()||this.state===Sc.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===Sc.InTagName||this.state===Sc.BeforeAttributeName||this.state===Sc.BeforeAttributeValue||this.state===Sc.AfterAttributeName||this.state===Sc.InAttributeName||this.state===Sc.InAttributeValueSq||this.state===Sc.InAttributeValueDq||this.state===Sc.InAttributeValueNq||this.state===Sc.InClosingTagName||this.cbs.ontext(this.sectionStart,e)}emitPartial(e,t){this.baseState!==Sc.Text&&this.baseState!==Sc.InSpecialTag?this.cbs.onattribdata(e,t):this.cbs.ontext(e,t)}emitCodePoint(e){this.baseState!==Sc.Text&&this.baseState!==Sc.InSpecialTag?this.cbs.onattribentity(e):this.cbs.ontextentity(e)}}const Cc=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Pc=new Set(["p"]),Nc=new Set(["thead","tbody"]),xc=new Set(["dd","dt"]),Dc=new Set(["rt","rp"]),Lc=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Pc],["h1",Pc],["h2",Pc],["h3",Pc],["h4",Pc],["h5",Pc],["h6",Pc],["select",Cc],["input",Cc],["output",Cc],["button",Cc],["datalist",Cc],["textarea",Cc],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",xc],["dt",xc],["address",Pc],["article",Pc],["aside",Pc],["blockquote",Pc],["details",Pc],["div",Pc],["dl",Pc],["fieldset",Pc],["figcaption",Pc],["figure",Pc],["footer",Pc],["form",Pc],["header",Pc],["hr",Pc],["main",Pc],["nav",Pc],["ol",Pc],["pre",Pc],["section",Pc],["table",Pc],["ul",Pc],["rt",Dc],["rp",Dc],["tbody",Nc],["tfoot",Nc]]),Mc=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),Fc=new Set(["math","svg"]),jc=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),$c=/\s|\//;class Bc{constructor(e,t={}){var n,r,i,s,a;this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=null!=e?e:{},this.lowerCaseTagNames=null!==(n=t.lowerCaseTags)&&void 0!==n?n:!t.xmlMode,this.lowerCaseAttributeNames=null!==(r=t.lowerCaseAttributeNames)&&void 0!==r?r:!t.xmlMode,this.tokenizer=new(null!==(i=t.Tokenizer)&&void 0!==i?i:Rc)(this.options,this),null===(a=(s=this.cbs).onparserinit)||void 0===a||a.call(s,this)}ontext(e,t){var n,r;const i=this.getSlice(e,t);this.endIndex=t-1,null===(r=(n=this.cbs).ontext)||void 0===r||r.call(n,i),this.startIndex=t}ontextentity(e){var t,n;const r=this.tokenizer.getSectionStart();this.endIndex=r-1,null===(n=(t=this.cbs).ontext)||void 0===n||n.call(t,an(e)),this.startIndex=r}isVoidElement(e){return!this.options.xmlMode&&Mc.has(e)}onopentagname(e,t){this.endIndex=t;let n=this.getSlice(e,t);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)}emitOpenTag(e){var t,n,r,i;this.openTagStart=this.startIndex,this.tagname=e;const s=!this.options.xmlMode&&Lc.get(e);if(s)for(;this.stack.length>0&&s.has(this.stack[this.stack.length-1]);){const e=this.stack.pop();null===(n=(t=this.cbs).onclosetag)||void 0===n||n.call(t,e,!0)}this.isVoidElement(e)||(this.stack.push(e),Fc.has(e)?this.foreignContext.push(!0):jc.has(e)&&this.foreignContext.push(!1)),null===(i=(r=this.cbs).onopentagname)||void 0===i||i.call(r,e),this.cbs.onopentag&&(this.attribs={})}endOpenTag(e){var t,n;this.startIndex=this.openTagStart,this.attribs&&(null===(n=(t=this.cbs).onopentag)||void 0===n||n.call(t,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1}onclosetag(e,t){var n,r,i,s,a,o;this.endIndex=t;let c=this.getSlice(e,t);if(this.lowerCaseTagNames&&(c=c.toLowerCase()),(Fc.has(c)||jc.has(c))&&this.foreignContext.pop(),this.isVoidElement(c))this.options.xmlMode||"br"!==c||(null===(r=(n=this.cbs).onopentagname)||void 0===r||r.call(n,"br"),null===(s=(i=this.cbs).onopentag)||void 0===s||s.call(i,"br",{},!0),null===(o=(a=this.cbs).onclosetag)||void 0===o||o.call(a,"br",!1));else{const e=this.stack.lastIndexOf(c);if(-1!==e)if(this.cbs.onclosetag){let t=this.stack.length-e;for(;t--;)this.cbs.onclosetag(this.stack.pop(),0!==t)}else this.stack.length=e;else this.options.xmlMode||"p"!==c||(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1}onselfclosingtag(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)}closeCurrentTag(e){var t,n;const r=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===r&&(null===(n=(t=this.cbs).onclosetag)||void 0===n||n.call(t,r,!e),this.stack.pop())}onattribname(e,t){this.startIndex=e;const n=this.getSlice(e,t);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n}onattribdata(e,t){this.attribvalue+=this.getSlice(e,t)}onattribentity(e){this.attribvalue+=an(e)}onattribend(e,t){var n,r;this.endIndex=t,null===(r=(n=this.cbs).onattribute)||void 0===r||r.call(n,this.attribname,this.attribvalue,e===Ac.Double?'"':e===Ac.Single?"'":e===Ac.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(e){const t=e.search($c);let n=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n}ondeclaration(e,t){this.endIndex=t;const n=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){const e=this.getInstructionName(n);this.cbs.onprocessinginstruction(`!${e}`,`!${n}`)}this.startIndex=t+1}onprocessinginstruction(e,t){this.endIndex=t;const n=this.getSlice(e,t);if(this.cbs.onprocessinginstruction){const e=this.getInstructionName(n);this.cbs.onprocessinginstruction(`?${e}`,`?${n}`)}this.startIndex=t+1}oncomment(e,t,n){var r,i,s,a;this.endIndex=t,null===(i=(r=this.cbs).oncomment)||void 0===i||i.call(r,this.getSlice(e,t-n)),null===(a=(s=this.cbs).oncommentend)||void 0===a||a.call(s),this.startIndex=t+1}oncdata(e,t,n){var r,i,s,a,o,c,l,u,h,d;this.endIndex=t;const f=this.getSlice(e,t-n);this.options.xmlMode||this.options.recognizeCDATA?(null===(i=(r=this.cbs).oncdatastart)||void 0===i||i.call(r),null===(a=(s=this.cbs).ontext)||void 0===a||a.call(s,f),null===(c=(o=this.cbs).oncdataend)||void 0===c||c.call(o)):(null===(u=(l=this.cbs).oncomment)||void 0===u||u.call(l,`[CDATA[${f}]]`),null===(d=(h=this.cbs).oncommentend)||void 0===d||d.call(h)),this.startIndex=t+1}onend(){var e,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let e=this.stack.length;e>0;this.cbs.onclosetag(this.stack[--e],!0));}null===(t=(e=this.cbs).onend)||void 0===t||t.call(e)}reset(){var e,t,n,r;null===(t=(e=this.cbs).onreset)||void 0===t||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,null===(r=(n=this.cbs).onparserinit)||void 0===r||r.call(n,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(e){this.reset(),this.end(e)}getSlice(e,t){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let n=this.buffers[0].slice(e-this.bufferOffset,t-this.bufferOffset);for(;t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,t-this.bufferOffset);return n}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(e){var t,n;this.ended?null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,new Error(".write() after done!")):(this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++))}end(e){var t,n;this.ended?null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,new Error(".end() after done!")):(e&&this.write(e),this.ended=!0,this.tokenizer.end())}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(e){this.write(e)}done(e){this.end(e)}}const Uc=(Hc=(e,t,n,r)=>t.xmlMode||t._useHtmlParser2?function(e,t){const n=new en(void 0,t);return new Bc(n,t).end(e),n.root}(e,t):bc(e,t,n,r),function(e,t,n,r){if("undefined"!=typeof Buffer&&Buffer.isBuffer(e)&&(e=e.toString()),"string"==typeof e)return Hc(e,t,n,r);const i=e;if(!Array.isArray(i)&&zt(i))return i;const s=new Ht([]);return As(i,s),s});var Hc;const qc=(Gc=Uc,Wc=(e,t)=>t.xmlMode||t._useHtmlParser2?xn(e,t):function(e){const t="length"in e?e:[e];for(let r=0;r<t.length;r+=1){const e=t[r];zt(e)&&Array.prototype.splice.call(t,r,1,...e.children)}let n="";for(let r=0;r<t.length;r+=1)n+=mc(t[r],Ec);return n}(e),function e(t,n,r=!0){if(null==t)throw new Error("cheerio.load() expects a string");const i={...Tt,...At(n)},s=Gc(t,i,r,null);class a extends $s{_make(e,t){const n=o(e,t);return n.prevObject=this,n}_parse(e,t,n,r){return Gc(e,t,n,r)}_render(e){return Wc(e,this.options)}}function o(e,t,n=s,r){if(e&&yr(e))return e;const o={...i,...At(r)},c="string"==typeof n?[Gc(n,o,!1,null)]:"length"in n?n:[n],l=yr(c)?c:new a(c,null,o);if(l._root=l,!e)return new a(void 0,l,o);const u="string"==typeof e&&Sr(e)?Gc(e,o,!1,null).children:(h=e).name||"root"===h.type||"text"===h.type||"comment"===h.type?[e]:Array.isArray(e)?e:void 0;var h;const d=new a(u,l,o);if(u)return d;if("string"!=typeof e)throw new Error("Unexpected type of selector");let f=e;const p=t?"string"==typeof t?Sr(t)?new a([Gc(t,o,!1,null)],l,o):(f=`${t} ${f}`,l):yr(t)?t:new a(Array.isArray(t)?t:[t],l,o):l;return p?p.find(f):d}return Object.assign(o,gr,{load:e,_root:s,_options:i,fn:a.prototype,prototype:a.prototype}),o});var Gc,Wc;qc([]);const Qc=e=>{let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n);return Math.abs(t%1e10)},Vc=(e,t={})=>{if("undefined"==typeof document||!e)return!1;const{async:n=!1,reload:r=!1,callback:i}=t,s=document.querySelector(`script[src="${e}"]`);if(s){if(!r)return i&&i(null,s),!1;s.remove()}return new Promise(((t,r)=>{const s=document.createElement("script");s.src=e,n&&(s.async=!0),s.onload=()=>{t(s),i&&i(null,s)},s.onerror=e=>{r(e),i&&i(e)},document.head.appendChild(s)}))},Yc=(e,t={})=>{if("undefined"==typeof document||!e)return!1;const{reload:n=!1,callback:r}=t,i=document.querySelector(`link[href="${e}"]`);if(i){if(!n)return r&&r(null,i),!1;i.remove()}return new Promise(((t,n)=>{const i=document.createElement("link");i.href=e,i.rel="stylesheet",i.type="text/css",i.onload=()=>{t(i),r&&r(null,i)},i.onerror=e=>{n(e),r&&r(e)},document.head.appendChild(i)}))},zc=(e,t,n=!1)=>{try{if(!t.jumpRedirect.enable)return e;const r="/redirect",i=t.jumpRedirect.exclude;if(!n){const t=qc(e);return t("a[target='_blank']").each(((e,n)=>{const s=t(n),a=s.attr("href"),o=s.attr("class"),c=s.text(),l=o?o.trim().split(" "):[];if(!i.some((e=>l.includes(e)))&&a&&!a.includes(r)){const e=Buffer.from(a,"utf-8").toString("base64"),t=n.attribs;let i="";for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i+=` ${n}="${t[n]}"`);const o=`<a href="${r}?url=${e}" original-href="${a}" ${i}>${c}</a>`;s.replaceWith(o)}})),t.html()}{if("undefined"==typeof window||"undefined"==typeof document)return!1;const e=[...document.getElementsByTagName("a")];if(0===(null==e?void 0:e.length))return!1;e.forEach((e=>{if("_blank"===e.getAttribute("target")){if(i.some((t=>e.classList.contains(t))))return!1;const t=e.getAttribute("href");if(t&&!t.includes(r)){const n=btoa(t),i=`${r}?url=${n}`;e.setAttribute("original-href",t),e.setAttribute("href",i)}}}))}}catch(r){console.error("å¤„ç†é“¾æ¥æ—¶å‡ºé”™ï¼š",r)}},Kc={class:"site-data s-card"},Xc={class:"all-data"},Jc={class:"data-item"},Zc={class:"num"},el={class:"data-item"},tl={class:"num"},nl=n({__name:"SiteData",setup(e){const{theme:t}=R();return i((()=>{Vc("https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",{async:!0,reload:!0})})),(e,n)=>{var r;return a(),o("div",Kc,[n[3]||(n[3]=h("div",{class:"title"},[h("i",{class:"iconfont icon-chart"}),h("span",{class:"title-name"},"ç«™ç‚¹æ•°æ®")],-1)),h("div",Xc,[h("div",Jc,[n[0]||(n[0]=h("span",{class:"name"},[h("i",{class:"iconfont icon-article"}),L(" æ–‡ç« æ€»æ•° ")],-1)),h("span",Zc,C((null==(r=c(t).postData)?void 0:r.length)||0)+" ç¯‡",1)]),h("div",el,[n[1]||(n[1]=h("span",{class:"name"},[h("i",{class:"iconfont icon-date"}),L(" å»ºç«™å¤©æ•° ")],-1)),h("span",tl,C(c(pt)(c(t).since))+" å¤©",1)]),n[2]||(n[2]=M('<div class="data-item" data-v-e96a89d8><span class="name" data-v-e96a89d8><i class="iconfont icon-visibility" data-v-e96a89d8></i> æ€»è®¿é—®é‡ </span><span class="num" id="busuanzi_value_site_pv" data-v-e96a89d8>0</span></div><div class="data-item" data-v-e96a89d8><span class="name" data-v-e96a89d8><i class="iconfont icon-account" data-v-e96a89d8></i> æ€»è®¿å®¢æ•° </span><span class="num" id="busuanzi_value_site_uv" data-v-e96a89d8>0</span></div>',2))])])}}},[["__scopeId","data-v-e96a89d8"]]),rl={class:"tags-cloud s-card"},il={class:"all-tags"},sl=["href"],al={class:"name"},ol={class:"num"},cl=n({__name:"Tags",setup(e){const{theme:t}=R();return(e,n)=>(a(),o("div",rl,[n[0]||(n[0]=h("div",{class:"title"},[h("i",{class:"iconfont icon-hashtag"}),h("span",{class:"title-name"},"çƒ­é—¨æ ‡ç­¾")],-1)),h("div",il,[(a(!0),o(f,null,F(c(t).tagsData,((e,t,n)=>(a(),o("a",{key:n,href:`/pages/tags/${t}`,class:"tags"},[h("span",al,C(t),1),h("sup",ol,C(e.count),1)],8,sl)))),128))]),n[1]||(n[1]=h("a",{href:"/pages/tags",class:"more-tags"},"æŸ¥çœ‹å…¨éƒ¨",-1))]))}},[["__scopeId","data-v-11f43d38"]]);var ll={exports:{}};ll.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",s="minute",a="hour",o="day",c="week",l="month",u="quarter",h="year",d="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},y=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},v={s:y,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+y(r,2,"0")+":"+y(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,l),s=n-i<0,a=t.clone().add(r+(s?-1:1),l);return+(-(r+(n-i)/(s?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:h,w:c,d:o,D:d,h:a,m:s,s:i,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",E={};E[b]=g;var T="$isDayjsObject",S=function(e){return e instanceof w||!(!e||!e[T])},A=function e(t,n,r){var i;if(!t)return b;if("string"==typeof t){var s=t.toLowerCase();E[s]&&(i=s),n&&(E[s]=n,i=s);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var o=t.name;E[o]=t,i=o}return!r&&i&&(b=i),i||!r&&b},_=function(e,t){if(S(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new w(n)},k=v;k.l=A,k.i=S,k.w=function(e,t){return _(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var w=function(){function g(e){this.$L=A(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[T]=!0}var y=g.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(k.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(t)}(e),this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return k},y.isValid=function(){return!(this.$d.toString()===f)},y.isSame=function(e,t){var n=_(e);return this.startOf(t)<=n&&n<=this.endOf(t)},y.isAfter=function(e,t){return _(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<_(e)},y.$g=function(e,t,n){return k.u(e)?this[t]:this.set(n,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var n=this,r=!!k.u(t)||t,u=k.p(e),f=function(e,t){var i=k.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(o)},p=function(e,t){return k.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,y=this.$D,v="set"+(this.$u?"UTC":"");switch(u){case h:return r?f(1,0):f(31,11);case l:return r?f(1,g):f(0,g+1);case c:var b=this.$locale().weekStart||0,E=(m<b?m+7:m)-b;return f(r?y-E:y+(6-E),g);case o:case d:return p(v+"Hours",0);case a:return p(v+"Minutes",1);case s:return p(v+"Seconds",2);case i:return p(v+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var n,c=k.p(e),u="set"+(this.$u?"UTC":""),f=(n={},n[o]=u+"Date",n[d]=u+"Date",n[l]=u+"Month",n[h]=u+"FullYear",n[a]=u+"Hours",n[s]=u+"Minutes",n[i]=u+"Seconds",n[r]=u+"Milliseconds",n)[c],p=c===o?this.$D+(t-this.$W):t;if(c===l||c===h){var m=this.clone().set(d,1);m.$d[f](p),m.init(),this.$d=m.set(d,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[k.p(e)]()},y.add=function(r,u){var d,f=this;r=Number(r);var p=k.p(u),m=function(e){var t=_(f);return k.w(t.date(t.date()+Math.round(e*r)),f)};if(p===l)return this.set(l,this.$M+r);if(p===h)return this.set(h,this.$y+r);if(p===o)return m(1);if(p===c)return m(7);var g=(d={},d[s]=t,d[a]=n,d[i]=e,d)[p]||1,y=this.$d.getTime()+r*g;return k.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=k.z(this),s=this.$H,a=this.$m,o=this.$M,c=n.weekdays,l=n.months,u=n.meridiem,h=function(e,n,i,s){return e&&(e[n]||e(t,r))||i[n].slice(0,s)},d=function(e){return k.s(s%12||12,e,"0")},p=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(m,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return k.s(t.$y,4,"0");case"M":return o+1;case"MM":return k.s(o+1,2,"0");case"MMM":return h(n.monthsShort,o,l,3);case"MMMM":return h(l,o);case"D":return t.$D;case"DD":return k.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(n.weekdaysMin,t.$W,c,2);case"ddd":return h(n.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(s);case"HH":return k.s(s,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return p(s,a,!0);case"A":return p(s,a,!1);case"m":return String(a);case"mm":return k.s(a,2,"0");case"s":return String(t.$s);case"ss":return k.s(t.$s,2,"0");case"SSS":return k.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,d,f){var p,m=this,g=k.p(d),y=_(r),v=(y.utcOffset()-this.utcOffset())*t,b=this-y,E=function(){return k.m(m,y)};switch(g){case h:p=E()/12;break;case l:p=E();break;case u:p=E()/3;break;case c:p=(b-v)/6048e5;break;case o:p=(b-v)/864e5;break;case a:p=b/n;break;case s:p=b/t;break;case i:p=b/e;break;default:p=b}return f?p:k.a(p)},y.daysInMonth=function(){return this.endOf(l).$D},y.$locale=function(){return E[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=A(e,t,!0);return r&&(n.$L=r),n},y.clone=function(){return k.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},g}(),O=w.prototype;return _.prototype=O,[["$ms",r],["$s",i],["$m",s],["$H",a],["$W",o],["$M",l],["$y",h],["$D",d]].forEach((function(e){O[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),_.extend=function(e,t){return e.$i||(e(t,w,_),e.$i=!0),_},_.locale=A,_.isDayjs=S,_.unix=function(e){return _(1e3*e)},_.en=E[b],_.Ls=E,_.p={},_}();const ul=ti(ll.exports),hl=()=>{const e=ul(),t={day:"ä»Šæ—¥",week:"æœ¬å‘¨",month:"æœ¬æœˆ",year:"æœ¬å¹´"},n=n=>{const r=e.startOf(n),i=e.endOf(n).diff(r,"day"===n?"hour":"day")+1;let s;s="week"===n&&0===e.day()?i-1:e.diff(r,"day"===n?"hour":"day");return{name:t[n],total:i,passed:s,remaining:i-s,percentage:(s/i*100).toFixed(2)}};return{day:n("day"),week:n("week"),month:n("month"),year:n("year")}},dl=e=>{const t=ul();return ul(e).diff(t,"day")},fl={class:"count-down s-card"},pl={class:"count-left"},ml={class:"name"},gl={class:"time"},yl={class:"date"},vl={key:0,class:"count-right"},bl={class:"item-name"},El={class:"item-progress"},Tl={class:"tip"},Sl=n({__name:"Countdown",setup(e){const{theme:t}=R(),n=r(null),u=r(null);return i((()=>{n.value=hl(),u.value=setInterval((()=>{n.value=hl()}),1e3)})),s((()=>{clearInterval(u.value)})),(e,r)=>(a(),o("div",fl,[h("div",pl,[r[0]||(r[0]=h("span",{class:"text"}," è·ç¦» ",-1)),h("span",ml,C(c(t).aside.countDown.data.name),1),h("span",gl,C(c(dl)(c(t).aside.countDown.data.date)),1),h("span",yl,C(c(t).aside.countDown.data.date),1)]),c(n)?(a(),o("div",vl,[(a(!0),o(f,null,F(c(n),((e,t,n)=>(a(),o("div",{key:n,class:"count-item"},[h("div",bl,C(e.name),1),h("div",El,[h("div",{class:"progress-bar",style:l({width:e.percentage+"%",opacity:e.percentage/100})},null,4),h("span",{class:D(["percentage",{many:e.percentage>=46}])},C(e.percentage)+"% ",3),h("span",{class:D(["remaining",{many:e.percentage>=60}])},[r[1]||(r[1]=h("span",{class:"tip"},"è¿˜å‰©",-1)),L(" "+C(e.remaining)+" ",1),h("span",Tl,C("day"===t?"å°æ—¶":"å¤©"),1)],2)])])))),128))])):d("",!0)]))}},[["__scopeId","data-v-67653553"]]),Al={class:"weather-data s-card"},_l={class:"all-data"},kl={class:"data-item"},wl={class:"num"},Ol={class:"data-item"},Il={class:"num"},Rl={class:"data-item"},Cl={class:"num"},Pl={class:"data-item"},Nl={class:"num"},xl={class:"data-item"},Dl={class:"num"},Ll={__name:"Weather",setup(e){const t=r(null),n=/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);return i((async()=>{if(!n)try{const{adcode:e}=await(async e=>{const t=await fetch(`https://restapi.amap.com/v3/ip?key=${e}`);return await t.json()})("687a48b18d29c4bd8832272520d5665b"),{lives:n}=await(async(e,t)=>{const n=await fetch(`https://restapi.amap.com/v3/weather/weatherInfo?key=${e}&city=${t}`);return await n.json()})("687a48b18d29c4bd8832272520d5665b",e);t.value=n[0]}catch(YR){console.error("è·å–å¤©æ°”å¤±è´¥ï¼š",YR),$message.error("è·å–å¤©æ°”å¤±è´¥ï¼Œå¯èƒ½æ˜¯å¤©æ°”APIè¶…å‡ºä½¿ç”¨ä¸Šé™")}})),(e,n)=>{var r,i,s,l,u;return a(),o("div",Al,[n[5]||(n[5]=h("div",{class:"title"},[h("i",{class:"iconfont icon-chart"}),h("span",{class:"title-name"},"å¤©æ°”æ•°æ®")],-1)),h("div",_l,[h("div",kl,[n[0]||(n[0]=h("span",{class:"name"},[h("i",{class:"iconfont icon-home"}),L(" åŸå¸‚")],-1)),h("span",wl,C((null==(r=c(t))?void 0:r.city)||"--"),1)]),h("div",Ol,[n[1]||(n[1]=h("span",{class:"name"},[h("i",{class:"iconfont icon-fire"}),L(" æ¸©åº¦")],-1)),h("span",Il,C(null!=(null==(i=c(t))?void 0:i.temperature)?c(t).temperature+"â„ƒ":"--"),1)]),h("div",Rl,[n[2]||(n[2]=h("span",{class:"name"},[h("i",{class:"iconfont icon-visibility"}),L(" æ¹¿åº¦")],-1)),h("span",Cl,C(null!=(null==(s=c(t))?void 0:s.humidity)?c(t).humidity+"%":"--"),1)]),h("div",Pl,[n[3]||(n[3]=h("span",{class:"name"},[h("i",{class:"iconfont icon-arrow-right"}),L(" é£å‘")],-1)),h("span",Nl,C((null==(l=c(t))?void 0:l.winddirection)||"--"),1)]),h("div",xl,[n[4]||(n[4]=h("span",{class:"name"},[h("i",{class:"iconfont icon-refresh"}),L(" é£åŠ›")],-1)),h("span",Dl,C((null==(u=c(t))?void 0:u.windpower)||"--"),1)])])])}}},Ml=n(Ll,[["__scopeId","data-v-f172c1ad"]]),Fl={key:0,class:"toc s-card"},jl=["id","onClick"],$l=n({__name:"Toc",setup(e){const t=j(),n=Ie(),u=r(null),p=r(null),m=r(null),g=r(0),v=()=>{try{if(p.value=document.getElementById("page-content"),!p.value)return!1;return Array.from(p.value.querySelectorAll("h2, h3")).filter((e=>"div"===e.parentElement.tagName.toLowerCase()))}catch(e){console.error("è·å–æ‰€æœ‰ç›®å½•æ•°æ®å‡ºé”™ï¼š",e)}},b=()=>{const e=v();if(!e)return!1;const t=[];e.forEach((e=>{var n;const r={id:e.id,type:e.tagName,text:null==(n=e.textContent)?void 0:n.replace(/\u200B/g,"").trim()};t.push(r)})),u.value=t},E=ut((()=>{if(!u.value)return!1;const e=v();if(!e)return!1;for(let t of e){const e=t.getBoundingClientRect();e.top-120<=0&&e.bottom+120>=0&&(m.value=t.id)}}),100,{leading:!0,trailing:!1});return y((()=>n.scrollData.percentage),(e=>{var t;if(0===e&&u.value){const e=v();if(!e)return!1;g.value=0,m.value=null==(t=e[0])?void 0:t.id}})),y((()=>m.value),(e=>{const t=document.getElementById("toc-all"),n=document.getElementById("toc-"+e);if(!t||!n)return!1;g.value=(null==n?void 0:n.offsetTop)-2||0,null==t||t.scrollTo({top:g.value-80,behavior:"smooth"})})),y((()=>t.path),(()=>b())),i((()=>{b(),window.addEventListener("scroll",E)})),s((()=>{window.removeEventListener("scroll",E)})),(e,t)=>{var n;return c(u)&&(null==(n=c(u))?void 0:n.length)?(a(),o("div",Fl,[t[0]||(t[0]=h("div",{class:"toc-title"},[h("i",{class:"iconfont icon-toc"}),h("span",{class:"name"},"ç›®å½•")],-1)),h("div",{id:"toc-all",class:"toc-list",style:l({"--height":c(g)+"px"})},[(a(!0),o(f,null,F(c(u),((e,t)=>(a(),o("span",{key:t,id:"toc-"+e.id,class:D(["toc-item",e.type,{active:e.id===c(m)||0===t&&!c(m)}]),onClick:t=>(e=>{try{const t=document.getElementById(e);if(!t||!p.value)return!1;const n=t.offsetTop+p.value.offsetTop-80;window.scroll({top:n,behavior:"smooth"})}catch(t){console.error("ç›®å½•æ»šåŠ¨å¤±è´¥ï¼š",t)}})(e.id)},C(e.text),11,jl)))),128))],4)])):d("",!0)}}},[["__scopeId","data-v-76216ee2"]]),Bl={class:"clock"},Ul={class:"clock-content"},Hl=n({__name:"Clock",setup(e){const t=r(315),n=r(45),u=r(180),d=r(null);return i((()=>{(()=>{const e=(e,t)=>e/t*360,r=()=>{const r=new Date,i=r.getHours()%12,s=r.getMinutes(),a=r.getSeconds();t.value=e(i,12),n.value=e(s,60),u.value=e(a,60)};r(),d.value=setInterval(r,1e3)})()})),s((()=>{clearInterval(d.value)})),(e,r)=>(a(),o("div",Bl,[h("div",Ul,[h("div",{style:l({transform:` rotate(${c(t)}deg)`}),class:"pointer hour"},null,4),h("div",{style:l({transform:` rotate(${c(n)}deg)`}),class:"pointer minute"},null,4),h("div",{style:l({transform:` rotate(${c(u)}deg)`}),class:"pointer second"},null,4)])]))}},[["__scopeId","data-v-b20e4d9c"]]),ql={class:"content"},Gl={class:"site-logo"},Wl=["innerHTML"],Ql={class:"info"},Vl={class:"name"},Yl={class:"author"},zl={class:"desc"},Kl=n({__name:"Hello",setup(e){const{site:t,theme:n}=R(),l=r(0),u=r(null),d=r(Et()),f=()=>{if(l.value=0,m())return!1;d.value=Et()},p=()=>{clearTimeout(u.value),l.value++,1===l.value?d.value="ç‚¹è¿™é‡Œå¹²ä»€ä¹ˆï¼Ÿ":2===l.value?d.value="æ€ä¹ˆè¿˜ç‚¹ï¼Ÿ":3===l.value?d.value="é‚£ä½ ç‚¹å§ï¼":100===l.value?d.value="æ€ä¹ˆè¿˜åœ¨ç‚¹ï¼Ÿï¼Ÿï¼Ÿ":d.value="x "+(l.value-3),u.value=setTimeout((()=>{f()}),3e3)},m=()=>{const e=localStorage.getItem("ArtalkUser");if(!e)return!1;const{nick:t}=JSON.parse(e),n=["å¾ˆé«˜å…´è§åˆ°ä½ ","å¥½ä¹…ä¸è§","æ¬¢è¿å›æ¥"];return d.value=n[Math.floor(Math.random()*n.length)]+"ï¼Œ"+t,!0};return i((()=>{m()})),s((()=>{clearTimeout(u.value)})),(e,t)=>{const r=Hl;return a(),o("div",{class:"hello s-card",onMouseleave:f},[h("span",{class:"tip",onClick:p},C(c(d)),1),h("div",ql,[h("div",Gl,[P(r)]),h("span",{class:"site-desc",innerHTML:c(n).aside.hello.text},null,8,Wl)]),h("div",Ql,[h("div",Vl,[h("span",Yl,C(c(n).siteMeta.author.name),1),h("span",zl,C(c(n).siteMeta.description),1)]),t[0]||(t[0]=M('<div class="link" data-v-9fadf154><a href="https://github.com/Stomatra/" target="_blank" class="social-link" data-v-9fadf154><i class="iconfont icon-github" data-v-9fadf154></i></a><a href="mailto:rinyuki@rinyuki.com" target="_blank" class="social-link" data-v-9fadf154><i class="iconfont icon-email" data-v-9fadf154></i></a></div>',1))])],32)}}},[["__scopeId","data-v-9fadf154"]]),Xl={class:"main-aside"},Jl={class:"sticky"},Zl=n({__name:"index",props:{showToc:{type:Boolean,default:!1}},setup(e){const{theme:t}=R();return(n,r)=>{const i=Kl,s=$l,l=Ml,u=Sl,f=cl,p=nl;return a(),o("aside",Xl,[c(t).aside.hello.enable?(a(),$(i,{key:0,class:"weidgets"})):d("",!0),h("div",Jl,[c(t).aside.toc.enable&&e.showToc?(a(),$(s,{key:0,class:"weidgets"})):d("",!0),c(t).aside.weather.enable?(a(),$(l,{key:1,class:"weidgets"})):d("",!0),P(u,{class:"weidgets"}),c(t).aside.tags.enable?(a(),$(f,{key:2,class:"weidgets"})):d("",!0),c(t).aside.siteData.enable?(a(),$(p,{key:3,class:"weidgets"})):d("",!0)])])}}},[["__scopeId","data-v-594f3901"]]),eu={key:0,class:"pagination"},tu={class:"page-number"},nu=["onClick"],ru={class:"page-num"},iu=["max"],su=n({__name:"Pagination",props:{total:{type:Number,default:0},page:{type:Number,default:1},limit:{type:Number,default:8},routePath:{type:String,default:""},useParams:{type:Boolean,default:!1}},setup(e){const t=B(),n=e,s=r(null),l=r(!1),u=r(n.page),p=A((()=>Math.ceil(n.total/n.limit))),m=A((()=>{let e=[];const t=u.value,n=p.value;let r=Math.max(t-2,2),i=Math.min(t+2,n-1);e.push(1),r>2?e.push("..."):r=2;for(let s=r;s<=i;s++)e.push(s);return i<n-1?e.push("..."):i===n-1&&(i=n-1),n>1&&e.push(n),e})),g=()=>{const e=Number(s.value);!Number.isInteger(e)||e<1?s.value=null:e>p.value?s.value=p.value:s.value=e},y=(e,r)=>{n.useParams?1===r?t.go(`${n.routePath}`):t.go(`${n.routePath}?page=${r}`):t.go(e)},v=()=>{if(l.value=!1,!s.value)return!1;y(1===s.value?`${n.routePath}`:`${n.routePath}/page/${s.value}`,s.value)};return i((()=>{(()=>{const e=new URLSearchParams(window.location.search).get("page");e&&n.useParams&&(u.value=Number(e))})()})),(t,n)=>e.total>0?(a(),o("div",eu,[c(u)>1?(a(),o("div",{key:0,class:"page-item prev",onClick:n[0]||(n[0]=t=>y(2===c(u)?`${e.routePath}`:`${e.routePath}/page/${c(u)-1}`,2===c(u)?1:c(u)-1))},n[4]||(n[4]=[h("i",{class:"iconfont icon-page-right"},null,-1),h("span",{class:"page-text"},"ä¸Šé¡µ",-1)]))):d("",!0),h("div",tu,[(a(!0),o(f,null,F(c(m),((t,n)=>(a(),o("div",{key:n,class:D(["..."===t?"point":"page-item",{choose:t===c(u)}]),onClick:n=>y(1===t?`${e.routePath}`:`${e.routePath}/page/${t}`,t)},[h("span",ru,C(t),1)],10,nu)))),128)),h("div",{class:D(["fast-jump",{focus:c(l)}]),title:"å¿«é€Ÿè·³è½¬"},[U(h("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>b(s)?s.value=e:null),min:1,max:c(p),onFocus:n[2]||(n[2]=e=>l.value=!0),onBlur:v,onInput:g,onKeydown:q(v,["enter"])},null,40,iu),[[H,c(s),void 0,{number:!0}]]),h("i",{class:D(["iconfont icon-arrow-right",{click:c(s)}]),onClick:G(v,["stop"])},null,2)],2)]),c(u)*e.limit<e.total?(a(),o("div",{key:1,class:"page-item next",onClick:n[3]||(n[3]=t=>y(`${e.routePath}/page/${c(u)+1}`,c(u)+1))},n[5]||(n[5]=[h("span",{class:"page-text"},"ä¸‹é¡µ",-1),h("i",{class:"iconfont icon-page-right"},null,-1)]))):d("",!0)])):d("",!0)}},[["__scopeId","data-v-ff3c878b"]]),au=["onClick"],ou={key:0,class:"post-cover"},cu=["src","alt"],lu={class:"post-content"},uu={key:0,class:"post-category"},hu={key:0,class:"top"},du={class:"post-title"},fu={key:1,class:"post-desc"},pu={key:2,class:"post-meta"},mu={key:0,class:"post-tags"},gu=["onClick"],yu={class:"post-time"},vu=n({__name:"PostList",props:{listData:{type:[Array,String],default:()=>[]},simple:{type:Boolean,default:!1}},setup(e){const t=Ie(),n=B(),{theme:r}=R(),i=A((()=>{var e,t,n,i,s;return(null==(t=null==(e=r.value)?void 0:e.cover)?void 0:t.twoColumns)?"twoColumns":(null==(s=null==(i=null==(n=r.value)?void 0:n.cover)?void 0:i.showCover)?void 0:s.coverLayout)??"left"})),s=A((()=>"twoColumns"===i.value?{"--grid-columns":2,"--grid-gap":"1rem"}:{})),u=()=>{var e,t,n;return null==(n=null==(t=null==(e=r.value)?void 0:e.cover)?void 0:t.showCover)?void 0:n.enable},p=({cover:e})=>{var t;const{cover:n}=r.value??{};return!!(null==(t=null==n?void 0:n.showCover)?void 0:t.enable)&&(e||!!Array.isArray(n.showCover.defaultCover)&&n.showCover.defaultCover[Math.floor(Math.random()*n.showCover.defaultCover.length)])};return(r,m)=>(a(),o("div",{class:D(["post-lists",{"layout-grid":"twoColumns"===c(i)}]),style:l(c(s))},[(a(!0),o(f,null,F(e.listData,((r,s)=>(a(),o("div",{key:s,class:D(["post-item","s-card","hover",{simple:e.simple,cover:u(),[`cover-${c(i)}`]:u()}]),style:l({animationDelay:.4+s/10+"s"}),onClick:e=>(e=>{if("undefined"!=typeof window){const e=window.scrollY;t.lastScrollY=e}n.go(e)})(r.regularPath)},[!e.simple&&u()?(a(),o("div",ou,[h("img",{src:p(r),alt:r.title},null,8,cu)])):d("",!0),h("div",lu,[!e.simple&&(null==r?void 0:r.categories)?(a(),o("div",uu,[(a(!0),o(f,null,F(null==r?void 0:r.categories,(e=>(a(),o("span",{key:e,class:"cat-name"},[m[0]||(m[0]=h("i",{class:"iconfont icon-folder"},null,-1)),L(" "+C(e),1)])))),128)),(null==r?void 0:r.top)?(a(),o("span",hu,m[1]||(m[1]=[h("i",{class:"iconfont icon-align-top"},null,-1),L(" ç½®é¡¶ ")]))):d("",!0)])):d("",!0),h("span",du,C(r.title),1),(null==r?void 0:r.description)?(a(),o("span",fu,C(r.description),1)):d("",!0),e.simple?d("",!0):(a(),o("div",pu,[(null==r?void 0:r.tags)?(a(),o("div",mu,[(a(!0),o(f,null,F(null==r?void 0:r.tags,(e=>(a(),o("span",{key:e,class:"tags-name",onClick:G((t=>c(n).go(`/pages/tags/${e}`)),["stop"])},[m[2]||(m[2]=h("i",{class:"iconfont icon-hashtag"},null,-1)),L(" "+C(e),1)],8,gu)))),128))])):d("",!0),h("span",yu,C(c(ft)(null==r?void 0:r.date)),1)]))])],14,au)))),128))],6))}},[["__scopeId","data-v-903f072f"]]),bu={key:0,class:"type-bar s-card hover"},Eu={class:"all-type"},Tu=["href"],Su=["href"],Au={key:1,class:"type-bar s-card hover"},_u={class:"all-type"},ku=["href"],wu={class:"num"},Ou=["href"],Iu={class:"num"},Ru=n({__name:"TypeBar",props:{type:{type:String,default:"categories"}},setup(e){const{theme:t,params:n}=R(),r=A((()=>{var e;return(null==(e=n.value)?void 0:e.name)||null}));return(n,i)=>{var s,l;return"categories"===e.type?(a(),o("div",bu,[h("div",Eu,[c(r)?(a(),o("a",{key:0,href:`/pages/categories/${c(r)}`,class:"type-item choose"},C(c(r)),9,Tu)):d("",!0),h("a",{href:"/",class:D(["type-item",{choose:!c(r)}])},"é¦–é¡µ",2),(a(!0),o(f,null,F(c(t).categoriesData,((e,t,n)=>(a(),o("a",{key:n,href:`/pages/categories/${t}`,class:D(["type-item",{hidden:c(r)===t}])},C(t),11,Su)))),128))]),i[0]||(i[0]=h("a",{href:"/pages/categories",class:"more-type"},[h("i",{class:"iconfont icon-arrow-right"}),L(" æ›´å¤š ")],-1))])):"tags"===e.type?(a(),o("div",Au,[h("div",_u,[c(r)?(a(),o("a",{key:0,href:`/pages/tags/${c(r)}`,class:"type-item choose"},[L(C(c(r))+" ",1),h("span",wu,C((null==(l=null==(s=c(t).tagsData)?void 0:s[c(r)])?void 0:l.count)||0),1)],8,ku)):d("",!0),(a(!0),o(f,null,F(c(t).tagsData,((e,t,n)=>(a(),o("a",{key:n,href:`/pages/tags/${t}`,class:D(["type-item",{hidden:c(r)===t}])},[L(C(t)+" ",1),h("span",Iu,C(e.count),1)],10,Ou)))),128))]),i[1]||(i[1]=h("a",{href:"/pages/tags",class:"more-type"},[h("i",{class:"iconfont icon-arrow-right"}),L(" æ›´å¤š ")],-1))])):d("",!0)}}},[["__scopeId","data-v-431ed478"]]),Cu={class:"home"},Pu={class:"home-content"},Nu={class:"posts-content"},xu=n({__name:"Home",props:{showHeader:{type:Boolean,default:!1},page:{type:Number,default:1},showCategories:{type:[null,String],default:null},showTags:{type:[null,String],default:null}},setup(e){const{theme:t}=R(),n=Ie(),r=e,i=t.value.postSize,s=A((()=>{var e,n;const i=r.showCategories?null==(e=t.value.categoriesData[r.showCategories])?void 0:e.articles:r.showTags?null==(n=t.value.tagsData[r.showTags])?void 0:n.articles:t.value.postData;return i?i.length:0})),l=A((()=>{var e,n;const s=(()=>{if(r.showCategories||r.showTags){if("undefined"==typeof window)return 0;const e=new URLSearchParams(window.location.search).get("page");if(!e)return 0;const t=Number(e);return t?t-1:0}return r.page?r.page-1:0})();let a=null;return a=r.showCategories?null==(e=t.value.categoriesData[r.showCategories])?void 0:e.articles:r.showTags?null==(n=t.value.tagsData[r.showTags])?void 0:n.articles:t.value.postData,a?a.slice(s*i,s*i+i):[]}));return y((()=>n.loadingStatus),(e=>(e=>{if("undefined"==typeof window||e)return!1;const t=n.lastScrollY;O().then((()=>{window.scrollTo({top:t,behavior:"smooth"}),n.lastScrollY=0}))})(e))),(t,r)=>{const u=$e,f=Ru,p=vu,m=su,g=Zl;return a(),o("div",Cu,[e.showHeader?(a(),$(u,{key:0,height:c(n).bannerType},null,8,["height"])):d("",!0),h("div",Pu,[h("div",Nu,[P(f,{type:e.showTags?"tags":"categories"},null,8,["type"]),P(p,{listData:c(l)},null,8,["listData"]),P(m,{total:c(s),page:Number(e.page),limit:c(i),useParams:!(!e.showCategories&&!e.showTags),routePath:e.showCategories?`/pages/categories/${e.showCategories}`:e.showTags?`/pages/tags/${e.showTags}`:""},null,8,["total","page","limit","useParams","routePath"])]),P(g)])])}}},[["__scopeId","data-v-2935c4e5"]]);let Du=null,Lu=null,Mu=!1;const Fu=(e,t)=>{if("undefined"==typeof window)return!1;if("before"===e)Mu=!1,Lu=new URL(t,window.location.origin).pathname,ju({always:!0});else if("after"===e){const e=(e=>"undefined"!=typeof window&&new URL(e,window.location.origin).pathname===new URL(window.location.href).pathname)(t),n=new URL(t,window.location.origin).pathname;if(e&&Lu===n)return Mu||ju(),!1;ju(),Mu=!0,Lu=new URL(t,window.location.origin).pathname}},ju=(e={})=>{const t=Ie(),{status:n=!0,always:r=!1}=e;t.loadingStatus=n,r||(Du=setTimeout((()=>{t.loadingStatus=!1,clearTimeout(Du)}),Math.floor(541*Math.random())+260))},$u="vitepress:tabSharedState",Bu="undefined"!=typeof localStorage?localStorage:null,Uu="vitepress:tabsSharedState",Hu=e=>{const t=v({});y((()=>t.content),((e,t)=>{var n;e&&t&&(n=e,Bu&&Bu.setItem(Uu,JSON.stringify(n)))}),{deep:!0}),e.provide($u,t)},qu=(e,t)=>{const n=g($u);if(!n)throw new Error("[vitepress-plugin-tabs] TabsSharedState should be injected");i((()=>{n.content||(n.content=(()=>{const e=null==Bu?void 0:Bu.getItem(Uu);if(e)try{return JSON.parse(e)}catch{}return{}})())}));const s=r(),a=A({get(){var r;const i=t.value,a=e.value;if(i){const e=null==(r=n.content)?void 0:r[i];if(e&&a.includes(e))return e}else{const e=s.value;if(e)return e}return a[0]},set(e){const r=t.value;r?n.content&&(n.content[r]=e):s.value=e}});return{selected:a,select:e=>{a.value=e}}};let Gu=0;const Wu="vitepress:tabSingleState",Qu={class:"plugin-tabs"},Vu=["id","aria-selected","aria-controls","tabindex","onClick"],Yu=V({__name:"PluginTabs",props:{sharedStateKey:{}},setup(e){const t=e,n=function(){const e=W();return A((()=>{var t;const n=null==(t=e.default)?void 0:t.call(e);return n?n.filter((e=>"object"==typeof e.type&&"__name"in e.type&&"PluginTabsTab"===e.type.__name&&e.props)).map((e=>{var t;return null==(t=e.props)?void 0:t.label})):[]}))}(),{selected:i,select:s}=qu(n,_(t,"sharedStateKey")),l=r(),{stabilizeScrollPosition:d}=(e=>{if("undefined"==typeof document)return{stabilizeScrollPosition:e=>async(...t)=>e(...t)};const t=document.documentElement;return{stabilizeScrollPosition:n=>async(...r)=>{const i=n(...r),s=e.value;if(!s)return i;const a=s.offsetTop-t.scrollTop;return await O(),t.scrollTop=s.offsetTop-a,i}}})(l),p=d(s),m=r([]),g=e=>{var t;const r=n.value.indexOf(i.value);let s;"ArrowLeft"===e.key?s=r>=1?r-1:n.value.length-1:"ArrowRight"===e.key&&(s=r<n.value.length-1?r+1:0),void 0!==s&&(p(n.value[s]),null==(t=m.value[s])||t.focus())},y=(Gu++,""+Gu);return Q(Wu,{uid:y,selected:i}),(e,t)=>(a(),o("div",Qu,[h("div",{ref_key:"tablist",ref:l,class:"plugin-tabs--tab-list",role:"tablist",onKeydown:g},[(a(!0),o(f,null,F(c(n),(e=>(a(),o("button",{id:`tab-${e}-${c(y)}`,ref_for:!0,ref_key:"buttonRefs",ref:m,key:e,role:"tab",class:"plugin-tabs--tab","aria-selected":e===c(i),"aria-controls":`panel-${e}-${c(y)}`,tabindex:e===c(i)?0:-1,onClick:()=>c(p)(e)},C(e),9,Vu)))),128))],544),u(e.$slots,"default")]))}}),zu=["id","aria-labelledby"],Ku=n(V({__name:"PluginTabsTab",props:{label:{}},setup(e){const{uid:t,selected:n}=(()=>{const e=g(Wu);if(!e)throw new Error("[vitepress-plugin-tabs] TabsSingleState should be injected");return e})();return(e,r)=>c(n)===e.label?(a(),o("div",{key:0,id:`panel-${e.label}-${c(t)}`,class:"plugin-tabs--content",role:"tabpanel",tabindex:"0","aria-labelledby":`tab-${e.label}-${c(t)}`},[u(e.$slots,"default",{},void 0,!0)],8,zu)):d("",!0)}}),[["__scopeId","data-v-c43190c5"]]);function Xu(e,t){var n;return e="object"==typeof(n=e)&&null!==n?e:Object.create(null),new Proxy(e,{get:(e,n,r)=>"key"===n?Reflect.get(e,n,r):Reflect.get(e,n,r)||Reflect.get(t,n,r)})}function Ju(e,{storage:t,serializer:n,key:r,debug:i}){try{const i=null==t?void 0:t.getItem(r);i&&e.$patch(null==n?void 0:n.deserialize(i))}catch(YR){i&&console.error("[pinia-plugin-persistedstate]",YR)}}function Zu(e,{storage:t,serializer:n,key:r,paths:i,debug:s}){try{const s=Array.isArray(i)?function(e,t){return t.reduce(((t,n)=>{const r=n.split(".");return function(e,t,n){return t.slice(0,-1).reduce(((e,t)=>/^(__proto__)$/.test(t)?{}:e[t]=e[t]||{}),e)[t[t.length-1]]=n,e}(t,r,function(e,t){return t.reduce(((e,t)=>null==e?void 0:e[t]),e)}(e,r))}),{})}(e,i):e;t.setItem(r,n.serialize(s))}catch(YR){s&&console.error("[pinia-plugin-persistedstate]",YR)}}var eh=function(e={}){return t=>{const{auto:n=!1}=e,{options:{persist:r=n},store:i,pinia:s}=t;if(!r)return;if(!(i.$id in s.state.value)){const e=s._s.get(i.$id.replace("__hot:",""));return void(e&&Promise.resolve().then((()=>e.$persist())))}const a=(Array.isArray(r)?r.map((t=>Xu(t,e))):[Xu(r,e)]).map(function(e,t){return n=>{var r;try{const{storage:i=localStorage,beforeRestore:s,afterRestore:a,serializer:o={serialize:JSON.stringify,deserialize:JSON.parse},key:c=t.$id,paths:l=null,debug:u=!1}=n;return{storage:i,beforeRestore:s,afterRestore:a,serializer:o,key:(null!=(r=e.key)?r:e=>e)("string"==typeof c?c:c(t.$id)),paths:l,debug:u}}catch(YR){return n.debug&&console.error("[pinia-plugin-persistedstate]",YR),null}}}(e,i)).filter(Boolean);i.$persist=()=>{a.forEach((e=>{Zu(i.$state,e)}))},i.$hydrate=({runHooks:e=!0}={})=>{a.forEach((n=>{const{beforeRestore:r,afterRestore:s}=n;e&&(null==r||r(t)),Ju(i,n),e&&(null==s||s(t))}))},a.forEach((e=>{const{beforeRestore:n,afterRestore:r}=e;null==n||n(t),Ju(i,e),null==r||r(t),i.$subscribe(((t,n)=>{Zu(n,e)}),{detached:!0})}))}}();const th={class:"message-content"},nh={class:"text"},rh={key:0,class:"close"},ih={__name:"Message",setup(e){const t=r("info"),n=r(!1),s=r(!1),u=r(null),f=r(!1),p=r(0),m=r(null),g=(e,r="info",i={},a=null)=>{const{close:o=!1,always:c=!1,duration:l=3e3}=i;n.value=!1,clearTimeout(m.value),O().then((()=>{s.value=o,u.value=e,t.value=r,n.value=!0,f.value=c,p.value=l,c||(m.value=setTimeout((()=>{n.value=!1,"function"==typeof a&&a()}),l))}))},y={info:(e,t,n)=>{g(e,"info",t,n)},success:(e,t,n)=>{g(e,"success",t,n)},warning:(e,t,n)=>{g(e,"warning",t,n)},error:(e,t,n)=>{g(e,"error",t,n)}},v=()=>{n.value=!1,clearTimeout(m.value)};return i((()=>{window.$message=y})),(e,r)=>(a(),$(Y,{to:"body"},[P(x,{name:"fadeDown",mode:"out-in"},{default:N((()=>[c(n)?(a(),o("div",{key:0,class:D(["message",c(t),{always:c(f)}]),style:l({"--duration":c(p)+"ms"}),onClick:v},[h("div",th,[h("span",nh,C(c(u)||"é»˜è®¤æ¶ˆæ¯å†…å®¹"),1),c(s)?(a(),o("span",rh,r[0]||(r[0]=[h("i",{class:"iconfont icon-close"},null,-1)]))):d("",!0)])],6)):d("",!0)])),_:1})]))}},sh=n(ih,[["__scopeId","data-v-1c3eaab9"]]),ah={key:0,class:"modal"},oh={key:0,class:"title"},ch={class:"title-left"},lh={class:"title-text"},uh=n({__name:"Modal",props:{show:{type:Boolean,default:!1},title:{type:String,default:""},titleIcon:{type:String,default:""},showClose:{type:Boolean,default:!0},maxWidth:{type:[Number,String],default:800},maxHeight:{type:Number,default:80}},emits:["mask-click","modal-close"],setup(e,{emit:t}){const n=e,r=t,i=()=>r("mask-click"),s=()=>r("modal-close");return y((()=>n.show),(e=>{document.body.style.overflowY=e?"hidden":""})),(t,n)=>(a(),$(Y,{to:"body"},[P(x,{name:"fade",mode:"out-in"},{default:N((()=>[e.show?(a(),o("div",ah,[h("div",{class:"modal-mask",onClick:G(i,["stop"])}),h("div",{style:l({maxWidth:"string"==typeof e.maxWidth?e.maxWidth:`${e.maxWidth}px`}),class:"modal-main s-card",onClick:n[0]||(n[0]=G((()=>{}),["stop"]))},[e.title?(a(),o("div",oh,[h("div",ch,[e.titleIcon?(a(),o("i",{key:0,class:D(`iconfont icon-${e.titleIcon}`)},null,2)):d("",!0),h("span",lh,C(e.title),1)]),e.showClose?(a(),o("i",{key:0,class:"iconfont icon-close close",onClick:s})):d("",!0)])):d("",!0),h("div",{class:"modal-content",style:l({"--height":e.maxHeight+"vh"})},[u(t.$slots,"default",{},void 0,!0)],4)],4)])):d("",!0)])),_:3})]))}},[["__scopeId","data-v-56ad04ef"]]);var hh=Object.defineProperty,dh=Object.defineProperties,fh=Object.getOwnPropertyDescriptors,ph=Object.getOwnPropertySymbols,mh=Object.prototype.hasOwnProperty,gh=Object.prototype.propertyIsEnumerable,yh=(e,t,n)=>t in e?hh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vh=(e,t)=>{for(var n in t||(t={}))mh.call(t,n)&&yh(e,n,t[n]);if(ph)for(var n of ph(t))gh.call(t,n)&&yh(e,n,t[n]);return e},bh=(e,t)=>dh(e,fh(t)),Eh=(e,t,n)=>yh(e,"symbol"!=typeof t?t+"":t,n),Th=(e,t,n)=>new Promise(((r,i)=>{var s=e=>{try{o(n.next(e))}catch(YR){i(YR)}},a=e=>{try{o(n.throw(e))}catch(YR){i(YR)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(s,a);o((n=n.apply(e,t)).next())}));class Sh{constructor(e={}){Eh(this,"baseUrl","/api/v2"),Eh(this,"securityData",null),Eh(this,"securityWorker"),Eh(this,"abortControllers",new Map),Eh(this,"customFetch",((...e)=>fetch(...e))),Eh(this,"baseApiParams",{credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"}),Eh(this,"setSecurityData",(e=>{this.securityData=e})),Eh(this,"contentFormatters",{"application/json":e=>null===e||"object"!=typeof e&&"string"!=typeof e?e:JSON.stringify(e),"text/plain":e=>null!==e&&"string"!=typeof e?JSON.stringify(e):e,"multipart/form-data":e=>Object.keys(e||{}).reduce(((t,n)=>{const r=e[n];return t.append(n,r instanceof Blob?r:"object"==typeof r&&null!==r?JSON.stringify(r):`${r}`),t}),new FormData),"application/x-www-form-urlencoded":e=>this.toQueryString(e)}),Eh(this,"createAbortSignal",(e=>{if(this.abortControllers.has(e)){const t=this.abortControllers.get(e);return t?t.signal:void 0}const t=new AbortController;return this.abortControllers.set(e,t),t.signal})),Eh(this,"abortRequest",(e=>{const t=this.abortControllers.get(e);t&&(t.abort(),this.abortControllers.delete(e))})),Eh(this,"request",(e=>Th(this,null,(function*(){var t=e,{body:n,secure:r,path:i,type:s,query:a,format:o,baseUrl:c,cancelToken:l}=t,u=((e,t)=>{var n={};for(var r in e)mh.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ph)for(var r of ph(e))t.indexOf(r)<0&&gh.call(e,r)&&(n[r]=e[r]);return n})(t,["body","secure","path","type","query","format","baseUrl","cancelToken"]);const h=("boolean"==typeof r?r:this.baseApiParams.secure)&&this.securityWorker&&(yield this.securityWorker(this.securityData))||{},d=this.mergeRequestParams(u,h),f=a&&this.toQueryString(a),p=this.contentFormatters[s||"application/json"],m=o||d.format;return this.customFetch(`${c||this.baseUrl||""}${i}${f?`?${f}`:""}`,bh(vh({},d),{headers:vh(vh({},d.headers||{}),s&&"multipart/form-data"!==s?{"Content-Type":s}:{}),signal:(l?this.createAbortSignal(l):d.signal)||null,body:null==n?null:p(n)})).then((e=>Th(this,null,(function*(){const t=e.clone();t.data=null,t.error=null;const n=m?yield e[m]().then((e=>(t.ok?t.data=e:t.error=e,t))).catch((e=>(t.error=e,t))):t;if(l&&this.abortControllers.delete(l),!e.ok)throw n;return n}))))})))),Object.assign(this,e)}encodeQueryParam(e,t){return`${encodeURIComponent(e)}=${encodeURIComponent("number"==typeof t?t:`${t}`)}`}addQueryParam(e,t){return this.encodeQueryParam(t,e[t])}addArrayQueryParam(e,t){return e[t].map((e=>this.encodeQueryParam(t,e))).join("&")}toQueryString(e){const t=e||{};return Object.keys(t).filter((e=>void 0!==t[e])).map((e=>Array.isArray(t[e])?this.addArrayQueryParam(t,e):this.addQueryParam(t,e))).join("&")}addQueryParams(e){const t=this.toQueryString(e);return t?`?${t}`:""}mergeRequestParams(e,t){return bh(vh(vh(vh({},this.baseApiParams),e),t||{}),{headers:vh(vh(vh({},this.baseApiParams.headers||{}),e.headers||{}),t&&t.headers||{})})}}
/**
 * @title Artalk API
 * @version 2.0
 * @license MIT (https://github.com/ArtalkJS/Artalk/blob/master/LICENSE)
 * @baseUrl /api/v2
 * @contact API Support <artalkjs@gmail.com> (https://artalk.js.org)
 *
 * Artalk is a modern comment system based on Golang.
 */let Ah=class extends Sh{constructor(){super(...arguments),Eh(this,"auth",{loginByEmail:(e,t={})=>this.request(vh({path:"/auth/email/login",method:"POST",body:e,type:"application/json",format:"json"},t)),registerByEmail:(e,t={})=>this.request(vh({path:"/auth/email/register",method:"POST",body:e,type:"application/json",format:"json"},t)),sendVerifyEmail:(e,t={})=>this.request(vh({path:"/auth/email/send",method:"POST",body:e,type:"application/json",format:"json"},t)),checkDataMerge:(e={})=>this.request(vh({path:"/auth/merge",method:"GET",secure:!0,format:"json"},e)),applyDataMerge:(e,t={})=>this.request(vh({path:"/auth/merge",method:"POST",body:e,secure:!0,type:"application/json",format:"json"},t))}),Eh(this,"cache",{flushCache:(e={})=>this.request(vh({path:"/cache/flush",method:"POST",secure:!0,format:"json"},e)),warmUpCache:(e={})=>this.request(vh({path:"/cache/warm_up",method:"POST",secure:!0,format:"json"},e))}),Eh(this,"captcha",{getCaptcha:(e={})=>this.request(vh({path:"/captcha",method:"GET",format:"json"},e)),getCaptchaStatus:(e={})=>this.request(vh({path:"/captcha/status",method:"GET",format:"json"},e)),verifyCaptcha:(e,t={})=>this.request(vh({path:"/captcha/verify",method:"POST",body:e,type:"application/json",format:"json"},t))}),Eh(this,"comments",{getComments:(e,t={})=>this.request(vh({path:"/comments",method:"GET",query:e,secure:!0,type:"application/json",format:"json"},t)),createComment:(e,t={})=>this.request(vh({path:"/comments",method:"POST",body:e,secure:!0,type:"application/json",format:"json"},t)),getComment:(e,t={})=>this.request(vh({path:`/comments/${e}`,method:"GET",type:"application/json",format:"json"},t)),updateComment:(e,t,n={})=>this.request(vh({path:`/comments/${e}`,method:"PUT",body:t,secure:!0,type:"application/json",format:"json"},n)),deleteComment:(e,t={})=>this.request(vh({path:`/comments/${e}`,method:"DELETE",secure:!0,format:"json"},t))}),Eh(this,"conf",{conf:(e={})=>this.request(vh({path:"/conf",method:"GET",format:"json"},e)),getSocialLoginProviders:(e={})=>this.request(vh({path:"/conf/auth/providers",method:"GET",format:"json"},e)),getDomain:(e,t={})=>this.request(vh({path:"/conf/domain",method:"GET",query:e,format:"json"},t))}),Eh(this,"notifies",{getNotifies:(e,t={})=>this.request(vh({path:"/notifies",method:"GET",query:e,type:"application/json",format:"json"},t)),markAllNotifyRead:(e,t={})=>this.request(vh({path:"/notifies/read",method:"POST",body:e,type:"application/json",format:"json"},t)),markNotifyRead:(e,t,n={})=>this.request(vh({path:`/notifies/${e}/${t}`,method:"POST",format:"json"},n))}),Eh(this,"pages",{getPages:(e,t={})=>this.request(vh({path:"/pages",method:"GET",query:e,secure:!0,type:"application/json",format:"json"},t)),fetchAllPages:(e,t={})=>this.request(vh({path:"/pages/fetch",method:"POST",body:e,secure:!0,type:"application/json",format:"json"},t)),getPageFetchStatus:(e={})=>this.request(vh({path:"/pages/fetch/status",method:"GET",secure:!0,format:"json"},e)),logPv:(e,t={})=>this.request(vh({path:"/pages/pv",method:"POST",body:e,type:"application/json",format:"json"},t)),updatePage:(e,t,n={})=>this.request(vh({path:`/pages/${e}`,method:"PUT",body:t,secure:!0,type:"application/json",format:"json"},n)),deletePage:(e,t={})=>this.request(vh({path:`/pages/${e}`,method:"DELETE",secure:!0,format:"json"},t)),fetchPage:(e,t={})=>this.request(vh({path:`/pages/${e}/fetch`,method:"POST",secure:!0,type:"application/json",format:"json"},t))}),Eh(this,"sendEmail",{sendEmail:(e,t={})=>this.request(vh({path:"/send_email",method:"POST",body:e,secure:!0,type:"application/json",format:"json"},t))}),Eh(this,"settings",{getSettings:(e={})=>this.request(vh({path:"/settings",method:"GET",secure:!0,format:"json"},e)),applySettings:(e,t={})=>this.request(vh({path:"/settings",method:"PUT",body:e,secure:!0,type:"application/json",format:"json"},t)),getSettingsTemplate:(e,t={})=>this.request(vh({path:`/settings/template/${e}`,method:"GET",secure:!0,format:"json"},t))}),Eh(this,"sites",{getSites:(e={})=>this.request(vh({path:"/sites",method:"GET",secure:!0,format:"json"},e)),createSite:(e,t={})=>this.request(vh({path:"/sites",method:"POST",body:e,secure:!0,type:"application/json",format:"json"},t)),updateSite:(e,t,n={})=>this.request(vh({path:`/sites/${e}`,method:"PUT",body:t,secure:!0,type:"application/json",format:"json"},n)),deleteSite:(e,t={})=>this.request(vh({path:`/sites/${e}`,method:"DELETE",secure:!0,format:"json"},t))}),Eh(this,"stats",{getStats:(e,t,n={})=>this.request(vh({path:`/stats/${e}`,method:"GET",query:t,type:"application/json",format:"json"},n))}),Eh(this,"transfer",{exportArtrans:(e={})=>this.request(vh({path:"/transfer/export",method:"GET",secure:!0,format:"json"},e)),importArtrans:(e,t={})=>this.request(vh({path:"/transfer/import",method:"POST",body:e,secure:!0,type:"application/json"},t)),uploadArtrans:(e,t={})=>this.request(vh({path:"/transfer/upload",method:"POST",body:e,secure:!0,type:"multipart/form-data",format:"json"},t))}),Eh(this,"upload",{upload:(e,t={})=>this.request(vh({path:"/upload",method:"POST",body:e,secure:!0,type:"multipart/form-data",format:"json"},t))}),Eh(this,"user",{getUser:(e,t={})=>this.request(vh({path:"/user",method:"GET",query:e,secure:!0,format:"json"},t)),updateProfile:(e,t={})=>this.request(vh({path:"/user",method:"POST",body:e,secure:!0,type:"application/json",format:"json"},t)),login:(e,t={})=>this.request(vh({path:"/user/access_token",method:"POST",body:e,type:"application/json",format:"json"},t)),getUserStatus:(e,t={})=>this.request(vh({path:"/user/status",method:"GET",query:e,secure:!0,format:"json"},t))}),Eh(this,"users",{createUser:(e,t={})=>this.request(vh({path:"/users",method:"POST",body:e,secure:!0,type:"application/json",format:"json"},t)),updateUser:(e,t,n={})=>this.request(vh({path:`/users/${e}`,method:"PUT",body:t,secure:!0,type:"application/json",format:"json"},n)),deleteUser:(e,t={})=>this.request(vh({path:`/users/${e}`,method:"DELETE",secure:!0,format:"json"},t)),getUsers:(e,t,n={})=>this.request(vh({path:`/users/${e}`,method:"GET",query:t,secure:!0,type:"application/json",format:"json"},n))}),Eh(this,"version",{getVersion:(e={})=>this.request(vh({path:"/version",method:"GET",format:"json"},e))}),Eh(this,"votes",{syncVotes:(e={})=>this.request(vh({path:"/votes/sync",method:"POST",secure:!0,format:"json"},e)),vote:(e,t,n,r={})=>this.request(vh({path:`/votes/${e}/${t}`,method:"POST",body:n,type:"application/json",format:"json"},r))})}};const _h=(e,t,n)=>Th(void 0,null,(function*(){const r=e.getApiToken&&e.getApiToken(),i=new Headers(vh({Authorization:r?`Bearer ${r}`:""},null==n?void 0:n.headers));i.get("Authorization")||i.delete("Authorization");const s=yield fetch(t,bh(vh({},n),{headers:i}));if(!s.ok){const r=(yield s.json().catch((()=>{})))||{};let i=!1;if(e.handlers&&(yield e.handlers.get().reduce(((e,t)=>Th(void 0,null,(function*(){yield e,!0===r[t.action]&&(yield t.handler(r),i=!0)}))),Promise.resolve())),i)return _h(e,t,n);throw function(e,t){const n=new kh;return n.message=t.msg||t.message||"fetch error",n.code=e,n.data=t,console.error(n),n}(s.status,r)}return s}));class kh extends Error{constructor(){super(...arguments),Eh(this,"code",0),Eh(this,"message","fetch error"),Eh(this,"data")}}class wh extends Ah{constructor(e){super({baseUrl:e.baseURL,customFetch:(t,n)=>_h(e,t,n)}),Eh(this,"_opts"),this._opts=e}getUserFields(){const e=this._opts.userInfo;if((null==e?void 0:e.name)&&(null==e?void 0:e.email))return{name:e.name,email:e.email}}}function Oh(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Ih={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function Rh(e){Ih=e}const Ch=/[&<>"']/,Ph=new RegExp(Ch.source,"g"),Nh=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,xh=new RegExp(Nh.source,"g"),Dh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Lh=e=>Dh[e];function Mh(e,t){if(t){if(Ch.test(e))return e.replace(Ph,Lh)}else if(Nh.test(e))return e.replace(xh,Lh);return e}const Fh=/(^|[^\[])\^/g;function jh(e,t){let n="string"==typeof e?e:e.source;t=t||"";const r={replace:(e,t)=>{let i="string"==typeof t?t:t.source;return i=i.replace(Fh,"$1"),n=n.replace(e,i),r},getRegex:()=>new RegExp(n,t)};return r}function $h(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch(YR){return null}return e}const Bh={exec:()=>null};function Uh(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function Hh(e,t,n){const r=e.length;if(0===r)return"";let i=0;for(;i<r;){if(e.charAt(r-i-1)!==t)break;i++}return e.slice(0,r-i)}function qh(e,t,n,r){const i=t.href,s=t.title?Mh(t.title):null,a=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;const e={type:"link",raw:n,href:i,title:s,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,e}return{type:"image",raw:n,href:i,title:s,text:Mh(a)}}class Gh{constructor(e){Eh(this,"options"),Eh(this,"rules"),Eh(this,"lexer"),this.options=e||Ih}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^(?: {1,4}| {0,3}\t)/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:Hh(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=Hh(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Hh(t[0],"\n")}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let e=Hh(t[0],"\n").split("\n"),n="",r="";const i=[];for(;e.length>0;){let t=!1;const s=[];let a;for(a=0;a<e.length;a++)if(/^ {0,3}>/.test(e[a]))s.push(e[a]),t=!0;else{if(t)break;s.push(e[a])}e=e.slice(a);const o=s.join("\n"),c=o.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1").replace(/^ {0,3}>[ \t]?/gm,"");n=n?`${n}\n${o}`:o,r=r?`${r}\n${c}`:c;const l=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(c,i,!0),this.lexer.state.top=l,0===e.length)break;const u=i[i.length-1];if("code"===(null==u?void 0:u.type))break;if("blockquote"===(null==u?void 0:u.type)){const t=u,s=t.raw+"\n"+e.join("\n"),a=this.blockquote(s);i[i.length-1]=a,n=n.substring(0,n.length-t.raw.length)+a.raw,r=r.substring(0,r.length-t.text.length)+a.text;break}if("list"!==(null==u?void 0:u.type));else{const t=u,s=t.raw+"\n"+e.join("\n"),a=this.list(s);i[i.length-1]=a,n=n.substring(0,n.length-u.raw.length)+a.raw,r=r.substring(0,r.length-t.raw.length)+a.raw,e=s.substring(i[i.length-1].raw.length).split("\n")}}return{type:"blockquote",raw:n,tokens:i,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const s=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let a=!1;for(;e;){let n=!1,r="",o="";if(!(t=s.exec(e)))break;if(this.rules.block.hr.test(e))break;r=t[0],e=e.substring(r.length);let c=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),l=e.split("\n",1)[0],u=!c.trim(),h=0;if(this.options.pedantic?(h=2,o=c.trimStart()):u?h=t[1].length+1:(h=t[2].search(/[^ ]/),h=h>4?1:h,o=c.slice(h),h+=t[1].length),u&&/^[ \t]*$/.test(l)&&(r+=l+"\n",e=e.substring(l.length+1),n=!0),!n){const t=new RegExp(`^ {0,${Math.min(3,h-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),n=new RegExp(`^ {0,${Math.min(3,h-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),i=new RegExp(`^ {0,${Math.min(3,h-1)}}(?:\`\`\`|~~~)`),s=new RegExp(`^ {0,${Math.min(3,h-1)}}#`),a=new RegExp(`^ {0,${Math.min(3,h-1)}}<[a-z].*>`,"i");for(;e;){const d=e.split("\n",1)[0];let f;if(l=d,this.options.pedantic?(l=l.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  "),f=l):f=l.replace(/\t/g,"    "),i.test(l))break;if(s.test(l))break;if(a.test(l))break;if(t.test(l))break;if(n.test(l))break;if(f.search(/[^ ]/)>=h||!l.trim())o+="\n"+f.slice(h);else{if(u)break;if(c.replace(/\t/g,"    ").search(/[^ ]/)>=4)break;if(i.test(c))break;if(s.test(c))break;if(n.test(c))break;o+="\n"+l}u||l.trim()||(u=!0),r+=d+"\n",e=e.substring(d.length+1),c=f.slice(h)}}i.loose||(a?i.loose=!0:/\n[ \t]*\n[ \t]*$/.test(r)&&(a=!0));let d,f=null;this.options.gfm&&(f=/^\[[ xX]\] /.exec(o),f&&(d="[ ] "!==f[0],o=o.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:r,task:!!f,checked:d,loose:!1,text:o,tokens:[]}),i.raw+=r}i.items[i.items.length-1].raw=i.items[i.items.length-1].raw.trimEnd(),i.items[i.items.length-1].text=i.items[i.items.length-1].text.trimEnd(),i.raw=i.raw.trimEnd();for(let e=0;e<i.items.length;e++)if(this.lexer.state.top=!1,i.items[e].tokens=this.lexer.blockTokens(i.items[e].text,[]),!i.loose){const t=i.items[e].tokens.filter((e=>"space"===e.type)),n=t.length>0&&t.some((e=>/\n.*\n/.test(e.raw)));i.loose=n}if(i.loose)for(let e=0;e<i.items.length;e++)i.items[e].loose=!0;return i}}html(e){const t=this.rules.block.html.exec(e);if(t){return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){const t=this.rules.block.table.exec(e);if(!t)return;if(!/[:|]/.test(t[2]))return;const n=Uh(t[1]),r=t[2].replace(/^\||\| *$/g,"").split("|"),i=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const e of r)/^ *-+: *$/.test(e)?s.align.push("right"):/^ *:-+: *$/.test(e)?s.align.push("center"):/^ *:-+ *$/.test(e)?s.align.push("left"):s.align.push(null);for(let e=0;e<n.length;e++)s.header.push({text:n[e],tokens:this.lexer.inline(n[e]),header:!0,align:s.align[e]});for(const e of i)s.rows.push(Uh(e,s.header.length).map(((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:s.align[t]}))));return s}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Mh(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=Hh(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),qh(t,{href:n?n.replace(this.rules.inline.anyPunctuation,"$1"):n,title:r?r.replace(this.rules.inline.anyPunctuation,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const e=t[(n[2]||n[1]).replace(/\s+/g," ").toLowerCase()];if(!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return qh(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r)return;if(r[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const n=[...r[0]].length-1;let i,s,a=n,o=0;const c="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=c.exec(t));){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(s=[...i].length,r[3]||r[4]){a+=s;continue}if((r[5]||r[6])&&n%3&&!((n+s)%3)){o+=s;continue}if(a-=s,a>0)continue;s=Math.min(s,s+a+o);const t=[...r[0]][0].length,c=e.slice(0,n+r.index+t+s);if(Math.min(n,s)%2){const e=c.slice(1,-1);return{type:"em",raw:c,text:e,tokens:this.lexer.inlineTokens(e)}}const l=c.slice(2,-2);return{type:"strong",raw:c,text:l,tokens:this.lexer.inlineTokens(l)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=Mh(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let e,n;return"@"===t[2]?(e=Mh(t[1]),n="mailto:"+e):(e=Mh(t[1]),n=e),{type:"link",raw:t[0],text:e,href:n,tokens:[{type:"text",raw:e,text:e}]}}}url(e){var t,n;let r;if(r=this.rules.inline.url.exec(e)){let e,i;if("@"===r[2])e=Mh(r[0]),i="mailto:"+e;else{let s;do{s=r[0],r[0]=null!=(n=null==(t=this.rules.inline._backpedal.exec(r[0]))?void 0:t[0])?n:""}while(s!==r[0]);e=Mh(r[0]),i="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let e;return e=this.lexer.state.inRawBlock?t[0]:Mh(t[0]),{type:"text",raw:t[0],text:e}}}}const Wh=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Qh=/(?:[*+-]|\d{1,9}[.)])/,Vh=jh(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Qh).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Yh=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,zh=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Kh=jh(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",zh).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Xh=jh(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Qh).getRegex(),Jh="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Zh=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,ed=jh("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",Zh).replace("tag",Jh).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),td=jh(Yh).replace("hr",Wh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Jh).getRegex(),nd={blockquote:jh(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",td).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:Kh,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Wh,html:ed,lheading:Vh,list:Xh,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:td,table:Bh,text:/^[^\n]+/},rd=jh("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Wh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Jh).getRegex(),id=bh(vh({},nd),{table:rd,paragraph:jh(Yh).replace("hr",Wh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",rd).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Jh).getRegex()}),sd=bh(vh({},nd),{html:jh("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Zh).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Bh,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:jh(Yh).replace("hr",Wh).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Vh).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),ad=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,od=/^( {2,}|\\)\n(?!\s*$)/,cd="\\p{P}\\p{S}",ld=jh(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,cd).getRegex(),ud=jh(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,cd).getRegex(),hd=jh("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,cd).getRegex(),dd=jh("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,cd).getRegex(),fd=jh(/\\([punct])/,"gu").replace(/punct/g,cd).getRegex(),pd=jh(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),md=jh(Zh).replace("(?:--\x3e|$)","--\x3e").getRegex(),gd=jh("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",md).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),yd=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,vd=jh(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",yd).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),bd=jh(/^!?\[(label)\]\[(ref)\]/).replace("label",yd).replace("ref",zh).getRegex(),Ed=jh(/^!?\[(ref)\](?:\[\])?/).replace("ref",zh).getRegex(),Td={_backpedal:Bh,anyPunctuation:fd,autolink:pd,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:od,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:Bh,emStrongLDelim:ud,emStrongRDelimAst:hd,emStrongRDelimUnd:dd,escape:ad,link:vd,nolink:Ed,punctuation:ld,reflink:bd,reflinkSearch:jh("reflink|nolink(?!\\()","g").replace("reflink",bd).replace("nolink",Ed).getRegex(),tag:gd,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:Bh},Sd=bh(vh({},Td),{link:jh(/^!?\[(label)\]\((.*?)\)/).replace("label",yd).getRegex(),reflink:jh(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",yd).getRegex()}),Ad=bh(vh({},Td),{escape:jh(ad).replace("])","~|])").getRegex(),url:jh(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),_d=bh(vh({},Ad),{br:jh(od).replace("{2,}","*").getRegex(),text:jh(Ad.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),kd={normal:nd,gfm:id,pedantic:sd},wd={normal:Td,gfm:Ad,breaks:_d,pedantic:Sd};class Od{constructor(e){Eh(this,"tokens"),Eh(this,"options"),Eh(this,"state"),Eh(this,"tokenizer"),Eh(this,"inlineQueue"),this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ih,this.options.tokenizer=this.options.tokenizer||new Gh,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:kd.normal,inline:wd.normal};this.options.pedantic?(t.block=kd.pedantic,t.inline=wd.pedantic):this.options.gfm&&(t.block=kd.gfm,this.options.breaks?t.inline=wd.breaks:t.inline=wd.gfm),this.tokenizer.rules=t}static get rules(){return{block:kd,inline:wd}}static lex(e,t){return new Od(t).lex(e)}static lexInline(e,t){return new Od(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const e=this.inlineQueue[t];this.inlineTokens(e.src,e.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){let r,i,s;for(this.options.pedantic&&(e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((n=>!!(r=n.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))))if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),1===r.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(r);else if(r=this.tokenizer.code(e))e=e.substring(r.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?t.push(r):(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.list(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.def(e))e=e.substring(r.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(i.raw+="\n"+r.raw,i.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else{if(s=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startBlock.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(s=e.substring(0,t+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s)))i=t[t.length-1],n&&"paragraph"===(null==i?void 0:i.type)?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r),n=s.length!==e.length,e=e.substring(r.raw.length);else if(r=this.tokenizer.text(e))e=e.substring(r.raw.length),i=t[t.length-1],i&&"text"===i.type?(i.raw+="\n"+r.raw,i.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(r);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,i,s,a,o,c=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(c));)e.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.anyPunctuation.exec(c));)c=c.slice(0,s.index)+"++"+c.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(a||(o=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),r=t[t.length-1],r&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,c,o))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e))){if(i=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startInline.forEach((e=>{r=e.call({lexer:this},n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(i=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(i))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(o=n.raw.slice(-1)),a=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class Id{constructor(e){Eh(this,"options"),Eh(this,"parser"),this.options=e||Ih}space(e){return""}code({text:e,lang:t,escaped:n}){var r;const i=null==(r=(t||"").match(/^\S*/))?void 0:r[0],s=e.replace(/\n$/,"")+"\n";return i?'<pre><code class="language-'+Mh(i)+'">'+(n?s:Mh(s,!0))+"</code></pre>\n":"<pre><code>"+(n?s:Mh(s,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){const t=e.ordered,n=e.start;let r="";for(let s=0;s<e.items.length;s++){const t=e.items[s];r+=this.listitem(t)}const i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+r+"</"+i+">\n"}listitem(e){let t="";if(e.task){const n=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&"paragraph"===e.tokens[0].type?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=n+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" "}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let i=0;i<e.header.length;i++)n+=this.tablecell(e.header[i]);t+=this.tablerow({text:n});let r="";for(let i=0;i<e.rows.length;i++){const t=e.rows[i];n="";for(let e=0;e<t.length;e++)n+=this.tablecell(t[e]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const r=this.parser.parseInline(n),i=$h(e);if(null===i)return r;let s='<a href="'+(e=i)+'"';return t&&(s+=' title="'+t+'"'),s+=">"+r+"</a>",s}image({href:e,title:t,text:n}){const r=$h(e);if(null===r)return n;let i=`<img src="${e=r}" alt="${n}"`;return t&&(i+=` title="${t}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class Rd{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class Cd{constructor(e){Eh(this,"options"),Eh(this,"renderer"),Eh(this,"textRenderer"),this.options=e||Ih,this.options.renderer=this.options.renderer||new Id,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Rd}static parse(e,t){return new Cd(t).parse(e)}static parseInline(e,t){return new Cd(t).parseInline(e)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){const i=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const e=i,t=this.options.extensions.renderers[e.type].call({parser:this},e);if(!1!==t||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(e.type)){n+=t||"";continue}}const s=i;switch(s.type){case"space":n+=this.renderer.space(s);continue;case"hr":n+=this.renderer.hr(s);continue;case"heading":n+=this.renderer.heading(s);continue;case"code":n+=this.renderer.code(s);continue;case"table":n+=this.renderer.table(s);continue;case"blockquote":n+=this.renderer.blockquote(s);continue;case"list":n+=this.renderer.list(s);continue;case"html":n+=this.renderer.html(s);continue;case"paragraph":n+=this.renderer.paragraph(s);continue;case"text":{let i=s,a=this.renderer.text(i);for(;r+1<e.length&&"text"===e[r+1].type;)i=e[++r],a+="\n"+this.renderer.text(i);n+=t?this.renderer.paragraph({type:"paragraph",raw:a,text:a,tokens:[{type:"text",raw:a,text:a}]}):a;continue}default:{const e='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let r=0;r<e.length;r++){const i=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const e=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==e||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=e||"";continue}}const s=i;switch(s.type){case"escape":case"text":n+=t.text(s);break;case"html":n+=t.html(s);break;case"link":n+=t.link(s);break;case"image":n+=t.image(s);break;case"strong":n+=t.strong(s);break;case"em":n+=t.em(s);break;case"codespan":n+=t.codespan(s);break;case"br":n+=t.br(s);break;case"del":n+=t.del(s);break;default:{const e='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(e),"";throw new Error(e)}}}return n}}class Pd{constructor(e){Eh(this,"options"),Eh(this,"block"),this.options=e||Ih}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Od.lex:Od.lexInline}provideParser(){return this.block?Cd.parse:Cd.parseInline}}Eh(Pd,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class Nd{constructor(...e){Eh(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),Eh(this,"options",this.setOptions),Eh(this,"parse",this.parseMarkdown(!0)),Eh(this,"parseInline",this.parseMarkdown(!1)),Eh(this,"Parser",Cd),Eh(this,"Renderer",Id),Eh(this,"TextRenderer",Rd),Eh(this,"Lexer",Od),Eh(this,"Tokenizer",Gh),Eh(this,"Hooks",Pd),this.use(...e)}walkTokens(e,t){var n,r;let i=[];for(const s of e)switch(i=i.concat(t.call(this,s)),s.type){case"table":{const e=s;for(const n of e.header)i=i.concat(this.walkTokens(n.tokens,t));for(const n of e.rows)for(const e of n)i=i.concat(this.walkTokens(e.tokens,t));break}case"list":{const e=s;i=i.concat(this.walkTokens(e.items,t));break}default:{const e=s;(null==(r=null==(n=this.defaults.extensions)?void 0:n.childTokens)?void 0:r[e.type])?this.defaults.extensions.childTokens[e.type].forEach((n=>{const r=e[n].flat(1/0);i=i.concat(this.walkTokens(r,t))})):e.tokens&&(i=i.concat(this.walkTokens(e.tokens,t)))}}return i}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach((e=>{const n=vh({},e);if(n.async=this.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");const n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=this.defaults.renderer||new Id(this.defaults);for(const n in e.renderer){if(!(n in t))throw new Error(`renderer '${n}' does not exist`);if(["options","parser"].includes(n))continue;const r=n,i=e.renderer[r],s=t[r];t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=s.apply(t,e)),n||""}}n.renderer=t}if(e.tokenizer){const t=this.defaults.tokenizer||new Gh(this.defaults);for(const n in e.tokenizer){if(!(n in t))throw new Error(`tokenizer '${n}' does not exist`);if(["options","rules","lexer"].includes(n))continue;const r=n,i=e.tokenizer[r],s=t[r];t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=s.apply(t,e)),n}}n.tokenizer=t}if(e.hooks){const t=this.defaults.hooks||new Pd;for(const n in e.hooks){if(!(n in t))throw new Error(`hook '${n}' does not exist`);if(["options","block"].includes(n))continue;const r=n,i=e.hooks[r],s=t[r];Pd.passThroughHooks.has(n)?t[r]=e=>{if(this.defaults.async)return Promise.resolve(i.call(t,e)).then((e=>s.call(t,e)));const n=i.call(t,e);return s.call(t,n)}:t[r]=(...e)=>{let n=i.apply(t,e);return!1===n&&(n=s.apply(t,e)),n}}n.hooks=t}if(e.walkTokens){const t=this.defaults.walkTokens,r=e.walkTokens;n.walkTokens=function(e){let n=[];return n.push(r.call(this,e)),t&&(n=n.concat(t.call(this,e))),n}}this.defaults=vh(vh({},this.defaults),n)})),this}setOptions(e){return this.defaults=vh(vh({},this.defaults),e),this}lexer(e,t){return Od.lex(e,null!=t?t:this.defaults)}parser(e,t){return Cd.parse(e,null!=t?t:this.defaults)}parseMarkdown(e){return(t,n)=>{const r=vh({},n),i=vh(vh({},this.defaults),r),s=this.onError(!!i.silent,!!i.async);if(!0===this.defaults.async&&!1===r.async)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(null==t)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));i.hooks&&(i.hooks.options=i,i.hooks.block=e);const a=i.hooks?i.hooks.provideLexer():e?Od.lex:Od.lexInline,o=i.hooks?i.hooks.provideParser():e?Cd.parse:Cd.parseInline;if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(t):t).then((e=>a(e,i))).then((e=>i.hooks?i.hooks.processAllTokens(e):e)).then((e=>i.walkTokens?Promise.all(this.walkTokens(e,i.walkTokens)).then((()=>e)):e)).then((e=>o(e,i))).then((e=>i.hooks?i.hooks.postprocess(e):e)).catch(s);try{i.hooks&&(t=i.hooks.preprocess(t));let e=a(t,i);i.hooks&&(e=i.hooks.processAllTokens(e)),i.walkTokens&&this.walkTokens(e,i.walkTokens);let n=o(e,i);return i.hooks&&(n=i.hooks.postprocess(n)),n}catch(YR){return s(YR)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+Mh(n.message+"",!0)+"</pre>";return t?Promise.resolve(e):e}if(t)return Promise.reject(n);throw n}}}const xd=new Nd;function Dd(e,t){return xd.parse(e,t)}Dd.options=Dd.setOptions=function(e){return xd.setOptions(e),Dd.defaults=xd.defaults,Rh(Dd.defaults),Dd},Dd.getDefaults=Oh,Dd.defaults=Ih,Dd.use=function(...e){return xd.use(...e),Dd.defaults=xd.defaults,Rh(Dd.defaults),Dd},Dd.walkTokens=function(e,t){return xd.walkTokens(e,t)},Dd.parseInline=xd.parseInline,Dd.Parser=Cd,Dd.parser=Cd.parse,Dd.Renderer=Id,Dd.TextRenderer=Rd,Dd.Lexer=Od,Dd.lexer=Od.lex,Dd.Tokenizer=Gh,Dd.Hooks=Pd,Dd.parse=Dd,Dd.options,Dd.setOptions,Dd.use,Dd.walkTokens,Dd.parseInline,Cd.parse,Od.lex;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Ld(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Md={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Fd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},jd=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,$d=/[&<>"']/g;function Bd(e){return Md[e]}function Ud(e){return Fd[e]}function Hd(e){return null==e?"":String(e).replace($d,Bd)}function qd(e){return null==e?"":String(e).replace(jd,Ud)}Hd.options=qd.options={};var Gd={encode:Hd,escape:Hd,decode:qd,unescape:qd,version:"1.0.0-browser"};var Wd=function e(t){for(var n,r,i=Array.prototype.slice.call(arguments,1);i.length;)for(r in n=i.shift())n.hasOwnProperty(r)&&("[object Object]"===Object.prototype.toString.call(t[r])?t[r]=e(t[r],n[r]):t[r]=n[r]);return t},Qd=function(e){return"string"==typeof e?e.toLowerCase():e};function Vd(e,t){return e[t]=!0,e}var Yd=function(e){return e.reduce(Vd,{})},zd={uris:Yd(["background","base","cite","href","longdesc","src","usemap"])},Kd={voids:Yd(["area","br","col","hr","img","wbr","input","base","basefont","link","meta"])},Xd=Gd,Jd=Qd,Zd=Kd,ef=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,tf=/^<\s*\/\s*([\w:-]+)[^>]*>/,nf=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,rf=/^</,sf=/^<\s*\//;var af=function(e,t){for(var n,r=function(){var e=[];return e.lastItem=function(){return e[e.length-1]},e}(),i=e;e;)s();function s(){n=!0,function(){"\x3c!--"===e.substr(0,4)?(r=e.indexOf("--\x3e"))>=0&&(t.comment&&t.comment(e.substring(4,r)),e=e.substring(r+3),n=!1):sf.test(e)?a(tf,c):rf.test(e)&&a(ef,o);var r;!function(){if(!n)return;var r,i=e.indexOf("<");i>=0?(r=e.substring(0,i),e=e.substring(i)):(r=e,e="");t.chars&&t.chars(r)}()}();var r=e===i;i=e,r&&(e="")}function a(t,r){var i=e.match(t);i&&(e=e.substring(i[0].length),i[0].replace(t,r),n=!1)}function o(e,n,i,s){var a={},o=Jd(n),c=Zd.voids[o]||!!s;i.replace(nf,(function(e,t,n,r,i){a[t]=void 0===n&&void 0===r&&void 0===i?void 0:Xd.decode(n||r||i||"")})),c||r.push(o),t.start&&t.start(o,a,c)}function c(e,n){var i,s=0,a=Jd(n);if(a)for(s=r.length-1;s>=0&&r[s]!==a;s--);if(s>=0){for(i=r.length-1;i>=s;i--)t.end&&t.end(r[i]);r.length=s}}c()},of=Gd,cf=Qd,lf=zd,uf=Kd;var hf=Wd,df=af,ff=function(e,t){var n,r=t||{};return o(),{start:function(e,t,a){var o=cf(e);if(n.ignoring)return void s(o);if(-1===(r.allowedTags||[]).indexOf(o))return void s(o);if(r.filter&&!r.filter({tag:o,attrs:t}))return void s(o);i("<"),i(o),Object.keys(t).forEach((function(e){var n=t[e],s=(r.allowedClasses||{})[o]||[],a=(r.allowedAttributes||{})[o]||[],c=cf(e);("class"===c&&-1===a.indexOf(c)?(n=n.split(" ").filter((function(e){return-1!==s.indexOf(e)})).join(" ").trim()).length:-1!==a.indexOf(c)&&(!0!==lf.uris[c]||function(e){var t=e[0];if("#"===t||"/"===t)return!0;var n=e.indexOf(":");if(-1===n)return!0;var i=e.indexOf("?");if(-1!==i&&n>i)return!0;var s=e.indexOf("#");return-1!==s&&n>s||r.allowedSchemes.some(a);function a(t){return 0===e.indexOf(t+":")}}(n)))&&(i(" "),i(e),"string"==typeof n&&(i('="'),i(of.encode(n)),i('"')))})),i(a?"/>":">")},end:function(e){var t=cf(e);-1!==(r.allowedTags||[]).indexOf(t)&&!1===n.ignoring?(i("</"),i(t),i(">")):a(t)},chars:function(e){!1===n.ignoring&&i(r.transformText?r.transformText(e):e)}};function i(t){e.push(t)}function s(e){uf.voids[e]||(!1===n.ignoring?n={ignoring:e,depth:1}:n.ignoring===e&&n.depth++)}function a(e){n.ignoring===e&&--n.depth<=0&&o()}function o(){n={ignoring:!1,depth:0}}},pf={allowedAttributes:{a:["href","name","target","title","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null};function mf(e,t,n){var r=[],i=!0===n?t:hf({},pf,t),s=ff(r,i);return df(e,s),r.join("")}mf.defaults=pf;const gf=Ld(mf),yf={allowedClasses:{},allowedSchemes:["http","https","mailto","data"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label","rel"],img:["src","alt","title","atk-emoticon","aria-label","data-src","class","loading"],code:["class"],span:["class","style"]},filter:e=>([["code",/^hljs\W+language-(.*)$/],["span",/^(hljs-.*)$/],["img",/^lazyload$/]].forEach((([t,n])=>{e.tag===t&&e.attrs.class&&!n.test(e.attrs.class)&&delete e.attrs.class})),"span"===e.tag&&e.attrs.style&&!/^color:(\W+)?#[0-9a-f]{3,6};?$/i.test(e.attrs.style)&&delete e.attrs.style,!0)};function vf(e){return gf(e,yf)}var bf={exports:{}};const Ef=Ld(bf.exports=function(){function e(e,t){return e(t={exports:{}},t.exports),t.exports}var t=e((function(e){var t=e.exports=function(){return new RegExp("(?:"+t.line().source+")|(?:"+t.block().source+")","gm")};t.line=function(){return/(?:^|\s)\/\/(.+?)$/gm},t.block=function(){return/\/\*([\S\s]*?)\*\//gm}})),n=["23AC69","91C132","F19726","E8552D","1AAB8E","E1147F","2980C1","1BA1E6","9FA0A0","F19726","E30B20","E30B20","A3338B"];function r(e){return'<span style="color: slategray">'+e+"</span>"}return function(e,i){void 0===i&&(i={});var s=i.colors;void 0===s&&(s=n);var a=0,o={},c=new RegExp("("+/[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af\u0400-\u04FF]+|\w+/.source+"|"+/</.source+")|("+t().source+")","gmi");return e.replace(c,(function(e,t,n){if(n)return r(n);if("<"===t)return"&lt;";var i;o[t]?i=o[t]:(i=s[a],o[t]=i);var c='<span style="color: #'+i+'">'+t+"</span>";return a=++a%s.length,c}))}}());function Tf(e){return Ef(e)}function Sf(e){const t=new Dd.Renderer;return t.link=Af(t,t.link),t.code=_f(),t.image=kf(t,t.image,e),t}const Af=(e,t)=>n=>{const r=(e=>{try{return new URL(e).origin}catch(YR){return""}})(n.href)===window.location.origin;return t.call(e,n).replace(/^<a /,`<a target="_blank" ${r?"":'rel="noreferrer noopener nofollow"'} `)},_f=()=>({lang:e,text:t})=>{const n=e||"plaintext";let r=t;return window.hljs?n&&window.hljs.getLanguage(n)&&(r=window.hljs.highlight(n,t).value):r=Tf(t),`<pre rel="${n}">\n<code class="hljs language-${n}">${r.replace(/&amp;/g,"&")}</code>\n</pre>`},kf=(e,t,{imgLazyLoad:n})=>r=>{const i=t.call(e,r);return n?"native"===n||!0===n?i.replace(/^<img /,'<img class="lazyload" loading="lazy" '):"data-src"===n?i.replace(/^<img /,'<img class="lazyload" ').replace("src=","data-src="):i:i};let wf,Of=[];const If={gfm:!0,breaks:!0,async:!1};function Rf(){return wf}function Cf(e){var t;let n=null==(t=Rf())?void 0:t.parse(e);n||(n=function(e){return e.replace(/```\s*([^]+?.*?[^]+?[^]+?)```/g,((e,t)=>`<pre><code>${Tf(t)}</code></pre>`)).replace(/!\[(.*?)\]\((.*?)\)/g,((e,t,n)=>`<img src="${n}" alt="${t}" />`)).replace(/\[(.*?)\]\((.*?)\)/g,((e,t,n)=>`<a href="${n}" target="_blank">${t}</a>`)).replace(/\n/g,"<br>")}(e));let r=vf(n);return Of.forEach((e=>{"function"==typeof e&&(r=e(r))})),r}function Pf(...e){const t=e=>e&&"object"==typeof e&&e.constructor===Object;return e.reduce(((e,n)=>(Object.keys(null!=n?n:{}).forEach((r=>{if("__proto__"===r||"constructor"===r||"prototype"===r)return;const i=e[r],s=n[r];Array.isArray(i)&&Array.isArray(s)?e[r]=i.concat(...s):t(i)&&t(s)?e[r]=Pf(i,s):e[r]=s})),e)),{})}class Nf{constructor(e){Eh(this,"loading",!1),Eh(this,"listLastFetch"),Eh(this,"comments",[]),Eh(this,"notifies",[]),Eh(this,"page"),this.events=e}getLoading(){return this.loading}setLoading(e){this.loading=e}getListLastFetch(){return this.listLastFetch}setListLastFetch(e){this.listLastFetch=e}getComments(){return this.comments}fetchComments(e){this.events.trigger("list-fetch",e)}findComment(e){return this.comments.find((t=>t.id===e))}clearComments(){this.comments=[],this.events.trigger("list-loaded",this.comments)}loadComments(e){this.events.trigger("list-load",e),this.comments.push(...e),this.events.trigger("list-loaded",this.comments)}insertComment(e){this.comments.push(e),this.events.trigger("comment-inserted",e),this.events.trigger("list-loaded",this.comments)}updateComment(e){this.comments=this.comments.map((t=>t.id===e.id?e:t)),this.events.trigger("comment-updated",e),this.events.trigger("list-loaded",this.comments)}deleteComment(e){const t=this.comments.find((t=>t.id===e));if(!t)throw new Error(`Comment ${e} not found`);this.comments=this.comments.filter((t=>t.id!==e)),this.events.trigger("comment-deleted",t),this.events.trigger("list-loaded",this.comments)}getNotifies(){return this.notifies}updateNotifies(e){this.notifies=e,this.events.trigger("notifies-updated",this.notifies)}getPage(){return this.page}updatePage(e){this.page=e,this.events.trigger("page-loaded",e)}}function xf(e=""){const t=document.createElement("div");return t.innerHTML=e.trim(),t.firstElementChild||t}function Df(e){const t=document.createElement("div");t.innerText=e;return t.innerHTML}function Lf(e){const t=RegExp(`[?&]${e}=([^&]*)`).exec(window.location.search);return t&&decodeURIComponent(t[1].replace(/\+/g," "))}function Mf(e,t){const n=e=>{const t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+r,left:t.left+n}},r=n(e);if(!t)return r;const i=n(t);return{top:r.top-i.top,left:r.left-i.left}}function Ff(e,t){let n=e.toString();for(;n.length<t;)n=`0${n}`;return n}function jf(e,t=e=>e){try{const n=e.getTime(),r=(new Date).getTime()-n,i=Math.floor(r/864e5);if(0===i){const e=r%864e5,n=Math.floor(e/36e5);if(0===n){const n=e%36e5,r=Math.floor(n/6e4);if(0===r){const e=n%6e4,r=Math.round(e/1e3);return r<10?t("now"):`${r} ${t("seconds")}`}return`${r} ${t("minutes")}`}return`${n} ${t("hours")}`}return i<0?t("now"):i<8?`${i} ${t("days")}`:function(e){const t=Ff(e.getDate(),2),n=Ff(e.getMonth()+1,2);return`${Ff(e.getFullYear(),2)}-${n}-${t}`}(e)}catch(n){return console.error(n)," - "}}function $f(){return Th(this,null,(function*(){const e=navigator.userAgent;if(!navigator.userAgentData||!navigator.userAgentData.getHighEntropyValues)return e;const t=navigator.userAgentData;let n=null;try{n=yield t.getHighEntropyValues(["platformVersion"])}catch(i){return console.error(i),e}const r=Number(n.platformVersion.split(".")[0]);return"Windows"===t.platform&&r>=13?e.replace(/Windows NT 10.0/,"Windows NT 11.0"):"macOS"===t.platform&&r>=11?e.replace(/(Mac OS X \d+_\d+_\d+|Mac OS X)/,`Mac OS X ${n.platformVersion.replace(/\./g,"_")}`):e}))}function Bf(e){let t;try{t=new URL(e)}catch(n){return!1}return"http:"===t.protocol||"https:"===t.protocol}function Uf(e){return t=e.base,n=e.path,`${t.replace(/\/$/,"")}/${n.replace(/^\//,"")}`;var t,n}const Hf={placeholder:"Leave a comment",noComment:"No Comment",send:"Send",signIn:"Sign in",signUp:"Sign up",save:"Save",nick:"Nickname",email:"Email",link:"Website",emoticon:"Emoji",preview:"Preview",uploadImage:"Upload Image",uploadFail:"Upload Failed",commentFail:"Failed to comment",restoredMsg:"Content has been restored",onlyAdminCanReply:"Only admin can reply",uploadLoginMsg:"Please fill in your name and email to upload",counter:"{count} Comments",sortLatest:"Latest",sortOldest:"Oldest",sortBest:"Best",sortAuthor:"Author",openComment:"Open Comment",closeComment:"Close Comment",listLoadFailMsg:"Failed to load comments",listRetry:"Retry",loadMore:"Load More",admin:"Admin",reply:"Reply",voteUp:"Up",voteDown:"Down",voteFail:"Vote Failed",readMore:"Read More",actionConfirm:"Confirm",collapse:"Collapse",collapsed:"Collapsed",collapsedMsg:"This comment has been collapsed",expand:"Expand",approved:"Approved",pending:"Pending",pendingMsg:"Pending, visible only to commenter.",edit:"Edit",editCancel:"Cancel Edit",delete:"Delete",deleteConfirm:"Confirm",pin:"Pin",unpin:"Unpin",seconds:"seconds ago",minutes:"minutes ago",hours:"hours ago",days:"days ago",now:"just now",adminCheck:"Enter admin password:",captchaCheck:"Enter the CAPTCHA to continue:",confirm:"Confirm",cancel:"Cancel",msgCenter:"Messages",ctrlCenter:"Dashboard",userProfile:"Profile",noAccountPrompt:"Don't have an account?",haveAccountPrompt:"Already have an account?",forgetPassword:"Forget Password",resetPassword:"Reset Password",changePassword:"Change Password",confirmPassword:"Confirm Password",passwordMismatch:"Passwords do not match",verificationCode:"Verification Code",verifySend:"Send Code",verifyResend:"Resend",waitSeconds:"Wait {seconds}s",emailVerified:"Email has been verified",password:"Password",username:"Username",nextStep:"Next Step",skipVerify:"Skip verification",logoutConfirm:"Are you sure to logout?",accountMergeNotice:"Your email has multiple accounts with different id.",accountMergeSelectOne:"Please select one you want to merge all the data into it.",accountMergeConfirm:"All data will be merged into one account, the id is {id}.",dismiss:"Dismiss",merge:"Merge",frontend:"Frontend",backend:"Backend",loading:"Loading",loadFail:"Load Failed",editing:"Editing",editFail:"Edit Failed",deleting:"Deleting",deleteFail:"Delete Failed",reqGot:"Request got",reqAborted:"Request timed out or terminated unexpectedly",updateMsg:"Please update Artalk {name} to get the best experience!",currentVersion:"Current Version",ignore:"Ignore",open:"Open",openName:"Open {name}"},qf="ArtalkI18n",Gf={en:Hf,"en-US":Hf,"zh-CN":{placeholder:"é”®å…¥å†…å®¹...",noComment:"ã€Œæ­¤æ—¶æ— å£°èƒœæœ‰å£°ã€",send:"å‘é€",signIn:"ç™»å½•",signUp:"æ³¨å†Œ",save:"ä¿å­˜",nick:"æ˜µç§°",email:"é‚®ç®±",link:"ç½‘å€",emoticon:"è¡¨æƒ…",preview:"é¢„è§ˆ",uploadImage:"ä¸Šä¼ å›¾ç‰‡",uploadFail:"ä¸Šä¼ å¤±è´¥",commentFail:"è¯„è®ºå¤±è´¥",restoredMsg:"å†…å®¹å·²è‡ªåŠ¨æ¢å¤",onlyAdminCanReply:"ä»…ç®¡ç†å‘˜å¯è¯„è®º",uploadLoginMsg:"å¡«å…¥ä½ çš„åå­—é‚®ç®±æ‰èƒ½ä¸Šä¼ å“¦",counter:"{count} æ¡è¯„è®º",sortLatest:"æœ€æ–°",sortOldest:"æœ€æ—©",sortBest:"æœ€çƒ­",sortAuthor:"ä½œè€…",openComment:"æ‰“å¼€è¯„è®º",closeComment:"å…³é—­è¯„è®º",listLoadFailMsg:"æ— æ³•è·å–è¯„è®ºåˆ—è¡¨æ•°æ®",listRetry:"ç‚¹å‡»é‡æ–°è·å–",loadMore:"åŠ è½½æ›´å¤š",admin:"ç®¡ç†å‘˜",reply:"å›å¤",voteUp:"èµåŒ",voteDown:"åå¯¹",voteFail:"æŠ•ç¥¨å¤±è´¥",readMore:"é˜…è¯»æ›´å¤š",actionConfirm:"ç¡®è®¤æ“ä½œ",collapse:"æŠ˜å ",collapsed:"å·²æŠ˜å ",collapsedMsg:"è¯¥è¯„è®ºå·²è¢«ç³»ç»Ÿæˆ–ç®¡ç†å‘˜æŠ˜å ",expand:"å±•å¼€",approved:"å·²å®¡",pending:"å¾…å®¡",pendingMsg:"å®¡æ ¸ä¸­ï¼Œä»…æœ¬äººå¯è§ã€‚",edit:"ç¼–è¾‘",editCancel:"å–æ¶ˆç¼–è¾‘",delete:"åˆ é™¤",deleteConfirm:"ç¡®è®¤åˆ é™¤",pin:"ç½®é¡¶",unpin:"å–æ¶ˆç½®é¡¶",seconds:"ç§’å‰",minutes:"åˆ†é’Ÿå‰",hours:"å°æ—¶å‰",days:"å¤©å‰",now:"åˆšåˆš",adminCheck:"é”®å…¥å¯†ç æ¥éªŒè¯ç®¡ç†å‘˜èº«ä»½ï¼š",captchaCheck:"é”®å…¥éªŒè¯ç ç»§ç»­ï¼š",confirm:"ç¡®è®¤",cancel:"å–æ¶ˆ",msgCenter:"é€šçŸ¥ä¸­å¿ƒ",ctrlCenter:"æ§åˆ¶ä¸­å¿ƒ",userProfile:"ä¸ªäººèµ„æ–™",noAccountPrompt:"æ²¡æœ‰è´¦å·ï¼Ÿ",haveAccountPrompt:"å·²æœ‰è´¦å·ï¼Ÿ",forgetPassword:"å¿˜è®°å¯†ç ",resetPassword:"é‡ç½®å¯†ç ",changePassword:"ä¿®æ”¹å¯†ç ",confirmPassword:"ç¡®è®¤å¯†ç ",passwordMismatch:"ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´",verificationCode:"éªŒè¯ç ",verifySend:"å‘é€éªŒè¯ç ",verifyResend:"é‡æ–°å‘é€",waitSeconds:"ç­‰å¾… {seconds}ç§’",emailVerified:"é‚®ç®±å·²éªŒè¯",password:"å¯†ç ",username:"ç”¨æˆ·å",nextStep:"ä¸‹ä¸€æ­¥",skipVerify:"è·³è¿‡éªŒè¯",logoutConfirm:"ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ",accountMergeNotice:"æ‚¨çš„ç”µå­é‚®ä»¶ä¸‹æœ‰å¤šä¸ªä¸åŒ ID çš„è´¦æˆ·ã€‚",accountMergeSelectOne:"è¯·é€‰æ‹©å°†æ‰€æœ‰æ•°æ®åˆå¹¶åˆ°å…¶ä¸­çš„ä¸€ä¸ªã€‚",accountMergeConfirm:"æ‰€æœ‰æ•°æ®å°†åˆå¹¶åˆ° ID ä¸º {id} çš„è´¦æˆ·ä¸­ã€‚",dismiss:"å¿½ç•¥",merge:"åˆå¹¶",frontend:"å‰ç«¯",backend:"åç«¯",loading:"åŠ è½½ä¸­",loadFail:"åŠ è½½å¤±è´¥",editing:"ä¿®æ”¹ä¸­",editFail:"ä¿®æ”¹å¤±è´¥",deleting:"åˆ é™¤ä¸­",deleteFail:"åˆ é™¤å¤±è´¥",reqGot:"è¯·æ±‚å“åº”",reqAborted:"è¯·æ±‚è¶…æ—¶æˆ–æ„å¤–ç»ˆæ­¢",updateMsg:"è¯·æ›´æ–° Artalk {name} ä»¥è·å¾—æ›´å¥½çš„ä½“éªŒï¼",currentVersion:"å½“å‰ç‰ˆæœ¬",ignore:"å¿½ç•¥",open:"æ‰“å¼€",openName:"æ‰“å¼€{name}"}};function Wf(e){return e=e.replace(/^([a-zA-Z]+)(-[a-zA-Z]+)?$/,((e,t,n)=>t.toLowerCase()+(n||"").toUpperCase())),Gf[e]?Gf[e]:window[qf]&&window[qf][e]?window[qf][e]:Gf.en}let Qf="en",Vf=Wf(Qf);function Yf(e){e!==Qf&&(Qf=e,Vf="string"==typeof e?Wf(e):e)}function zf(e,t={}){let n=(null==Vf?void 0:Vf[e])||e;return n=n.replace(/\{\s*(\w+?)\s*\}/g,((e,n)=>t[n]||"")),Df(n)}class Kf{constructor(){Eh(this,"events",[])}on(e,t,n={}){this.events.push(vh({name:e,handler:t},n))}off(e,t){t&&(this.events=this.events.filter((n=>!(n.name===e&&n.handler===t))))}trigger(e,t){this.events.slice(0).filter((t=>t.name===e&&"function"==typeof t.handler)).forEach((n=>{n.once&&this.off(e,n.handler),n.handler(t)}))}}const Xf={el:"",pageKey:"",pageTitle:"",server:"",site:"",placeholder:"",noComment:"",sendBtn:"",darkMode:!1,editorTravel:!0,flatMode:"auto",nestMax:2,nestSort:"DATE_ASC",emoticons:"https://cdn.jsdelivr.net/gh/ArtalkJS/Emoticons/grps/default.json",vote:!0,voteDown:!1,uaBadge:!0,listSort:!0,preview:!0,countEl:".artalk-comment-count",pvEl:".artalk-pv-count",statPageKeyAttr:"data-page-key",gravatar:{mirror:"https://www.gravatar.com/avatar/",params:"sha256=1&d=mp&s=240"},pagination:{pageSize:20,readMore:!0,autoLoad:!0},heightLimit:{content:300,children:400,scrollable:!1},imgUpload:!0,reqTimeout:15e3,versionCheck:!0,useBackendConf:!0,locale:"en"};function Jf(e,t=!1){const n=t?Pf(Xf,e):e;if(n.el&&"string"==typeof n.el)try{const e=document.querySelector(n.el);if(!e)throw Error(`Target element "${n.el}" was not found.`);n.el=e}catch(YR){throw console.error(YR),new Error("Please check your Artalk `el` config.")}return""===n.pageKey&&(n.pageKey=`${window.location.pathname}`),""===n.pageTitle&&(n.pageTitle=`${document.title}`),n.server&&(n.server=n.server.replace(/\/$/,"").replace(/\/api\/?$/,"")),"auto"===n.locale&&(n.locale=navigator.language),"auto"===n.flatMode&&(n.flatMode=window.matchMedia("(max-width: 768px)").matches),"number"==typeof n.nestMax&&Number(n.nestMax)<=1&&(n.flatMode=!0),n}function Zf(e,t){return{baseURL:`${e.server}/api/v2`,siteName:e.site||"",pageKey:e.pageKey||"",pageTitle:e.pageTitle||"",timeout:e.reqTimeout,getApiToken:()=>null==t?void 0:t.get("user").getData().token,userInfo:(null==t?void 0:t.get("user").checkHasBasicUserInfo())?{name:null==t?void 0:t.get("user").getData().name,email:null==t?void 0:t.get("user").getData().email}:void 0,handlers:null==t?void 0:t.getApiHandlers()}}function ep(e,t,n){let r=null;const i=()=>{const i=(()=>{const n=e.getConf(),r={};return t.forEach((e=>{r[e]=n[e]})),r})();var s,a;(null==r||(s=r,a=i,!(JSON.stringify(s)===JSON.stringify(a))))&&(r=i,n(i))};e.on("mounted",i),e.on("updated",i)}class tp{constructor(e){Eh(this,"conf"),Eh(this,"data"),Eh(this,"$root"),Eh(this,"events",new Kf),Eh(this,"mounted",!1),Eh(this,"apiHandlers",null),Eh(this,"getCommentList",this.getCommentNodes),Eh(this,"getCommentDataList",this.getComments),this.conf=e,this.$root=e.el,this.$root.classList.add("artalk"),this.$root.innerHTML="",e.darkMode&&this.$root.classList.add("atk-dark-mode"),this.data=new Nf(this.events),this.on("mounted",(()=>{this.mounted=!0}))}inject(e,t){this[e]=t}get(e){return this[e]}getApi(){return new wh(Zf(this.conf,this))}getApiHandlers(){return this.apiHandlers||(this.apiHandlers=function(e){const t=function(){const e=[];return{add:(t,n)=>{e.push({action:t,handler:n})},remove:t=>{const n=e.findIndex((e=>e.action===t));-1!==n&&e.splice(n,1)},get:()=>e}}();return t.add("need_captcha",(t=>e.checkCaptcha(t))),t.add("need_login",(()=>e.checkAdmin({}))),t}(this)),this.apiHandlers}getData(){return this.data}replyComment(e,t){this.editor.setReply(e,t)}editComment(e,t){this.editor.setEditComment(e,t)}fetch(e){this.data.fetchComments(e)}reload(){this.data.fetchComments({offset:0})}listGotoFirst(){this.events.trigger("list-goto-first")}getCommentNodes(){return this.list.getCommentNodes()}getComments(){return this.data.getComments()}editorShowLoading(){this.editor.showLoading()}editorHideLoading(){this.editor.hideLoading()}editorShowNotify(e,t){this.editor.showNotify(e,t)}editorResetState(){this.editor.resetState()}showSidebar(e){this.sidebarLayer.show(e)}hideSidebar(){this.sidebarLayer.hide()}checkAdmin(e){return this.checkerLauncher.checkAdmin(e)}checkCaptcha(e){return this.checkerLauncher.checkCaptcha(e)}on(e,t){this.events.on(e,t)}off(e,t){this.events.off(e,t)}trigger(e,t){this.events.trigger(e,t)}$t(e,t={}){return zf(e,t)}setDarkMode(e){this.updateConf({darkMode:e})}updateConf(e){this.conf=Pf(this.conf,Jf(e,!1)),this.mounted&&this.events.trigger("updated",this.conf)}getConf(){return this.conf}getEl(){return this.$root}getMarked(){return Rf()}watchConf(e,t){ep(this,e,t)}}function np(e,t){let n=e.querySelector(":scope > .atk-loading");n||(n=xf('<div class="atk-loading" style="display: none;">\n      <div class="atk-loading-spinner">\n        <svg viewBox="25 25 50 50"><circle cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"></circle></svg>\n      </div>\n    </div>'),(null==t?void 0:t.transparentBg)&&(n.style.background="transparent"),e.appendChild(n)),n.style.display="";const r=n.querySelector(".atk-loading-spinner");r&&(r.style.display="none",window.setTimeout((()=>{r.isConnected&&(r.style.display="")}),500))}function rp(e){const t=e.querySelector(":scope > .atk-loading");t&&(t.style.display="none")}function ip(e,t){e?np(t):rp(t)}function sp(e,t=!0,n){let r;if(n){const t=n.getBoundingClientRect();r=e.getBoundingClientRect().top-t.top+n.scrollTop-n.clientHeight/2+e.clientHeight/2}else{const t=e.getBoundingClientRect();r=t.top+window.scrollY-(window.innerHeight/2-t.height/2)}const i={top:r,left:0,behavior:"instant"};n?n.scroll(i):window.scroll(i)}function ap(e,t){!function(e,t,n="in"){e.classList.add(`atk-fade-${n}`);const r=()=>{e.classList.remove(`atk-fade-${n}`),e.removeEventListener("animationend",r)};e.addEventListener("animationend",r)}(e,0,"in")}function op(e,t,n='<span class="atk-error-title">Artalk Error</span>'){let r=e.querySelector(".atk-error-layer");if(null===t)return void(null!==r&&r.remove());r||(r=xf(`<div class="atk-error-layer">${n}<span class="atk-error-text"></span></div>`),e.appendChild(r));const i=r.querySelector(".atk-error-text");i.innerHTML="",null!==t&&(t instanceof HTMLElement?i.appendChild(t):i.innerText=t)}function cp(e){const t=xf('<div class="atk-checker-iframe-wrap"></div>'),n=xf('<iframe class="atk-fade-in" referrerpolicy="strict-origin-when-cross-origin"></iframe>');n.style.display="none",np(t,{transparentBg:!0}),n.src=e.getOpts().getCaptchaIframeURL(),n.onload=()=>{n.style.display="",rp(t)},t.append(n);const r=xf('<div class="atk-close-btn"><i class="atk-icon atk-icon-close"></i></div>');t.append(r),e.hideInteractInput();let i=!1;return function t(){return Th(this,null,(function*(){var n;if(yield(n=1e3,new Promise((e=>{window.setTimeout((()=>{e(null)}),n)}))),i)return;let r=!1;try{r=(yield e.getApi().captcha.getCaptchaStatus()).data.is_pass}catch(YR){r=!1}r?e.triggerSuccess():t()}))}(),r.onclick=()=>{i=!0,e.cancel()},t}const lp={request:(e,t)=>e.getApi().captcha.verifyCaptcha({value:t}),body:e=>e.get("iframe")?cp(e):function(e){const t=xf(`<span><img class="atk-captcha-img" src="${e.get("img_data")||""}">${zf("captchaCheck")}</span>`);return t.querySelector(".atk-captcha-img").onclick=()=>{const n=t.querySelector(".atk-captcha-img");e.getApi().captcha.getCaptcha().then((e=>{n.setAttribute("src",e.data.img_data)})).catch((e=>{console.error("Failed to get captcha image ",e)}))},t}(e),onSuccess(e,t,n,r){e.set("val",n)},onError(e,t,n,r){r.querySelector(".atk-captcha-img").click(),r.querySelector('input[type="text"]').value=""}},up={inputType:"password",request(e,t){return Th(this,null,(function*(){return(yield e.getApi().user.login({name:e.getUser().getData().name,email:e.getUser().getData().email,password:t})).data}))},body:e=>xf(`<span>${zf("adminCheck")}</span>`),onSuccess(e,t,n,r){e.getUser().update({is_admin:!0,token:t.token}),e.getOpts().onReload()},onError(e,t,n,r){}};class hp{constructor(e){Eh(this,"$el"),Eh(this,"$content"),Eh(this,"$actions"),this.$el=xf('<div class="atk-layer-dialog-wrap">\n        <div class="atk-layer-dialog">\n          <div class="atk-layer-dialog-content"></div>\n          <div class="atk-layer-dialog-actions"></div>\n        </div>\n      </div>'),this.$actions=this.$el.querySelector(".atk-layer-dialog-actions"),this.$content=this.$el.querySelector(".atk-layer-dialog-content"),this.$content.appendChild(e)}setYes(e){const t=xf(`<button data-action="confirm">${zf("confirm")}</button>`);return t.onclick=this.onBtnClick(e),this.$actions.appendChild(t),this}setNo(e){const t=xf(`<button data-action="cancel">${zf("cancel")}</button>`);return t.onclick=this.onBtnClick(e),this.$actions.appendChild(t),this}onBtnClick(e){return t=>{const n=e(t.currentTarget,this);void 0!==n&&!0!==n||this.$el.remove()}}}function dp(e){return t=>new Promise(((n,r)=>{const i=t.onCancel;t.onCancel=()=>{i&&i(),r(new Error("user canceled the checker"))};const s=t.onSuccess;t.onSuccess=()=>{s&&s(),n()},e(t)}))}class fp{constructor(e){Eh(this,"checkCaptcha",dp((e=>{this.fire(lp,e,(t=>{t.set("img_data",e.img_data),t.set("iframe",e.iframe)}))}))),Eh(this,"checkAdmin",dp((e=>{this.fire(up,e)}))),this.opts=e}fire(e,t,n){const r=this.opts.getCtx().get("layerManager").create(`checker-${(new Date).getTime()}`);r.show();const i=()=>{r.destroy()},s={};let a=!1;const o={set:(e,t)=>{s[e]=t},get:e=>s[e],getOpts:()=>this.opts,getUser:()=>this.opts.getCtx().get("user"),getApi:()=>this.opts.getApi(),hideInteractInput:()=>{a=!0},triggerSuccess:()=>{i(),e.onSuccess&&e.onSuccess(o,"","",c),t.onSuccess&&t.onSuccess()},cancel:()=>{i(),t.onCancel&&t.onCancel()}};n&&n(o);const c=xf();c.appendChild(e.body(o));const l=xf(`<input id="check" type="${e.inputType||"text"}" autocomplete="off" required placeholder="">`);let u;c.appendChild(l),setTimeout((()=>l.focus()),80),l.onkeyup=e=>{"Enter"!==e.key&&13!==e.keyCode||(e.preventDefault(),r.getEl().querySelector('button[data-action="confirm"]').click())};const h=new hp(c);h.setYes((n=>{const r=l.value.trim();u||(u=n.innerText);const s=()=>{n.innerText=u||"",n.classList.remove("error")};return n.innerText=`${zf("loading")}...`,e.request(o,r).then((n=>{i(),e.onSuccess&&e.onSuccess(o,n,r,c),t.onSuccess&&t.onSuccess()})).catch((t=>{var i;i=String(t.message||String(t)),n.innerText=i,n.classList.add("error"),e.onError&&e.onError(o,t,r,c);const a=setTimeout((()=>s()),3e3);l.onfocus=()=>{s(),clearTimeout(a)}})),!1})),h.setNo((()=>(i(),t.onCancel&&t.onCancel(),!1))),a&&(l.style.display="none",h.$el.querySelector(".atk-layer-dialog-actions").style.display="none"),r.getEl().append(h.$el),t.onMount&&t.onMount(h.$el)}}class pp{constructor(e){Eh(this,"$el"),this.ctx=e}get conf(){return this.ctx.conf}getEl(){return this.$el}}const mp={$header:".atk-header",$name:'.atk-header [name="name"]',$email:'.atk-header [name="email"]',$link:'.atk-header [name="link"]',$textareaWrap:".atk-textarea-wrap",$textarea:".atk-textarea",$bottom:".atk-bottom",$submitBtn:".atk-send-btn",$notifyWrap:".atk-notify-wrap",$bottomLeft:".atk-bottom-left",$stateWrap:".atk-state-wrap",$plugBtnWrap:".atk-plug-btn-wrap",$plugPanelWrap:".atk-plug-panel-wrap"};class gp{constructor(e){Eh(this,"$btn"),Eh(this,"$panel"),Eh(this,"editorStateEffectWhen"),this.kit=e}useBtn(e="<div></div>"){return this.$btn=xf(`<span class="atk-plug-btn">${e}</span>`),this.$btn}usePanel(e="<div></div>"){return this.$panel=xf(e),this.$panel}useContentTransformer(e){this.contentTransformer=e}usePanelShow(e){this.kit.useEvents().on("panel-show",(t=>{t===this&&e()}))}usePanelHide(e){this.kit.useEvents().on("panel-hide",(t=>{t===this&&e()}))}useEditorStateEffect(e,t){this.editorStateEffectWhen=e,this.editorStateEffect=t}}class yp extends gp{constructor(){super(...arguments),Eh(this,"isMoved",!1)}move(e){if(this.isMoved)return;this.isMoved=!0;const t=this.kit.useUI().$el;t.after(xf('<div class="atk-editor-travel-placeholder"></div>'));const n=xf("<div></div>");e.after(n),n.replaceWith(t),t.classList.add("atk-fade-in"),t.classList.add("editor-traveling")}back(){var e;this.isMoved&&(this.isMoved=!1,null==(e=this.kit.useGlobalCtx().$root.querySelector(".atk-editor-travel-placeholder"))||e.replaceWith(this.kit.useUI().$el),this.kit.useUI().$el.classList.remove("editor-traveling"))}}class vp{constructor(e){Eh(this,"stateCurt","normal"),Eh(this,"stateUnmountFn",null),this.editor=e}get(){return this.stateCurt}switch(e,t){var n,r,i,s,a;if(this.stateUnmountFn&&(this.stateUnmountFn(),this.stateUnmountFn=null,null==(r=null==(n=this.editor.getPlugs())?void 0:n.get(yp))||r.back()),"normal"!==e&&t){let n=t.$comment;this.editor.conf.flatMode||(n=n.querySelector(".atk-footer")),null==(s=null==(i=this.editor.getPlugs())?void 0:i.get(yp))||s.move(n);const r=this.editor.ctx.conf.scrollRelativeTo&&this.editor.ctx.conf.scrollRelativeTo();sp(this.editor.getUI().$el,!0,r);const o=null==(a=this.editor.getPlugs())?void 0:a.getPlugs().find((t=>t.editorStateEffectWhen===e));o&&o.editorStateEffect&&(this.stateUnmountFn=o.editorStateEffect(t.comment))}this.stateCurt=e}}class bp extends pp{constructor(e){super(e),Eh(this,"ui"),Eh(this,"state"),this.ui=function(){const e=xf('<div class="atk-main-editor">\n  <div class="atk-header">\n    <input name="name" class="atk-name" type="text" required="required" />\n    <input name="email" class="atk-email" type="email" required="required" />\n    <input name="link" class="atk-link" type="url" />\n  </div>\n  <div class="atk-textarea-wrap">\n    <textarea class="atk-textarea"></textarea>\n  </div>\n  <div class="atk-plug-panel-wrap" style="display: none"></div>\n  <div class="atk-bottom">\n    <div class="atk-item atk-bottom-left">\n      <span class="atk-state-wrap"></span>\n      <span class="atk-plug-btn-wrap"></span>\n    </div>\n    <div class="atk-item">\n      <button type="button" class="atk-send-btn"></button>\n    </div>\n  </div>\n  <div class="atk-notify-wrap"></div>\n</div>\n'),t={$el:e};return Object.entries(mp).forEach((([n,r])=>{t[n]=e.querySelector(r)})),t}(),this.$el=this.ui.$el,this.state=new vp(this)}getUI(){return this.ui}getPlugs(){return this.ctx.get("editorPlugs")}getState(){return this.state.get()}getHeaderInputEls(){return{name:this.ui.$name,email:this.ui.$email,link:this.ui.$link}}getContentFinal(){let e=this.getContentRaw();const t=this.getPlugs();return t&&(e=t.getTransformedContent(e)),e}getContentRaw(){return this.ui.$textarea.value||""}getContentMarked(){return Cf(this.getContentFinal())}setContent(e){var t;this.ui.$textarea.value=e,null==(t=this.getPlugs())||t.getEvents().trigger("content-updated",e)}insertContent(e){if(document.selection)this.ui.$textarea.focus(),document.selection.createRange().text=e,this.ui.$textarea.focus();else if(this.ui.$textarea.selectionStart||0===this.ui.$textarea.selectionStart){const t=this.ui.$textarea.selectionStart,n=this.ui.$textarea.selectionEnd,r=this.ui.$textarea.scrollTop;this.setContent(this.ui.$textarea.value.substring(0,t)+e+this.ui.$textarea.value.substring(n,this.ui.$textarea.value.length)),this.ui.$textarea.focus(),this.ui.$textarea.selectionStart=t+e.length,this.ui.$textarea.selectionEnd=t+e.length,this.ui.$textarea.scrollTop=r}else this.ui.$textarea.focus(),this.ui.$textarea.value+=e}focus(){this.ui.$textarea.focus()}reset(){this.setContent(""),this.resetState()}resetState(){this.state.switch("normal")}setReply(e,t){this.state.switch("reply",{comment:e,$comment:t})}setEditComment(e,t){this.state.switch("edit",{comment:e,$comment:t})}showNotify(e,t){!function(e,t,n){const r=xf(`<div class="atk-notify atk-fade-in" style="background-color: ${{s:"#57d59f",e:"#ff6f6c",w:"#ffc721",i:"#2ebcfc"}[n]}"><span class="atk-notify-content"></span></div>`);r.querySelector(".atk-notify-content").innerHTML=Df(t).replace("\n","<br/>"),e.appendChild(r);const i=()=>{r.classList.add("atk-fade-out"),setTimeout((()=>{r.remove()}),200)};let s;s=window.setTimeout((()=>{i()}),3e3),r.addEventListener("click",(()=>{i(),window.clearTimeout(s)}))}(this.ui.$notifyWrap,e,t)}showLoading(){np(this.ui.$el)}hideLoading(){rp(this.ui.$el)}submit(){const e=()=>this.ctx.trigger("editor-submit");this.ctx.conf.beforeSubmit?this.ctx.conf.beforeSubmit(this,e):e()}}class Ep extends pp{constructor(e){super(e),Eh(this,"layer"),Eh(this,"$header"),Eh(this,"$closeBtn"),Eh(this,"$iframeWrap"),Eh(this,"$iframe"),Eh(this,"refreshWhenShow",!0),Eh(this,"animTimer"),this.$el=xf('<div class="atk-sidebar-layer">\n  <div class="atk-sidebar-inner">\n    <div class="atk-sidebar-header">\n      <div class="atk-sidebar-close">\n        <i class="atk-icon atk-icon-close-slim"></i>\n      </div>\n    </div>\n    <div class="atk-sidebar-iframe-wrap"></div>\n  </div>\n</div>\n'),this.$header=this.$el.querySelector(".atk-sidebar-header"),this.$closeBtn=this.$header.querySelector(".atk-sidebar-close"),this.$iframeWrap=this.$el.querySelector(".atk-sidebar-iframe-wrap"),this.$closeBtn.onclick=()=>{this.hide()},this.ctx.on("user-changed",(()=>{this.refreshWhenShow=!0}))}show(){return Th(this,arguments,(function*(e={}){if(this.$el.style.transform="",this.initLayer(),this.layer.show(),this.refreshWhenShow)this.refreshWhenShow=!1,this.$iframeWrap.innerHTML="",this.$iframe=this.createIframe(e.view),this.$iframeWrap.append(this.$iframe);else{const e=this.$iframe,t=e.src;this.getDarkMode()!==t.includes("&darkMode=1")&&this.iframeLoad(e,t.replace(/&darkMode=\d/,`&darkMode=${Number(this.getDarkMode())}`))}this.authCheck({onSuccess:()=>this.show(e)}),this.animTimer=setTimeout((()=>{this.animTimer=void 0,this.$el.style.transform="translate(0, 0)",setTimeout((()=>{this.ctx.getData().updateNotifies([])}),0),this.ctx.trigger("sidebar-show")}),100)}))}hide(){var e;null==(e=this.layer)||e.hide()}authCheck(e){return Th(this,null,(function*(){const t=(yield this.ctx.getApi().user.getUserStatus(vh({},this.ctx.getApi().getUserFields()))).data;t.is_admin&&!t.is_login&&(this.refreshWhenShow=!0,this.ctx.checkAdmin({onSuccess:()=>{setTimeout((()=>{e.onSuccess()}),500)},onCancel:()=>{this.hide()}}),this.hide())}))}initLayer(){this.layer||(this.layer=this.ctx.get("layerManager").create("sidebar",this.$el),this.layer.setOnAfterHide((()=>{this.ctx.editorResetState(),this.animTimer&&clearTimeout(this.animTimer),this.$el.style.transform="",this.ctx.trigger("sidebar-hide")})))}createIframe(e){const t=xf('<iframe referrerpolicy="strict-origin-when-cross-origin"></iframe>'),n=Uf({base:this.ctx.conf.server,path:"/sidebar/"}),r={pageKey:this.conf.pageKey,site:this.conf.site||"",user:JSON.stringify(this.ctx.get("user").getData()),time:+new Date};e&&(r.view=e),r.darkMode=this.getDarkMode()?"1":"0";const i=new URLSearchParams(r);return this.iframeLoad(t,`${n}?${i.toString()}`),t}getDarkMode(){return"auto"===this.conf.darkMode?window.matchMedia("(prefers-color-scheme: dark)").matches:this.conf.darkMode}iframeLoad(e,t){e.src=t,np(this.$iframeWrap),e.onload=()=>{rp(this.$iframeWrap)}}}const Tp=e=>({import:t=>{(function(e,t="DATE_DESC",n=2){const r=[];e.filter((e=>0===e.rid)).forEach((t=>{const i={id:t.id,comment:t,children:[],level:1};i.parent=i,r.push(i),function t(r){const i=e.filter((e=>e.rid===r.id));0!==i.length&&(r.level>=n&&(r=r.parent),i.forEach((e=>{const n={id:e.id,comment:e,children:[],parent:r,level:r.level+1};r.children.push(n),t(n)})))}(i)}));const i=(n,r)=>{let i=n.id-r.id;return"DATE_ASC"===t?i=+new Date(n.comment.date)-+new Date(r.comment.date):"DATE_DESC"===t?i=+new Date(r.comment.date)-+new Date(n.comment.date):"SRC_INDEX"===t?i=e.indexOf(n.comment)-e.indexOf(r.comment):"VOTE_UP_DESC"===t&&(i=r.comment.vote_up-n.comment.vote_up),i};return function e(t){t.forEach((t=>{t.children=t.children.sort(i),e(t.children)}))}(r),r})(t,e.nestSortBy,e.nestMax).forEach((n=>{var r;const i=e.createCommentNode(n.comment);null==(r=e.$commentsWrap)||r.appendChild(i.getEl()),i.getRender().playFadeAnim();const s=(n,r)=>{r.children.forEach((r=>{const i=t.find((e=>e.id===r.comment.rid)),a=r.comment,o=e.createCommentNode(a,i);n.putChild(o),s(o,r)}))};s(i,n),i.getRender().checkHeightLimit()}))},insert:(t,n)=>{var r;const i=e.createCommentNode(t,n);if(0===t.rid)null==(r=e.$commentsWrap)||r.prepend(i.getEl());else{const n=e.findCommentNode(t.rid);n&&(n.putChild(i,"DATE_ASC"===e.nestSortBy?"append":"prepend"),i.getParents().forEach((e=>{e.getRender().heightLimitRemoveForChildren()})))}i.getRender().checkHeightLimit(),i.scrollIntoView(),i.getRender().playFadeAnim()}});function Sp(e,t,n,r){n.is_collapsed&&(n.is_allow_reply=!1);const i=e.createCommentNode(n,r);if(n.visible){const n=i.getEl(),r=e.$commentsWrap;"append"===t&&(null==r||r.append(n)),"prepend"===t&&(null==r||r.prepend(n)),i.getRender().playFadeAnim()}return i.getRender().checkHeightLimit(),i}class Ap{constructor(e){this.options=e}getStrategy(){return this.options.flatMode?(e=this.options,{import:t=>{t.forEach((n=>{const r=0===n.rid?void 0:t.find((e=>e.id===n.rid));Sp(e,"append",n,r)}))},insert:(t,n)=>{Sp(e,"prepend",t,n).scrollIntoView()}}):Tp(this.options);var e}import(e){this.getStrategy().import(e)}insert(e,t){this.getStrategy().insert(e,t)}}function _p(e,t){t.forEach((({el:t,max:n,imgCheck:r})=>{if(!t)return;r&&(t.style.maxHeight=`${n+1}px`);let i=!1;const s=()=>{if(i)return;if(function(e){return parseFloat(getComputedStyle(e,null).height.replace("px",""))||0}(t)<=n)return;e.scrollable?function(e){if(!e.el)return;if(e.el.classList.contains(Op))return;e.el.classList.add(Op),e.el.style.height=`${e.max}px`}({el:t,max:n}):function(e){if(!e.el)return;if(!e.max)return;if(e.el.classList.contains(kp))return;e.el.classList.add(kp),e.el.style.height=`${e.max}px`,e.el.style.overflow="hidden";const t=xf(`<div class="atk-height-limit-btn">${zf("readMore")}</span>`);t.onclick=t=>{t.stopPropagation(),wp(e.el),e.afterExpandBtnClick(t)},e.el.append(t)}({el:t,max:n,afterExpandBtnClick:()=>{var t;i=!0,null==(t=e.afterExpandBtnClick)||t.call(e)}})};if(s(),r){const e=t.querySelectorAll(".atk-content img");0===e.length&&(t.style.maxHeight=""),e.forEach((e=>{e.onload=()=>s()}))}}))}const kp="atk-height-limit";function wp(e){e&&e.classList.contains(kp)&&(e.classList.remove(kp),Array.from(e.children).forEach((e=>{e.classList.contains("atk-height-limit-btn")&&e.remove()})),e.style.height="",e.style.maxHeight="",e.style.overflow="")}const Op="atk-height-limit-scroll";function Ip(e){if(e.$headerNick=e.$el.querySelector(".atk-nick"),e.data.link){const t=xf('<a target="_blank" rel="noreferrer noopener nofollow"></a>');t.innerText=e.data.nick,t.href=Bf(e.data.link)?e.data.link:`https://${e.data.link}`,e.$headerNick.append(t)}else e.$headerNick.innerText=e.data.nick}function Rp(e){e.$headerBadgeWrap=e.$el.querySelector(".atk-badge-wrap"),e.$headerBadgeWrap.innerHTML="";const t=e.data.badge_name,n=e.data.badge_color;if(t){const r=xf('<span class="atk-badge"></span>');r.innerText=t.replace("ç®¡ç†å‘˜",zf("admin")),r.style.backgroundColor=n||"",e.$headerBadgeWrap.append(r)}else if(e.data.is_verified){const t=xf(`<span class="atk-verified-icon" title="${zf("emailVerified")}"></span>`);e.$headerBadgeWrap.append(t)}if(e.data.is_pinned){const t=xf(`<span class="atk-pinned-badge">${zf("pin")}</span>`);e.$headerBadgeWrap.append(t)}}function Cp(e){const t=e.$el.querySelector(".atk-date");t.innerText=e.comment.getDateFormatted(),t.setAttribute("data-atk-comment-date",String(+new Date(e.data.date)))}function Pp(e){if(!e.opts.uaBadge&&!e.data.ip_region)return;let t=e.$header.querySelector("atk-ua-wrap");if(t||(t=xf('<span class="atk-ua-wrap"></span>'),e.$header.append(t)),t.innerHTML="",e.data.ip_region){const n=xf('<span class="atk-region-badge"></span>');n.innerText=e.data.ip_region,t.append(n)}if(e.opts.uaBadge){const{browser:n,os:r}=e.comment.getUserUA();if(String(n).trim()){const e=xf('<span class="atk-ua ua-browser"></span>');e.innerText=n,t.append(e)}if(String(r).trim()){const e=xf('<span class="atk-ua ua-os"></span>');e.innerText=r,t.append(e)}}}class Np{constructor(e){Eh(this,"opts"),Eh(this,"$el"),Eh(this,"isLoading",!1),Eh(this,"msgRecTimer"),Eh(this,"msgRecTimerFunc"),Eh(this,"isConfirming",!1),Eh(this,"confirmRecTimer"),this.$el=xf('<span class="atk-common-action-btn"></span>'),this.opts="object"!=typeof e?{text:e}:e,this.$el.innerText=this.getText(),this.opts.adminOnly&&this.$el.setAttribute("atk-only-admin-show","")}get isMessaging(){return!!this.msgRecTimer}appendTo(e){return e.append(this.$el),this}getText(){return"string"==typeof this.opts.text?this.opts.text:this.opts.text()}setClick(e){this.$el.onclick=t=>{if(t.stopPropagation(),!this.isLoading){if(this.opts.confirm&&!this.isMessaging){const e=()=>{this.isConfirming=!1,this.$el.classList.remove("atk-btn-confirm"),this.$el.innerText=this.getText()};if(!this.isConfirming)return this.isConfirming=!0,this.$el.classList.add("atk-btn-confirm"),this.$el.innerText=this.opts.confirmText||zf("actionConfirm"),void(this.confirmRecTimer=window.setTimeout((()=>e()),5e3));this.confirmRecTimer&&window.clearTimeout(this.confirmRecTimer),e()}if(this.msgRecTimer)return this.fireMsgRecTimer(),void this.clearMsgRecTimer();e()}}}updateText(e){e&&(this.opts.text=e),this.setLoading(!1),this.$el.innerText=this.getText()}setLoading(e,t){this.isLoading!==e&&(this.isLoading=e,e?(this.$el.classList.add("atk-btn-loading"),this.$el.innerText=t||`${zf("loading")}...`):(this.$el.classList.remove("atk-btn-loading"),this.$el.innerText=this.getText()))}setError(e){this.setMsg(e,"atk-btn-error")}setWarn(e){this.setMsg(e,"atk-btn-warn")}setSuccess(e){this.setMsg(e,"atk-btn-success")}setMsg(e,t,n,r){this.setLoading(!1),t&&this.$el.classList.add(t),this.$el.innerText=e,this.setMsgRecTimer((()=>{this.$el.innerText=this.getText(),t&&this.$el.classList.remove(t),r&&r()}),n||2500)}setMsgRecTimer(e,t){this.fireMsgRecTimer(),this.clearMsgRecTimer(),this.msgRecTimerFunc=e,this.msgRecTimer=window.setTimeout((()=>{e(),this.clearMsgRecTimer()}),t)}fireMsgRecTimer(){this.msgRecTimerFunc&&this.msgRecTimerFunc()}clearMsgRecTimer(){this.msgRecTimer&&window.clearTimeout(this.msgRecTimer),this.msgRecTimer=void 0,this.msgRecTimerFunc=void 0}}function xp(e){e.opts.vote&&(e.voteBtnUp=new Np((()=>`${zf("voteUp")} (${e.data.vote_up||0})`)).appendTo(e.$actions),e.voteBtnUp.setClick((()=>{e.comment.getActions().vote("up")})),e.opts.voteDown&&(e.voteBtnDown=new Np((()=>`${zf("voteDown")} (${e.data.vote_down||0})`)).appendTo(e.$actions),e.voteBtnDown.setClick((()=>{e.comment.getActions().vote("down")}))))}function Dp(e){if(!e.data.is_allow_reply)return;const t=xf(`<span>${zf("reply")}</span>`);e.$actions.append(t),t.addEventListener("click",(t=>{t.stopPropagation(),e.opts.replyComment(e.data,e.$el)}))}function Lp(e){const t=new Np({text:()=>e.data.is_collapsed?zf("expand"):zf("collapse"),adminOnly:!0});t.appendTo(e.$actions),t.setClick((()=>{e.comment.getActions().adminEdit("collapsed",t)}))}function Mp(e){const t=new Np({text:()=>e.data.is_pending?zf("pending"):zf("approved"),adminOnly:!0});t.appendTo(e.$actions),t.setClick((()=>{e.comment.getActions().adminEdit("pending",t)}))}function Fp(e){const t=new Np({text:()=>e.data.is_pinned?zf("unpin"):zf("pin"),adminOnly:!0});t.appendTo(e.$actions),t.setClick((()=>{e.comment.getActions().adminEdit("pinned",t)}))}function jp(e){const t=new Np({text:zf("edit"),adminOnly:!0});t.appendTo(e.$actions),t.setClick((()=>{e.opts.editComment(e.data,e.$el)}))}function $p(e){const t=new Np({text:zf("delete"),confirm:!0,confirmText:zf("deleteConfirm"),adminOnly:!0});t.appendTo(e.$actions),t.setClick((()=>{e.comment.getActions().adminDelete(t)}))}const Bp={Avatar:function(e){const t=e.$el.querySelector(".atk-avatar"),n=xf("<img />"),r=e.opts.avatarURLBuilder;if(n.src=r?r(e.data):e.comment.getGravatarURL(),e.data.link){const r=xf('<a target="_blank" rel="noreferrer noopener nofollow"></a>');r.href=Bf(e.data.link)?e.data.link:`https://${e.data.link}`,r.append(n),t.append(r)}else t.append(n)},Header:function(e){Object.entries({renderNick:Ip,renderVerifyBadge:Rp,renderDate:Cp,renderUABadge:Pp}).forEach((([t,n])=>{n(e)}))},Content:function(e){if(!e.data.is_collapsed)return e.$content.innerHTML=e.comment.getContentMarked(),void e.$content.classList.remove("atk-hide","atk-collapsed");e.$content.classList.add("atk-hide","atk-type-collapsed");const t=xf(`\n    <div class="atk-collapsed">\n      <span class="atk-text">${zf("collapsedMsg")}</span>\n      <span class="atk-show-btn">${zf("expand")}</span>\n    </div>`);e.$body.insertAdjacentElement("beforeend",t);const n=t.querySelector(".atk-show-btn");n.addEventListener("click",(t=>{t.stopPropagation(),e.$content.classList.contains("atk-hide")?(e.$content.innerHTML=e.comment.getContentMarked(),e.$content.classList.remove("atk-hide"),ap(e.$content),n.innerText=zf("collapse")):(e.$content.innerHTML="",e.$content.classList.add("atk-hide"),n.innerText=zf("expand"))}))},ReplyAt:function(e){e.opts.flatMode||0===e.data.rid||e.opts.replyTo&&(e.$replyAt=xf('<span class="atk-item atk-reply-at"><span class="atk-arrow"></span><span class="atk-nick"></span></span>'),e.$replyAt.querySelector(".atk-nick").innerText=`${e.opts.replyTo.nick}`,e.$replyAt.onclick=()=>{e.comment.getActions().goToReplyComment()},e.$headerBadgeWrap.insertAdjacentElement("afterend",e.$replyAt))},ReplyTo:function(e){if(!e.opts.flatMode)return;if(!e.opts.replyTo)return;e.$replyTo=xf(`\n    <div class="atk-reply-to">\n      <div class="atk-meta">${zf("reply")} <span class="atk-nick"></span>:</div>\n      <div class="atk-content"></div>\n    </div>`);const t=e.$replyTo.querySelector(".atk-nick");t.innerText=`@${e.opts.replyTo.nick}`,t.onclick=()=>{e.comment.getActions().goToReplyComment()};let n=Cf(e.opts.replyTo.content);e.opts.replyTo.is_collapsed&&(n=`[${zf("collapsed")}]`),e.$replyTo.querySelector(".atk-content").innerHTML=n,e.$body.prepend(e.$replyTo)},Pending:function(e){if(!e.data.is_pending)return;const t=xf(`<div class="atk-pending">${zf("pendingMsg")}</div>`);e.$body.prepend(t)},Actions:function(e){Object.entries({renderVote:xp,renderReply:Dp,renderCollapse:Lp,renderModerator:Mp,renderPin:Fp,renderEdit:jp,renderDel:$p}).forEach((([t,n])=>{n(e)}))}};class Up{constructor(e){Eh(this,"comment"),Eh(this,"$el"),Eh(this,"$main"),Eh(this,"$header"),Eh(this,"$headerNick"),Eh(this,"$headerBadgeWrap"),Eh(this,"$body"),Eh(this,"$content"),Eh(this,"$childrenWrap"),Eh(this,"$actions"),Eh(this,"voteBtnUp"),Eh(this,"voteBtnDown"),Eh(this,"$replyTo"),Eh(this,"$replyAt"),this.comment=e}get data(){return this.comment.getData()}get opts(){return this.comment.getOpts()}render(){var e;return this.$el=xf('<div class="atk-comment-wrap">\n  <div class="atk-comment">\n    <div class="atk-avatar"></div>\n    <div class="atk-main">\n      <div class="atk-header">\n        <span class="atk-item atk-nick"></span>\n        <span class="atk-badge-wrap"></span>\n        <span class="atk-item atk-date"></span>\n      </div>\n      <div class="atk-body">\n        <div class="atk-content"></div>\n      </div>\n      <div class="atk-footer">\n        <div class="atk-actions"></div>\n      </div>\n    </div>\n  </div>\n</div>\n'),this.$main=this.$el.querySelector(".atk-main"),this.$header=this.$el.querySelector(".atk-header"),this.$body=this.$el.querySelector(".atk-body"),this.$content=this.$body.querySelector(".atk-content"),this.$actions=this.$el.querySelector(".atk-actions"),this.$el.setAttribute("id",`atk-comment-${this.data.id}`),e=this,Object.entries(Bp).forEach((([t,n])=>{n(e)})),this.$childrenWrap&&this.$main.append(this.$childrenWrap),this.$el}checkHeightLimit(){const e=this.opts.heightLimit;if(!e||!e.content||!e.children)return;const t=e.content,n=e.children;_p({afterExpandBtnClick:()=>{const e=this.comment.getChildren();1===e.length&&wp(e[0].getRender().$content)},scrollable:e.scrollable},[{el:this.$content,max:t,imgCheck:!0},{el:this.$replyTo,max:t,imgCheck:!0},{el:this.$childrenWrap,max:n,imgCheck:!1}])}heightLimitRemoveForChildren(){this.$childrenWrap&&wp(this.$childrenWrap)}playFadeAnim(){ap(this.comment.getRender().$el)}playFadeAnimForBody(){ap(this.comment.getRender().$body)}playFlashAnim(){this.$el.classList.remove("atk-flash-once"),window.setTimeout((()=>{this.$el.classList.add("atk-flash-once")}),150)}getChildrenWrap(){return this.$childrenWrap||(this.$childrenWrap=xf('<div class="atk-comment-children"></div>'),this.$main.append(this.$childrenWrap)),this.$childrenWrap}setUnread(e){e?this.$el.classList.add("atk-unread"):this.$el.classList.remove("atk-unread")}setOpenable(e){e?this.$el.classList.add("atk-openable"):this.$el.classList.remove("atk-openable")}setOpenURL(e){this.setOpenable(!0),this.$el.onclick=t=>{t.stopPropagation(),window.open(e)}}setOpenAction(e){this.setOpenable(!0),this.$el.onclick=t=>{t.stopPropagation(),e()}}}class Hp{constructor(e){Eh(this,"comment"),this.comment=e}get data(){return this.comment.getData()}get opts(){return this.comment.getOpts()}getApi(){return this.comment.getOpts().getApi()}vote(e){const t="up"===e?this.comment.getRender().voteBtnUp:this.comment.getRender().voteBtnDown;this.getApi().votes.vote(`comment_${e}`,this.data.id,vh({},this.getApi().getUserFields())).then((e=>{var t,n;this.data.vote_up=e.data.up,this.data.vote_down=e.data.down,null==(t=this.comment.getRender().voteBtnUp)||t.updateText(),null==(n=this.comment.getRender().voteBtnDown)||n.updateText()})).catch((e=>{null==t||t.setError(zf("voteFail")),console.error(e)}))}adminEdit(e,t){if(t.isLoading)return;t.setLoading(!0,`${zf("editing")}...`);const n=vh({},this.data);"collapsed"===e?n.is_collapsed=!n.is_collapsed:"pending"===e?n.is_pending=!n.is_pending:"pinned"===e&&(n.is_pinned=!n.is_pinned),this.getApi().comments.updateComment(this.data.id,vh({},n)).then((e=>{t.setLoading(!1),this.comment.setData(e.data)})).catch((e=>{console.error(e),t.setError(zf("editFail"))}))}adminDelete(e){e.isLoading||(e.setLoading(!0,`${zf("deleting")}...`),this.getApi().comments.deleteComment(this.data.id).then((()=>{e.setLoading(!1),this.opts.onDelete&&this.opts.onDelete(this.comment)})).catch((t=>{console.error(t),e.setError(zf("deleteFail"))})))}goToReplyComment(){const e=window.location.hash,t=`#atk-comment-${this.data.rid}`;window.location.hash=t,t===e&&window.dispatchEvent(new Event("hashchange"))}}class qp{constructor(e,t){Eh(this,"$el"),Eh(this,"renderInstance"),Eh(this,"actionInstance"),Eh(this,"data"),Eh(this,"opts"),Eh(this,"parent"),Eh(this,"children",[]),Eh(this,"nestCurt"),this.opts=t,this.data=vh({},e),this.data.date=this.data.date.replace(/-/g,"/"),this.parent=null,this.nestCurt=1,this.actionInstance=new Hp(this),this.renderInstance=new Up(this)}render(){const e=this.renderInstance.render();this.$el&&this.$el.replaceWith(e),this.$el=e,this.opts.onAfterRender&&this.opts.onAfterRender()}getActions(){return this.actionInstance}getRender(){return this.renderInstance}getData(){return this.data}setData(e){this.data=e,this.render(),this.getRender().playFadeAnimForBody()}getParent(){return this.parent}getChildren(){return this.children}getNestCurt(){return this.nestCurt}getIsRoot(){return 0===this.data.rid}getID(){return this.data.id}putChild(e,t="append"){e.parent=this,e.nestCurt=this.nestCurt+1,this.children.push(e);const n=this.getChildrenWrapEl(),r=e.getEl();"append"===t?n.append(r):"prepend"===t&&n.prepend(r),e.getRender().playFadeAnim(),e.getRender().checkHeightLimit()}getChildrenWrapEl(){return this.nestCurt>=this.opts.nestMax?this.parent.getChildrenWrapEl():this.getRender().getChildrenWrap()}getParents(){const e=[];let t=this.parent;for(;t;)e.push(t),t=t.getParent();return e}getEl(){if(!this.$el)throw new Error("comment element not initialized before `getEl()`");return this.$el}focus(){if(!this.$el)throw new Error("comment element not initialized before `focus()`");this.getParents().forEach((e=>{e.getRender().heightLimitRemoveForChildren()})),this.scrollIntoView(),this.getRender().playFlashAnim()}scrollIntoView(){this.$el&&sp(this.$el,!1,this.opts.scrollRelativeTo&&this.opts.scrollRelativeTo())}remove(){var e;null==(e=this.$el)||e.remove()}getGravatarURL(){return`${(e={mirror:this.opts.gravatar.mirror,params:this.opts.gravatar.params,emailHash:this.data.email_encrypted}).mirror.replace(/\/$/,"")}/${e.emailHash}?${e.params.replace(/^\?/,"")}`;var e}getContentMarked(){return Cf(this.data.content)}getDateFormatted(){var e,t;const n=new Date(this.data.date);return(null==(t=(e=this.opts).dateFormatter)?void 0:t.call(e,n))||jf(n,zf)}getUserUA(){const e=function(e){const t=window||{},n=navigator||{},r=String(e||n.userAgent),i={os:"",osVersion:"",engine:"",browser:"",device:"",language:"",version:""},s={Trident:r.includes("Trident")||r.includes("NET CLR"),Presto:r.includes("Presto"),WebKit:r.includes("AppleWebKit"),Gecko:r.includes("Gecko/")},a={Safari:r.includes("Safari"),Chrome:r.includes("Chrome")||r.includes("CriOS"),IE:r.includes("MSIE")||r.includes("Trident"),Edge:r.includes("Edge")||r.includes("Edg"),Firefox:r.includes("Firefox")||r.includes("FxiOS"),"Firefox Focus":r.includes("Focus"),Chromium:r.includes("Chromium"),Opera:r.includes("Opera")||r.includes("OPR"),Vivaldi:r.includes("Vivaldi"),Yandex:r.includes("YaBrowser"),Kindle:r.includes("Kindle")||r.includes("Silk/"),360:r.includes("360EE")||r.includes("360SE"),UC:r.includes("UC")||r.includes(" UBrowser"),QQBrowser:r.includes("QQBrowser"),QQ:r.includes("QQ/"),Baidu:r.includes("Baidu")||r.includes("BIDUBrowser"),Maxthon:r.includes("Maxthon"),Sogou:r.includes("MetaSr")||r.includes("Sogou"),LBBROWSER:r.includes("LBBROWSER"),"2345Explorer":r.includes("2345Explorer"),TheWorld:r.includes("TheWorld"),MIUI:r.includes("MiuiBrowser"),Quark:r.includes("Quark"),Qiyu:r.includes("Qiyu"),Wechat:r.includes("MicroMessenger"),Taobao:r.includes("AliApp(TB"),Alipay:r.includes("AliApp(AP"),Weibo:r.includes("Weibo"),Douban:r.includes("com.douban.frodo"),Suning:r.includes("SNEBUY-APP"),iQiYi:r.includes("IqiyiApp")},o={Windows:r.includes("Windows"),Linux:r.includes("Linux")||r.includes("X11"),macOS:r.includes("Macintosh"),Android:r.includes("Android")||r.includes("Adr"),Ubuntu:r.includes("Ubuntu"),FreeBSD:r.includes("FreeBSD"),Debian:r.includes("Debian"),"Windows Phone":r.includes("IEMobile")||r.includes("Windows Phone"),BlackBerry:r.includes("BlackBerry")||r.includes("RIM"),MeeGo:r.includes("MeeGo"),Symbian:r.includes("Symbian"),iOS:r.includes("like Mac OS X"),"Chrome OS":r.includes("CrOS"),WebOS:r.includes("hpwOS")},c={Mobile:r.includes("Mobi")||r.includes("iPh")||r.includes("480"),Tablet:r.includes("Tablet")||r.includes("Pad")||r.includes("Nexus 7")};c.Mobile?c.Mobile=!r.includes("iPad"):a.Chrome&&r.includes("Edg")?(a.Chrome=!1,a.Edge=!0):t.showModalDialog&&t.chrome&&(a.Chrome=!1,a[360]=!0),i.device="PC",i.language=(()=>{const e=(n.browserLanguage||n.language).split("-");return e[1]&&(e[1]=e[1].toUpperCase()),e.join("_")})();const l={engine:s,browser:a,os:o,device:c};Object.entries(l).forEach((([e,t])=>{Object.entries(t).forEach((([t,n])=>{!0===n&&(i[e]=t)}))}));const u={Windows:()=>{const e=r.replace(/^.*Windows NT ([\d.]+);.*$/,"$1");return{6.4:"10",6.3:"8.1",6.2:"8",6.1:"7","6.0":"Vista",5.2:"XP",5.1:"XP","5.0":"2000","10.0":"10","11.0":"11"}[e]||e},Android:()=>r.replace(/^.*Android ([\d.]+);.*$/,"$1"),iOS:()=>r.replace(/^.*OS ([\d_]+) like.*$/,"$1").replace(/_/g,"."),Debian:()=>r.replace(/^.*Debian\/([\d.]+).*$/,"$1"),"Windows Phone":()=>r.replace(/^.*Windows Phone( OS)? ([\d.]+);.*$/,"$2"),macOS:()=>r.replace(/^.*Mac OS X ([\d_]+).*$/,"$1").replace(/_/g,"."),WebOS:()=>r.replace(/^.*hpwOS\/([\d.]+);.*$/,"$1")};i.osVersion="",u[i.os]&&(i.osVersion=u[i.os](),i.osVersion===r&&(i.osVersion=""));const h={Safari:()=>r.replace(/^.*Version\/([\d.]+).*$/,"$1"),Chrome:()=>r.replace(/^.*Chrome\/([\d.]+).*$/,"$1").replace(/^.*CriOS\/([\d.]+).*$/,"$1"),IE:()=>r.replace(/^.*MSIE ([\d.]+).*$/,"$1").replace(/^.*rv:([\d.]+).*$/,"$1"),Edge:()=>r.replace(/^.*(Edge|Edg|Edg[A-Z]{1})\/([\d.]+).*$/,"$2"),Firefox:()=>r.replace(/^.*Firefox\/([\d.]+).*$/,"$1").replace(/^.*FxiOS\/([\d.]+).*$/,"$1"),"Firefox Focus":()=>r.replace(/^.*Focus\/([\d.]+).*$/,"$1"),Chromium:()=>r.replace(/^.*Chromium\/([\d.]+).*$/,"$1"),Opera:()=>r.replace(/^.*Opera\/([\d.]+).*$/,"$1").replace(/^.*OPR\/([\d.]+).*$/,"$1"),Vivaldi:()=>r.replace(/^.*Vivaldi\/([\d.]+).*$/,"$1"),Yandex:()=>r.replace(/^.*YaBrowser\/([\d.]+).*$/,"$1"),Kindle:()=>r.replace(/^.*Version\/([\d.]+).*$/,"$1"),Maxthon:()=>r.replace(/^.*Maxthon\/([\d.]+).*$/,"$1"),QQBrowser:()=>r.replace(/^.*QQBrowser\/([\d.]+).*$/,"$1"),QQ:()=>r.replace(/^.*QQ\/([\d.]+).*$/,"$1"),Baidu:()=>r.replace(/^.*BIDUBrowser[\s/]([\d.]+).*$/,"$1"),UC:()=>r.replace(/^.*UC?Browser\/([\d.]+).*$/,"$1"),Sogou:()=>r.replace(/^.*SE ([\d.X]+).*$/,"$1").replace(/^.*SogouMobileBrowser\/([\d.]+).*$/,"$1"),"2345Explorer":()=>r.replace(/^.*2345Explorer\/([\d.]+).*$/,"$1"),TheWorld:()=>r.replace(/^.*TheWorld ([\d.]+).*$/,"$1"),MIUI:()=>r.replace(/^.*MiuiBrowser\/([\d.]+).*$/,"$1"),Quark:()=>r.replace(/^.*Quark\/([\d.]+).*$/,"$1"),Qiyu:()=>r.replace(/^.*Qiyu\/([\d.]+).*$/,"$1"),Wechat:()=>r.replace(/^.*MicroMessenger\/([\d.]+).*$/,"$1"),Taobao:()=>r.replace(/^.*AliApp\(TB\/([\d.]+).*$/,"$1"),Alipay:()=>r.replace(/^.*AliApp\(AP\/([\d.]+).*$/,"$1"),Weibo:()=>r.replace(/^.*weibo__([\d.]+).*$/,"$1"),Douban:()=>r.replace(/^.*com.douban.frodo\/([\d.]+).*$/,"$1"),Suning:()=>r.replace(/^.*SNEBUY-APP([\d.]+).*$/,"$1"),iQiYi:()=>r.replace(/^.*IqiyiVersion\/([\d.]+).*$/,"$1")};return i.version="",h[i.browser]&&(i.version=h[i.browser](),i.version===r&&(i.version="")),i.version.indexOf(".")&&(i.version=i.version.substring(0,i.version.indexOf("."))),"iOS"===i.os&&r.includes("iPad")?i.os="iPadOS":"Edge"!==i.browser||r.includes("Edg")?"MIUI"===i.browser?i.os="Android":"Chrome"===i.browser&&Number(i.version)>27||"Opera"===i.browser&&Number(i.version)>12||"Yandex"===i.browser?i.engine="Blink":void 0===i.browser&&(i.browser="Unknow App"):i.engine="EdgeHTML",i}(this.data.ua);return{browser:`${e.browser} ${e.version}`,os:`${e.os} ${e.osVersion}`}}getOpts(){return this.opts}}class Gp{constructor(e){Eh(this,"opts"),Eh(this,"$el"),Eh(this,"$loading"),Eh(this,"$text"),Eh(this,"offset",0),Eh(this,"total",0),Eh(this,"origText","Load More"),this.opts=e,this.origText=this.opts.text||this.origText,this.$el=xf(`<div class="atk-list-read-more" style="display: none;">\n      <div class="atk-list-read-more-inner">\n        <div class="atk-loading-icon" style="display: none;"></div>\n        <span class="atk-text">${this.origText}</span>\n      </div>\n    </div>`),this.$loading=this.$el.querySelector(".atk-loading-icon"),this.$text=this.$el.querySelector(".atk-text"),this.$el.onclick=()=>{this.click()}}get hasMore(){return this.total>this.offset+this.opts.pageSize}click(){this.hasMore&&this.opts.onClick(this.offset+this.opts.pageSize),this.checkDisabled()}show(){this.$el.style.display=""}hide(){this.$el.style.display="none"}setLoading(e){this.$loading.style.display=e?"":"none",this.$text.style.display=e?"none":""}showErr(e){this.setLoading(!1),this.$text.innerText=e,this.$el.classList.add("atk-err"),window.setTimeout((()=>{this.$text.innerText=this.origText,this.$el.classList.remove("atk-err")}),2e3)}update(e,t){this.offset=e,this.total=t,this.checkDisabled()}checkDisabled(){this.hasMore?this.show():this.hide()}}class Wp{constructor(){Eh(this,"instance"),Eh(this,"onReachedBottom",null),Eh(this,"opt")}create(e){return this.opt=e,this.instance=new Gp({pageSize:e.pageSize,onClick:t=>Th(this,null,(function*(){e.ctx.fetch({offset:t})})),text:zf("loadMore")}),e.readMoreAutoLoad&&(this.onReachedBottom=()=>{this.instance.hasMore&&!this.opt.ctx.getData().getLoading()&&this.instance.click()},this.opt.ctx.on("list-reach-bottom",this.onReachedBottom)),this.instance.$el}setLoading(e){this.instance.setLoading(e)}update(e,t){this.instance.update(e,t)}showErr(e){this.instance.showErr(e)}next(){this.instance.click()}getHasMore(){return this.instance.hasMore}getIsClearComments(e){return 0===e.offset}dispose(){this.onReachedBottom&&this.opt.ctx.off("list-reach-bottom",this.onReachedBottom),this.instance.$el.remove()}}class Qp{constructor(e,t){Eh(this,"opts"),Eh(this,"total"),Eh(this,"$el"),Eh(this,"$input"),Eh(this,"inputTimer"),Eh(this,"$prevBtn"),Eh(this,"$nextBtn"),Eh(this,"page",1),this.total=e,this.opts=t,this.$el=xf('<div class="atk-pagination-wrap">\n        <div class="atk-pagination">\n          <div class="atk-btn atk-btn-prev" aria-label="Previous page">\n            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="14px" width="14px" xmlns="http://www.w3.org/2000/svg"><path d="M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"></path></svg>\n          </div>\n          <input type="text" class="atk-input" aria-label="Enter the number of page" />\n          <div class="atk-btn atk-btn-next" aria-label="Next page">\n            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="14px" width="14px" xmlns="http://www.w3.org/2000/svg"><path d="M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"></path></svg>\n          </div>\n        </div>\n      </div>'),this.$input=this.$el.querySelector(".atk-input"),this.$input.value=`${this.page}`,this.$input.oninput=()=>this.input(),this.$input.onkeydown=e=>this.keydown(e),this.$prevBtn=this.$el.querySelector(".atk-btn-prev"),this.$nextBtn=this.$el.querySelector(".atk-btn-next"),this.$prevBtn.onclick=()=>this.prev(),this.$nextBtn.onclick=()=>this.next(),this.checkDisabled()}get pageSize(){return this.opts.pageSize}get offset(){return this.pageSize*(this.page-1)}get maxPage(){return Math.ceil(this.total/this.pageSize)}update(e,t){this.page=Math.ceil(e/this.pageSize)+1,this.total=t,this.setInput(this.page),this.checkDisabled()}setInput(e){this.$input.value=`${e}`}input(e=!1){window.clearTimeout(this.inputTimer);const t=this.$input.value.trim(),n=()=>{if(""===t)return void this.setInput(this.page);let e=Number(t);Number.isNaN(e)||e<1?this.setInput(this.page):(e>this.maxPage&&(this.setInput(this.maxPage),e=this.maxPage),this.change(e))};e?n():this.inputTimer=window.setTimeout((()=>n()),800)}prev(){const e=this.page-1;e<1||this.change(e)}next(){const e=this.page+1;e>this.maxPage||this.change(e)}getHasMore(){return this.page+1<=this.maxPage}change(e){this.page=e,this.opts.onChange(this.offset),this.setInput(e),this.checkDisabled()}checkDisabled(){this.page+1>this.maxPage?this.$nextBtn.classList.add("atk-disabled"):this.$nextBtn.classList.remove("atk-disabled"),this.page-1<1?this.$prevBtn.classList.add("atk-disabled"):this.$prevBtn.classList.remove("atk-disabled")}keydown(e){const t=e.keyCode||e.which;if(38===t){const e=Number(this.$input.value)+1;if(e>this.maxPage)return;this.setInput(e),this.input()}else if(40===t){const e=Number(this.$input.value)-1;if(e<1)return;this.setInput(e),this.input()}else 13===t&&this.input(!0)}setLoading(e){e?np(this.$el):rp(this.$el)}}class Vp{constructor(){Eh(this,"instance")}create(e){return this.instance=new Qp(e.total,{pageSize:e.pageSize,onChange:t=>Th(this,null,(function*(){e.ctx.editorResetState(),e.ctx.fetch({offset:t,onSuccess:()=>{e.ctx.listGotoFirst()}})}))}),this.instance.$el}setLoading(e){this.instance.setLoading(e)}update(e,t){this.instance.update(e,t)}next(){this.instance.next()}getHasMore(){return this.instance.getHasMore()}getIsClearComments(){return!0}dispose(){this.instance.$el.remove()}}function Yp(e){const t=e.getData().getListLastFetch(),n={offset:0,total:0};return t?(n.offset=t.params.offset,t.data&&(n.total=t.params.flatMode?t.data.count:t.data.roots_count),n):n}const zp=e=>{let t=null;e.watchConf(["pagination","locale"],(n=>{const r=e.get("list");t&&t.dispose(),t=function(e){return e.pagination.readMore?new Wp:new Vp}(n);const{offset:i,total:s}=Yp(e),a=t.create({ctx:e,pageSize:n.pagination.pageSize,total:s,readMoreAutoLoad:n.pagination.autoLoad});r.$commentsWrap.after(a),null==t||t.update(i,s)})),e.on("list-loaded",(n=>{const{offset:r,total:i}=Yp(e);null==t||t.update(r,i)})),e.on("list-fetch",(n=>{e.getData().getComments().length>0&&(null==t?void 0:t.getIsClearComments(n))&&e.getData().clearComments()})),e.on("list-failed",(()=>{var e;null==(e=null==t?void 0:t.showErr)||e.call(t,zf("loadFail"))})),e.on("list-fetch",(e=>{null==t||t.setLoading(!0)})),e.on("list-fetched",(({params:e})=>{null==t||t.setLoading(!1)}))};class Kp extends pp{constructor(e){super(e),Eh(this,"$commentsWrap"),Eh(this,"commentNodes",[]),this.$el=xf('<div class="atk-list">\n  <div class="atk-list-header">\n    <div class="atk-comment-count">\n      <div class="atk-text"></div>\n    </div>\n    <div class="atk-right-action">\n      <span data-action="admin-close-comment" class="atk-hide" atk-only-admin-show></span>\n      <span data-action="open-sidebar" class="atk-hide atk-on">\n        <span class="atk-unread-badge" style="display: none"></span>\n        <div class="atk-text"></div>\n      </span>\n    </div>\n  </div>\n  <div class="atk-list-body">\n    <div class="atk-list-comments-wrap"></div>\n  </div>\n  <div class="atk-list-footer">\n    <div class="atk-copyright"></div>\n  </div>\n</div>\n'),this.$commentsWrap=this.$el.querySelector(".atk-list-comments-wrap"),zp(e),this.initCrudEvents()}getCommentsWrapEl(){return this.$commentsWrap}getCommentNodes(){return this.commentNodes}getListLayout({forceFlatMode:e}={}){return new Ap({$commentsWrap:this.$commentsWrap,nestSortBy:this.ctx.conf.nestSort,nestMax:this.ctx.conf.nestMax,flatMode:"boolean"==typeof e?e:this.ctx.conf.flatMode,createCommentNode:(t,n)=>{const r=function(e,t,n,r){const i=new qp(t,{onAfterRender:()=>{e.trigger("comment-rendered",i)},onDelete:t=>{e.getData().deleteComment(t.getID())},replyTo:n,flatMode:"boolean"==typeof(null==r?void 0:r.forceFlatMode)?null==r?void 0:r.forceFlatMode:e.conf.flatMode,gravatar:e.conf.gravatar,nestMax:e.conf.nestMax,heightLimit:e.conf.heightLimit,avatarURLBuilder:e.conf.avatarURLBuilder,scrollRelativeTo:e.conf.scrollRelativeTo,vote:e.conf.vote,voteDown:e.conf.voteDown,uaBadge:e.conf.uaBadge,dateFormatter:e.conf.dateFormatter,getApi:()=>e.getApi(),replyComment:(t,n)=>e.replyComment(t,n),editComment:(t,n)=>e.editComment(t,n)});return i.render(),i}(this.ctx,t,n,{forceFlatMode:e});return this.commentNodes.push(r),r},findCommentNode:e=>this.commentNodes.find((t=>t.getID()===e))})}initCrudEvents(){this.ctx.on("list-load",(e=>{this.getListLayout().import(e)})),this.ctx.on("list-loaded",(e=>{0===e.length&&(this.commentNodes=[],this.$commentsWrap.innerHTML="")})),this.ctx.on("comment-inserted",(e=>{var t;const n=e.rid?null==(t=this.commentNodes.find((t=>t.getID()===e.rid)))?void 0:t.getData():void 0;this.getListLayout().insert(e,n)})),this.ctx.on("comment-deleted",(e=>{const t=this.commentNodes.find((t=>t.getID()===e.id));t?(t.remove(),this.commentNodes=this.commentNodes.filter((t=>t.getID()!==e.id))):console.error(`comment node id=${e.id} not found`)})),this.ctx.on("comment-updated",(e=>{const t=this.commentNodes.find((t=>t.getID()===e.id));t&&t.setData(e)}))}}let Xp,Jp;function Zp(){return{init(){Xp=document.body.style.overflow,Jp=document.body.style.paddingRight},unlock(){document.body.style.overflow=Xp,document.body.style.paddingRight=Jp},lock(){document.body.style.overflow="hidden";const e=parseInt(window.getComputedStyle(document.body,null).getPropertyValue("padding-right"),10);document.body.style.paddingRight=`${function(){const e=document.createElement("p");e.style.width="100%",e.style.height="200px";const t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let r=e.offsetWidth;return n===r&&(r=t.clientWidth),document.body.removeChild(t),n-r}()+e||0}px`}}}class em{constructor(e,t){Eh(this,"allowMaskClose",!0),Eh(this,"onAfterHide"),this.$el=e,this.opts=t}setOnAfterHide(e){this.onAfterHide=e}setAllowMaskClose(e){this.allowMaskClose=e}getAllowMaskClose(){return this.allowMaskClose}getEl(){return this.$el}show(){this.opts.onShow(),this.$el.style.display=""}hide(){this.opts.onHide(),this.$el.style.display="none",this.onAfterHide&&this.onAfterHide()}destroy(){this.opts.onHide(),this.$el.remove(),this.onAfterHide&&this.onAfterHide()}}class tm{constructor(){Eh(this,"$wrap"),Eh(this,"$mask"),Eh(this,"items",[]),this.$wrap=xf('<div class="atk-layer-wrap" style="display: none;"><div class="atk-layer-mask"></div></div>'),this.$mask=this.$wrap.querySelector(".atk-layer-mask")}createItem(e,t){(t=t||this.createItemElement(e)).setAttribute("data-layer-name",e),this.$wrap.appendChild(t);const n=new em(t,{onHide:()=>this.hideWrap(t),onShow:()=>this.showWrap()});return this.getMask().addEventListener("click",(()=>{n.getAllowMaskClose()&&n.hide()})),this.items.push(n),n}createItemElement(e){const t=document.createElement("div");return t.classList.add("atk-layer-item"),t.style.display="none",this.$wrap.appendChild(t),t}getWrap(){return this.$wrap}getMask(){return this.$mask}showWrap(){this.$wrap.style.display="block",this.$mask.style.display="block",this.$mask.classList.add("atk-fade-in"),Zp().lock()}hideWrap(e){this.items.map((e=>e.getEl())).filter((t=>t!==e&&t.isConnected&&"none"!==t.style.display)).length>0||(this.$wrap.style.display="none",Zp().unlock())}}class nm{constructor(e){Eh(this,"wrap"),this.wrap=new tm,document.body.appendChild(this.wrap.getWrap()),e.on("unmounted",(()=>{this.wrap.getWrap().remove()})),Zp().init()}getEl(){return this.wrap.getWrap()}create(e,t){return this.wrap.createItem(e,t)}}const rm="ArtalkUser";class im{constructor(e){Eh(this,"data"),this.opts=e;const t=JSON.parse(window.localStorage.getItem(rm)||"{}");this.data={name:t.name||t.nick||"",email:t.email||"",link:t.link||"",token:t.token||"",is_admin:t.is_admin||t.isAdmin||!1}}getData(){return this.data}update(e={}){Object.entries(e).forEach((([e,t])=>{this.data[e]=t})),window.localStorage.setItem(rm,JSON.stringify(this.data)),this.opts.onUserChanged&&this.opts.onUserChanged(this.data)}logout(){this.update({token:"",is_admin:!1})}checkHasBasicUserInfo(){return!!this.data.name&&!!this.data.email}}const sm={i18n(e){Yf(e.conf.locale),e.watchConf(["locale"],(e=>{Yf(e.locale)}))},user:e=>new im({onUserChanged:t=>{e.trigger("user-changed",t)}}),layerManager:e=>new nm(e),checkerLauncher:e=>new fp({getCtx:()=>e,getApi:()=>e.getApi(),onReload:()=>e.reload(),getCaptchaIframeURL:()=>`${e.conf.server}/api/v2/captcha/?t=${+new Date}`}),editor(e){const t=new bp(e);return e.$root.appendChild(t.$el),t},list(e){const t=new Kp(e);return e.$root.appendChild(t.$el),t},sidebarLayer:e=>new Ep(e),editorPlugs(){}};function am(e){return Th(this,null,(function*(){yield function(e){return Th(this,null,(function*(){yield om({opt:e,query:"page_comment",containers:[e.countEl,"#ArtalkCount"]})}))}(e);const t=yield function(e){return Th(this,null,(function*(){if(!e.pvAdd||!e.pageKey)return;const t=(yield e.getApi().pages.logPv({page_key:e.pageKey,page_title:e.pageTitle,site_name:e.siteName})).data.pv;return{[e.pageKey]:t}}))}(e);yield function(e,t){return Th(this,null,(function*(){yield om({opt:e,query:"page_pv",containers:[e.pvEl,"#ArtalkPV"],cache:t})}))}(e,t)}))}function om(e){return Th(this,null,(function*(){const{opt:t}=e;let n=e.cache||{};const r=function(e){const t=new Set;return new Set(e).forEach((e=>{document.querySelectorAll(e).forEach((e=>t.add(e)))})),t}(e.containers),i=function(e,t,n,r){const i=Array.from(e).map((e=>e.getAttribute(t)||n)).filter((e=>e&&"number"!=typeof r[e]));return[...new Set(i)]}(r,t.pageKeyAttr,t.pageKey,n);if(i.length>0){const r=(yield t.getApi().stats.getStats(e.query,{page_keys:i.join(","),site_name:t.siteName})).data.data;n=vh(vh({},n),r)}!function(e,t,n){e.forEach((e=>{const r=e.getAttribute("data-page-key"),i=r&&t[r]||n&&t[n]||0;e.innerText=`${Number(i)}`}))}(r,n,t.pageKey)}))}const cm="ArtalkContent";class lm{constructor(e){this.kit=e}reqAdd(){return Th(this,null,(function*(){return(yield this.kit.useApi().comments.createComment(vh({},yield this.getSubmitAddParams()))).data}))}getSubmitAddParams(){return Th(this,null,(function*(){const{name:e,email:t,link:n}=this.kit.useUser().getData(),r=this.kit.useConf();return{content:this.kit.useEditor().getContentFinal(),name:e,email:t,link:n,rid:0,page_key:r.pageKey,page_title:r.pageTitle,site_name:r.site,ua:yield $f()}}))}postSubmitAdd(e){this.kit.useGlobalCtx().getData().insertComment(e)}}class um extends gp{constructor(e){super(e),Eh(this,"customs",[]),Eh(this,"defaultPreset"),this.defaultPreset=new lm(this.kit);const t=()=>this.do();this.kit.useMounted((()=>{this.kit.useGlobalCtx().on("editor-submit",t)})),this.kit.useUnmounted((()=>{this.kit.useGlobalCtx().off("editor-submit",t)}))}registerCustom(e){this.customs.push(e)}do(){return Th(this,null,(function*(){if(""===this.kit.useEditor().getContentFinal().trim())return void this.kit.useEditor().focus();const e=this.customs.find((e=>e.activeCond()));this.kit.useEditor().showLoading();try{let t;(null==e?void 0:e.pre)&&e.pre(),t=(null==e?void 0:e.req)?yield e.req():yield this.defaultPreset.reqAdd(),(null==e?void 0:e.post)?e.post(t):this.defaultPreset.postSubmitAdd(t)}catch(t){return console.error(t),void this.kit.useEditor().showNotify(`${zf("commentFail")}: ${t.message||String(t)}`,"e")}finally{this.kit.useEditor().hideLoading()}this.kit.useEditor().reset(),this.kit.useGlobalCtx().trigger("editor-submitted")}))}}class hm extends gp{constructor(e){super(e),Eh(this,"emoticons",[]),Eh(this,"loadingTask",null),Eh(this,"$grpWrap"),Eh(this,"$grpSwitcher"),Eh(this,"isListLoaded",!1),Eh(this,"isImgLoaded",!1),this.kit.useMounted((()=>{this.usePanel('<div class="atk-editor-plug-emoticons"></div>'),this.useBtn(`<i aria-label="${zf("emoticon")}"><svg fill="currentColor" aria-hidden="true" height="14" viewBox="0 0 14 14" width="14"><path d="m4.26829 5.29294c0-.94317.45893-1.7074 1.02439-1.7074.56547 0 1.02439.76423 1.02439 1.7074s-.45892 1.7074-1.02439 1.7074c-.56546 0-1.02439-.76423-1.02439-1.7074zm4.43903 1.7074c.56546 0 1.02439-.76423 1.02439-1.7074s-.45893-1.7074-1.02439-1.7074c-.56547 0-1.02439.76423-1.02439 1.7074s.45892 1.7074 1.02439 1.7074zm-1.70732 2.73184c-1.51883 0-2.06312-1.52095-2.08361-1.58173l-1.29551.43231c.03414.10244.868 2.51604 3.3798 2.51604 2.51181 0 3.34502-2.41291 3.37982-2.51604l-1.29484-.43573c-.02254.06488-.56683 1.58583-2.08498 1.58583zm7-2.73252c0 3.86004-3.1401 7.00034-7 7.00034s-7-3.1396-7-6.99966c0-3.86009 3.1401-7.00034 7-7.00034s7 3.14025 7 7.00034zm-1.3659 0c0-3.10679-2.5275-5.63442-5.6341-5.63442-3.10663 0-5.63415 2.52832-5.63415 5.6351 0 3.10676 2.52752 5.63446 5.63415 5.63446 3.1066 0 5.6341-2.5277 5.6341-5.63446z"/></svg></i>`)})),this.kit.useUnmounted((()=>{})),this.useContentTransformer((e=>this.transEmoticonImageText(e))),this.usePanelShow((()=>{(()=>{Th(this,null,(function*(){yield this.loadEmoticonsData(),this.isImgLoaded||(this.initEmoticonsList(),this.isImgLoaded=!0),setTimeout((()=>{this.changeListHeight()}),30)}))})()})),this.usePanelHide((()=>{this.$panel.parentElement.style.height=""})),window.setTimeout((()=>{this.loadEmoticonsData()}),1e3)}loadEmoticonsData(){return Th(this,null,(function*(){this.isListLoaded||(null===this.loadingTask?(this.loadingTask=(()=>Th(this,null,(function*(){np(this.$panel),this.emoticons=yield this.handleData(this.kit.useConf().emoticons),rp(this.$panel),this.loadingTask=null,this.isListLoaded=!0})))(),yield this.loadingTask):yield this.loadingTask)}))}handleData(e){return Th(this,null,(function*(){if(!Array.isArray(e)&&["object","string"].includes(typeof e)&&(e=[e]),!Array.isArray(e))return op(this.$panel,`[${zf("emoticon")}] Data must be of Array/Object/String type`),rp(this.$panel),[];const t=t=>{"object"==typeof t&&(t.name&&e.find((e=>e.name===t.name))||e.push(t))},n=e=>Th(this,null,(function*(){yield Promise.all(e.map(((e,r)=>Th(this,null,(function*(){if("object"!=typeof e||Array.isArray(e)){if(Array.isArray(e))yield n(e);else if("string"==typeof e){const r=yield this.remoteLoad(e);Array.isArray(r)?yield n(r):"object"==typeof r&&t(r)}}else t(e)})))))}));return yield n(e),e.forEach((e=>{if(this.isOwOFormat(e)){this.convertOwO(e).forEach((e=>{t(e)}))}else Array.isArray(e)&&e.forEach((e=>{t(e)}))})),e=e.filter((e=>"object"==typeof e&&!Array.isArray(e)&&!!e&&!!e.name)),this.solveNullKey(e),this.solveSameKey(e),e}))}remoteLoad(e){return Th(this,null,(function*(){if(!e)return[];try{const t=yield fetch(e);return yield t.json()}catch(t){return rp(this.$panel),console.error("[Emoticons] Load Failed:",t),op(this.$panel,`[${zf("emoticon")}] ${zf("loadFail")}: ${String(t)}`),[]}}))}solveNullKey(e){e.forEach((e=>{e.items.forEach(((t,n)=>{t.key||(t.key=`${e.name} ${n+1}`)}))}))}solveSameKey(e){const t={};e.forEach((e=>{e.items.forEach((e=>{e.key&&""!==String(e.key).trim()&&(t[e.key]?t[e.key]++:t[e.key]=1,t[e.key]>1&&(e.key=`${e.key} ${t[e.key]}`))}))}))}isOwOFormat(e){try{return"object"==typeof e&&!!Object.values(e).length&&Array.isArray(Object.keys(Object.values(e)[0].container))&&Object.keys(Object.values(e)[0].container[0]).includes("icon")}catch(YR){return!1}}convertOwO(e){const t=[];return Object.entries(e).forEach((([e,n])=>{const r={name:e,type:n.type,items:[]};n.container.forEach(((t,n)=>{const i=t.icon;if(/<(img|IMG)/.test(i)){const e=/src=["'](.*?)["']/.exec(i);e&&e.length>1&&(t.icon=e[1])}r.items.push({key:t.text||`${e} ${n+1}`,val:t.icon})})),t.push(r)})),t}initEmoticonsList(){this.$grpWrap=xf('<div class="atk-grp-wrap"></div>'),this.$panel.append(this.$grpWrap),this.emoticons.forEach(((e,t)=>{const n=xf('<div class="atk-grp" style="display: none;"></div>');this.$grpWrap.append(n),n.setAttribute("data-index",String(t)),n.setAttribute("data-grp-name",e.name),n.setAttribute("data-type",e.type),e.items.forEach((t=>{const r=xf('<span class="atk-item"></span>');if(n.append(r),t.key&&!new RegExp(`^(${e.name})?\\s?[0-9]+$`).test(t.key)&&r.setAttribute("title",t.key),"image"===e.type){const e=document.createElement("img");e.src=t.val,e.alt=t.key,r.append(e)}else r.innerText=t.val;r.onclick=()=>{"image"===e.type?this.kit.useEditor().insertContent(`:[${t.key}]`):this.kit.useEditor().insertContent(t.val||"")}}))})),this.emoticons.length>1&&(this.$grpSwitcher=xf('<div class="atk-grp-switcher"></div>'),this.$panel.append(this.$grpSwitcher),this.emoticons.forEach(((e,t)=>{const n=xf("<span />");n.innerText=e.name,n.setAttribute("data-index",String(t)),n.onclick=()=>this.openGrp(t),this.$grpSwitcher.append(n)}))),this.emoticons.length>0&&this.openGrp(0)}openGrp(e){var t,n,r;Array.from(this.$grpWrap.children).forEach((t=>{const n=t;n.getAttribute("data-index")!==String(e)?n.style.display="none":n.style.display=""})),null==(t=this.$grpSwitcher)||t.querySelectorAll("span.active").forEach((e=>e.classList.remove("active"))),null==(r=null==(n=this.$grpSwitcher)?void 0:n.querySelector(`span[data-index="${e}"]`))||r.classList.add("active"),this.changeListHeight()}changeListHeight(){}transEmoticonImageText(e){return this.emoticons&&Array.isArray(this.emoticons)?(this.emoticons.forEach((t=>{"image"===t.type&&Object.entries(t.items).forEach((([t,n])=>{e=e.split(`:[${n.key}]`).join(`<img src="${n.val}" atk-emoticon="${n.key}">`)}))})),e):e}}const dm=["png","jpg","jpeg","gif","bmp","svg","webp"];class fm extends gp{constructor(e){super(e),Eh(this,"$imgUploadInput"),this.kit.useMounted((()=>this.init())),this.initDragImg()}init(){this.$imgUploadInput=document.createElement("input"),this.$imgUploadInput.type="file",this.$imgUploadInput.style.display="none",this.$imgUploadInput.accept=dm.map((e=>`.${e}`)).join(",");const e=this.useBtn(`<i aria-label="${zf("uploadImage")}"><svg fill="currentColor" aria-hidden="true" height="14" viewBox="0 0 14 14" width="14"><path d="m0 1.94444c0-1.074107.870333-1.94444 1.94444-1.94444h10.11116c1.0741 0 1.9444.870333 1.9444 1.94444v10.11116c0 1.0741-.8703 1.9444-1.9444 1.9444h-10.11116c-1.074107 0-1.94444-.8703-1.94444-1.9444zm1.94444-.38888c-.21466 0-.38888.17422-.38888.38888v7.06689l2.33333-2.33333 2.33333 2.33333 3.88888-3.88889 2.3333 2.33334v-5.51134c0-.21466-.1742-.38888-.3888-.38888zm10.49996 8.09977-2.3333-2.33333-3.88888 3.8889-2.33333-2.33334-2.33333 2.33334v.8447c0 .2146.17422.3888.38888.3888h10.11116c.2146 0 .3888-.1742.3888-.3888zm-7.1944-6.54422c-.75133 0-1.36111.60978-1.36111 1.36111 0 .75134.60978 1.36111 1.36111 1.36111s1.36111-.60977 1.36111-1.36111c0-.75133-.60978-1.36111-1.36111-1.36111z"/></svg></i>`);e.after(this.$imgUploadInput),e.onclick=()=>{const e=this.$imgUploadInput;e.onchange=()=>{(()=>{Th(this,null,(function*(){if(!e.files||0===e.files.length)return;const t=e.files[0];this.uploadImg(t)}))})()},e.click()},this.kit.useConf().imgUpload||this.$btn.setAttribute("atk-only-admin-show","")}initDragImg(){const e=e=>{if(e)for(let t=0;t<e.length;t++){const n=e[t];this.uploadImg(n)}},t=e=>{e.stopPropagation(),e.preventDefault()},n=t=>{var n;const r=null==(n=t.dataTransfer)?void 0:n.files;(null==r?void 0:r.length)&&(t.preventDefault(),e(r))},r=t=>{var n;const r=null==(n=t.clipboardData)?void 0:n.files;(null==r?void 0:r.length)&&(t.preventDefault(),e(r))};this.kit.useMounted((()=>{this.kit.useUI().$textarea.addEventListener("dragover",t),this.kit.useUI().$textarea.addEventListener("drop",n),this.kit.useUI().$textarea.addEventListener("paste",r)})),this.kit.useUnmounted((()=>{this.kit.useUI().$textarea.removeEventListener("dragover",t),this.kit.useUI().$textarea.removeEventListener("drop",n),this.kit.useUI().$textarea.removeEventListener("paste",r)}))}uploadImg(e){return Th(this,null,(function*(){const t=/[^.]+$/.exec(e.name);if(!t||!dm.includes(String(t[0]).toLowerCase()))return;if(!this.kit.useUser().checkHasBasicUserInfo())return void this.kit.useEditor().showNotify(zf("uploadLoginMsg"),"w");let n="\n";""===this.kit.useUI().$textarea.value.trim()&&(n="");const r=`${n}![](Uploading ${e.name}...)`;let i;this.kit.useEditor().insertContent(r);try{const t=this.kit.useConf().imgUploader;i=t?{public_url:yield t(e)}:(yield this.kit.useApi().upload.upload({file:e})).data}catch(s){console.error(s),this.kit.useEditor().showNotify(`${zf("uploadFail")}: ${s.message}`,"e")}if(i&&i.public_url){let e=i.public_url;Bf(e)||(e=Uf({base:this.kit.useConf().server,path:e})),this.kit.useEditor().setContent(this.kit.useUI().$textarea.value.replace(r,`${n}![](${e})`))}else this.kit.useEditor().setContent(this.kit.useUI().$textarea.value.replace(r,""))}))}}class pm extends gp{constructor(e){super(e),Eh(this,"isPlugPanelShow",!1),this.kit.useMounted((()=>{this.usePanel('<div class="atk-editor-plug-preview"></div>'),this.useBtn(`<i aria-label="${zf("preview")}"><svg fill="currentColor" aria-hidden="true" viewBox="0 0 16 16" width="16" height="16"><path fill-rule="evenodd" d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z"></path></svg></i>`)})),this.kit.useUnmounted((()=>{})),this.kit.useEvents().on("content-updated",(e=>{this.isPlugPanelShow&&this.updateContent()})),this.usePanelShow((()=>{this.isPlugPanelShow=!0,this.updateContent()})),this.usePanelHide((()=>{this.isPlugPanelShow=!1}))}updateContent(){this.$panel.innerHTML=this.kit.useEditor().getContentMarked()}}const mm=[class extends gp{constructor(e){super(e);const t=()=>{this.save()};this.kit.useMounted((()=>{const e=window.localStorage.getItem(cm)||"";""!==e.trim()&&(this.kit.useEditor().showNotify(zf("restoredMsg"),"i"),this.kit.useEditor().setContent(e)),this.kit.useEvents().on("content-updated",t)})),this.kit.useUnmounted((()=>{this.kit.useEvents().off("content-updated",t)}))}save(){window.localStorage.setItem(cm,this.kit.useEditor().getContentRaw().trim())}},class extends gp{get $inputs(){return this.kit.useEditor().getHeaderInputEls()}constructor(e){super(e);const t={},n={},r=(e,t,n)=>()=>{this.kit.useEvents().trigger(e,{field:n,$input:t})};this.kit.useMounted((()=>{Object.entries(this.$inputs).forEach((([e,i])=>{i.addEventListener("input",t[e]=r("header-input",i,e)),i.addEventListener("change",n[e]=r("header-change",i,e))}))})),this.kit.useUnmounted((()=>{Object.entries(this.$inputs).forEach((([e,r])=>{r.removeEventListener("input",t[e]),r.removeEventListener("change",n[e])}))}))}},class extends gp{constructor(e){super(e),Eh(this,"query",{timer:null,abortFn:null});const t=({$input:e,field:t})=>{"edit"!==this.kit.useEditor().getState()&&(this.kit.useUser().update({[t]:e.value.trim()}),"name"!==t&&"email"!==t||this.fetchUserInfo())},n={name:zf("nick"),email:zf("email"),link:zf("link")};this.kit.useMounted((()=>{Object.entries(this.kit.useEditor().getHeaderInputEls()).forEach((([e,t])=>{t.placeholder=n[e],t.value=this.kit.useUser().getData()[e]||""})),this.kit.useEvents().on("header-input",t)})),this.kit.useUnmounted((()=>{this.kit.useEvents().off("header-input",t)}))}fetchUserInfo(){this.kit.useUser().logout(),this.query.timer&&window.clearTimeout(this.query.timer),this.query.abortFn&&this.query.abortFn(),this.query.timer=window.setTimeout((()=>{this.query.timer=null;const e=this.kit.useApi(),t="getUserCancelToken";this.query.abortFn=()=>e.abortRequest(t),e.user.getUser(vh({},e.getUserFields()),{cancelToken:t}).then((e=>this.onUserInfoFetched(e.data))).catch((e=>{})).finally((()=>{this.query.abortFn=null}))}),400)}onUserInfoFetched(e){var t;e.is_login||this.kit.useUser().logout(),this.kit.useGlobalCtx().getData().updateNotifies(e.notifies),this.kit.useUser().checkHasBasicUserInfo()&&!e.is_login&&(null==(t=e.user)?void 0:t.is_admin)&&this.kit.useGlobalCtx().checkAdmin({onSuccess:()=>{}}),e.user&&e.user.link&&(this.kit.useUI().$link.value=e.user.link,this.kit.useUser().update({link:e.user.link}))}},class extends gp{constructor(e){super(e);const t=({field:e})=>{"link"===e&&this.onLinkInputChange()};this.kit.useMounted((()=>{this.kit.useEvents().on("header-change",t)})),this.kit.useUnmounted((()=>{this.kit.useEvents().off("header-change",t)}))}onLinkInputChange(){const e=this.kit.useUI().$link.value.trim();e&&!/^(http|https):\/\//.test(e)&&(this.kit.useUI().$link.value=`https://${e}`,this.kit.useUser().update({link:this.kit.useUI().$link.value}))}},class extends gp{constructor(e){super(e);const t=e=>this.onKeydown(e),n=()=>this.onInput();this.kit.useMounted((()=>{this.kit.useUI().$textarea.placeholder=this.kit.useConf().placeholder||zf("placeholder"),this.kit.useUI().$textarea.addEventListener("keydown",t),this.kit.useUI().$textarea.addEventListener("input",n)})),this.kit.useUnmounted((()=>{this.kit.useUI().$textarea.removeEventListener("keydown",t),this.kit.useUI().$textarea.removeEventListener("input",n)})),this.kit.useEvents().on("content-updated",(()=>{window.setTimeout((()=>{this.adaptiveHeightByContent()}),80)}))}onKeydown(e){9===(e.keyCode||e.which)&&(e.preventDefault(),this.kit.useEditor().insertContent("\t"))}onInput(){this.kit.useEvents().trigger("content-updated",this.kit.useEditor().getContentRaw())}adaptiveHeightByContent(){const e=this.kit.useUI().$textarea.offsetHeight-this.kit.useUI().$textarea.clientHeight;this.kit.useUI().$textarea.style.height="0px",this.kit.useUI().$textarea.style.height=`${this.kit.useUI().$textarea.scrollHeight+e}px`}},um,class extends gp{constructor(e){super(e);const t=()=>{this.kit.useEditor().submit()};this.kit.useMounted((()=>{this.kit.useUI().$submitBtn.innerText=this.kit.useConf().sendBtn||zf("send"),this.kit.useUI().$submitBtn.addEventListener("click",t)})),this.kit.useUnmounted((()=>{this.kit.useUI().$submitBtn.removeEventListener("click",t)}))}},yp,class extends gp{constructor(e){super(e),Eh(this,"comment"),this.useEditorStateEffect("reply",(e=>(this.setReply(e),()=>{this.cancelReply()}))),this.kit.useEvents().on("mounted",(()=>{const e=this.kit.useDeps(um);if(!e)throw Error("SubmitPlug not initialized");const t=new lm(this.kit);e.registerCustom({activeCond:()=>!!this.comment,req:()=>Th(this,null,(function*(){if(!this.comment)throw new Error("reply comment cannot be empty");return(yield this.kit.useApi().comments.createComment(bh(vh({},yield t.getSubmitAddParams()),{rid:this.comment.id,page_key:this.comment.page_key,page_title:void 0,site_name:this.comment.site_name}))).data})),post:e=>{const n=this.kit.useConf();e.page_key!==n.pageKey&&window.open(`${e.page_url}#atk-comment-${e.id}`),t.postSubmitAdd(e)}})}))}setReply(e){const t=this.kit.useUI();if(!t.$sendReplyBtn){const n=xf(`<span class="atk-state-btn"><span class="atk-text-wrap">${zf("reply")} <span class="atk-text"></span></span><span class="atk-cancel atk-icon-close atk-icon"></span></span>`);n.querySelector(".atk-text").innerText=`@${e.nick}`,n.addEventListener("click",(()=>{this.kit.useEditor().resetState()})),t.$stateWrap.append(n),t.$sendReplyBtn=n}this.comment=e,t.$textarea.focus()}cancelReply(){if(!this.comment)return;const e=this.kit.useUI();e.$sendReplyBtn&&(e.$sendReplyBtn.remove(),e.$sendReplyBtn=void 0),this.comment=void 0}},class extends gp{constructor(e){super(e),Eh(this,"comment"),Eh(this,"originalSubmitBtnText","Send"),this.useEditorStateEffect("edit",(e=>(this.edit(e),()=>{this.cancelEdit()}))),this.kit.useMounted((()=>{const e=this.kit.useDeps(um);if(!e)throw Error("SubmitPlug not initialized");e.registerCustom({activeCond:()=>!!this.comment,req:()=>Th(this,null,(function*(){const e={content:this.kit.useEditor().getContentFinal(),nick:this.kit.useUI().$name.value,email:this.kit.useUI().$email.value,link:this.kit.useUI().$link.value},t=this.comment;return(yield this.kit.useApi().comments.updateComment(t.id,vh(vh({},t),e))).data})),post:e=>{this.kit.useGlobalCtx().getData().updateComment(e)}})}))}edit(e){const t=this.kit.useUI();if(!t.$editCancelBtn){const e=xf(`<span class="atk-state-btn"><span class="atk-text-wrap">${zf("editCancel")}</span><span class="atk-cancel atk-icon-close atk-icon"></span></span>`);e.onclick=()=>{this.kit.useEditor().resetState()},t.$stateWrap.append(e),t.$editCancelBtn=e}this.comment=e,t.$header.style.display="none",t.$name.value=e.nick||"",t.$email.value=e.email||"",t.$link.value=e.link||"",this.kit.useEditor().setContent(e.content),t.$textarea.focus(),this.updateSubmitBtnText(zf("save"))}cancelEdit(){if(!this.comment)return;const e=this.kit.useUI();e.$editCancelBtn&&(e.$editCancelBtn.remove(),e.$editCancelBtn=void 0),this.comment=void 0;const{name:t,email:n,link:r}=this.kit.useUser().getData();e.$name.value=t,e.$email.value=n,e.$link.value=r,this.kit.useEditor().setContent(""),this.restoreSubmitBtnText(),e.$header.style.display=""}updateSubmitBtnText(e){this.originalSubmitBtnText=this.kit.useUI().$submitBtn.innerText,this.kit.useUI().$submitBtn.innerText=e}restoreSubmitBtnText(){this.kit.useUI().$submitBtn.innerText=this.originalSubmitBtnText}},class extends gp{constructor(e){super(e);const t=()=>this.open(),n=()=>this.close();this.kit.useMounted((()=>{this.kit.useEvents().on("editor-open",t),this.kit.useEvents().on("editor-close",n)})),this.kit.useUnmounted((()=>{this.kit.useEvents().off("editor-open",t),this.kit.useEvents().off("editor-close",n)}))}open(){var e;null==(e=this.kit.useUI().$textareaWrap.querySelector(".atk-comment-closed"))||e.remove(),this.kit.useUI().$textarea.style.display="",this.kit.useUI().$bottom.style.display=""}close(){this.kit.useUI().$textareaWrap.querySelector(".atk-comment-closed")||this.kit.useUI().$textareaWrap.prepend(xf(`<div class="atk-comment-closed">${zf("onlyAdminCanReply")}</div>`)),this.kit.useUser().getData().is_admin?(this.kit.useUI().$textarea.style.display="",this.kit.useUI().$bottom.style.display=""):(this.kit.useUI().$textarea.style.display="none",this.kit.useEvents().trigger("panel-close"),this.kit.useUI().$bottom.style.display="none")}},hm,fm,pm];class gm{constructor(e){this.plugs=e}useEditor(){return this.plugs.editor}useGlobalCtx(){return this.plugs.editor.ctx}useConf(){return this.plugs.editor.ctx.conf}useApi(){return this.plugs.editor.ctx.getApi()}useUser(){return this.plugs.editor.ctx.get("user")}useUI(){return this.plugs.editor.getUI()}useEvents(){return this.plugs.getEvents()}useMounted(e){this.useEvents().on("mounted",e)}useUnmounted(e){this.useEvents().on("unmounted",e)}useDeps(e){return this.plugs.get(e)}}class ym{constructor(e){Eh(this,"plugs",[]),Eh(this,"openedPlug",null),Eh(this,"events",new Kf),this.editor=e;let t=!1;this.editor.ctx.watchConf(["imgUpload","emoticons","preview","editorTravel","locale"],(e=>{t&&this.getEvents().trigger("unmounted"),this.clear(),function(e){const t=new Map;return t.set(fm,e.imgUpload),t.set(hm,e.emoticons),t.set(pm,e.preview),t.set(yp,e.editorTravel),mm.filter((e=>!t.has(e)||!!t.get(e)))}(e).forEach((e=>{const t=new gm(this);this.plugs.push(new e(t))})),this.getEvents().trigger("mounted"),t=!0,this.loadPluginUI()})),this.events.on("panel-close",(()=>this.closePlugPanel()))}getPlugs(){return this.plugs}getEvents(){return this.events}clear(){this.plugs=[],this.events=new Kf,this.openedPlug&&this.closePlugPanel()}loadPluginUI(){this.editor.getUI().$plugPanelWrap.innerHTML="",this.editor.getUI().$plugPanelWrap.style.display="none",this.editor.getUI().$plugBtnWrap.innerHTML="",this.plugs.forEach((e=>this.loadPluginItem(e)))}loadPluginItem(e){const t=e.$btn;if(!t)return;this.editor.getUI().$plugBtnWrap.appendChild(t),!t.onclick&&(t.onclick=()=>{this.editor.getUI().$plugBtnWrap.querySelectorAll(".active").forEach((e=>e.classList.remove("active"))),e!==this.openedPlug?(this.openPlugPanel(e),t.classList.add("active")):this.closePlugPanel()});const n=e.$panel;n&&(n.style.display="none",this.editor.getUI().$plugPanelWrap.appendChild(n))}get(e){return this.plugs.find((t=>t instanceof e))}openPlugPanel(e){this.plugs.forEach((t=>{const n=t.$panel;n&&(t===e?(n.style.display="",this.events.trigger("panel-show",e)):(n.style.display="none",this.events.trigger("panel-hide",e)))})),this.editor.getUI().$plugPanelWrap.style.display="",this.openedPlug=e}closePlugPanel(){this.openedPlug&&(this.editor.getUI().$plugPanelWrap.style.display="none",this.events.trigger("panel-hide",this.openedPlug),this.openedPlug=null)}getTransformedContent(e){let t=e;return this.plugs.forEach((e=>{e.contentTransformer&&(t=e.contentTransformer(t))})),t}}const vm="2.9.1";function bm(e){const t=xf('<span><span class="error-message"></span><br/><br/></span>');if(t.querySelector(".error-message").innerText=`${zf("listLoadFailMsg")}\n${e.errMsg}`,e.retryFn){const n=xf(`<span style="cursor:pointer;">${zf("listRetry")}</span>`);n.onclick=()=>e.retryFn&&e.retryFn(),t.appendChild(n)}if(e.onOpenSidebar){const n=xf(`<span atk-only-admin-show> | <span style="cursor:pointer;">${zf("openName",{name:zf("ctrlCenter")})}</span></span>`);t.appendChild(n),n.onclick=()=>e.onOpenSidebar&&e.onOpenSidebar()}op(e.$err,t)}const Em=[e=>{e.on("list-fetch",(t=>{if(e.getData().getLoading())return;e.getData().setLoading(!0);const n=vh({offset:0,limit:e.conf.pagination.pageSize,flatMode:e.conf.flatMode,paramsModifier:e.conf.listFetchParamsModifier},t);e.getData().setListLastFetch({params:n});const r={limit:n.limit,offset:n.offset,flat_mode:n.flatMode,page_key:e.getConf().pageKey,site_name:e.getConf().site};n.paramsModifier&&n.paramsModifier(r),e.getApi().comments.getComments(vh(vh({},r),e.getApi().getUserFields())).then((({data:t})=>{e.getData().setListLastFetch({params:n,data:t}),e.getData().loadComments(t.comments),e.getData().updatePage(t.page),n.onSuccess&&n.onSuccess(t),e.trigger("list-fetched",{params:n,data:t})})).catch((t=>{const r={msg:t.msg||String(t),data:t.data};throw n.onError&&n.onError(r),e.trigger("list-failed",r),e.trigger("list-fetched",{params:n,error:r}),t})).finally((()=>{e.getData().setLoading(!1)}))}))},e=>{e.on("list-fetch",(t=>{const n=e.get("list");0===t.offset&&ip(!0,n.$el)})),e.on("list-fetched",(()=>{ip(!1,e.get("list").$el)}))},e=>{e.on("comment-rendered",(t=>{if(!0===e.conf.listUnreadHighlight){const n=e.getData().getNotifies(),r=n.find((e=>e.comment_id===t.getID()));r?(t.getRender().setUnread(!0),t.getRender().setOpenAction((()=>{window.open(r.read_link),e.getData().updateNotifies(n.filter((e=>e.comment_id!==t.getID())))}))):t.getRender().setUnread(!1)}})),e.on("list-goto",(t=>{const n=Lf("atk_notify_key");n&&e.getApi().notifies.markNotifyRead(t,n).then((()=>{e.getData().updateNotifies(e.getData().getNotifies().filter((e=>e.comment_id!==t)))}))}))},e=>{let t;e.on("mounted",(()=>{const n=e.get("list");t=n.$el.querySelector('[data-action="admin-close-comment"]'),t.addEventListener("click",(()=>{const t=e.getData().getPage();if(!t)throw new Error("Page data not found");t.admin_only=!t.admin_only,function(e,t){e.editorShowLoading(),e.getApi().pages.updatePage(t.id,t).then((({data:t})=>{e.getData().updatePage(t)})).catch((t=>{e.editorShowNotify(`${zf("editFail")}: ${t.message||String(t)}`,"e")})).finally((()=>{e.editorHideLoading()}))}(e,t)}))})),e.on("page-loaded",(n=>{var r,i;const s=e.get("editor");!0===(null==n?void 0:n.admin_only)?(null==(r=s.getPlugs())||r.getEvents().trigger("editor-close"),t&&(t.innerText=zf("openComment"))):(null==(i=s.getPlugs())||i.getEvents().trigger("editor-open"),t&&(t.innerText=zf("closeComment")))})),e.on("list-loaded",(t=>{e.editorResetState()}))},e=>{e.on("list-loaded",(()=>{(()=>{var t,n;const r=e.get("list").$el.querySelector(".atk-comment-count .atk-text");if(!r)return;const i=Df(zf("counter",{count:`${Number(null==(n=null==(t=e.getData().getListLastFetch())?void 0:t.data)?void 0:n.count)||0}`}));r.innerHTML=i.replace(/(\d+)/,'<span class="atk-comment-count-num">$1</span>')})()})),e.on("comment-inserted",(()=>{const t=e.getData().getListLastFetch();(null==t?void 0:t.data)&&(t.data.count+=1)})),e.on("comment-deleted",(()=>{const t=e.getData().getListLastFetch();(null==t?void 0:t.data)&&(t.data.count-=1)}))},e=>{let t=null;const n=()=>{if(!t)return;const n=e.get("user").getData();if(n.name&&n.email){t.classList.remove("atk-hide");const e=t.querySelector(".atk-text");e&&(e.innerText=n.is_admin?zf("ctrlCenter"):zf("msgCenter"))}else t.classList.add("atk-hide")};e.watchConf(["locale"],(r=>{const i=e.get("list");t=i.$el.querySelector('[data-action="open-sidebar"]'),t&&(t.onclick=()=>{e.showSidebar()},n())})),e.on("user-changed",(e=>{n()}))},e=>{let t=null;e.on("mounted",(()=>{const n=e.get("list");t=n.$el.querySelector(".atk-unread-badge")})),e.on("notifies-updated",(e=>{var n;n=e.length||0,t&&(n>0?(t.innerText=`${Number(n||0)}`,t.style.display="block"):t.style.display="none")}))},e=>{const t=t=>{e.conf.listFetchParamsModifier=t,e.reload()},n=e=>{!function(e){const{$dropdownWrap:t,dropdownList:n}=e;if(t.querySelector(".atk-dropdown"))return;t.classList.add("atk-dropdown-wrap"),t.append(xf('<span class="atk-arrow-down-icon"></span>'));let r=0;const i=(e,t,n,i)=>{i(),r=e,s.querySelectorAll(".active").forEach((e=>{e.classList.remove("active")})),t.classList.add("active"),s.style.display="none",setTimeout((()=>{s.style.display=""}),80)},s=xf('<ul class="atk-dropdown atk-fade-in"></ul>');n.forEach(((e,t)=>{const[n,a]=e,o=xf('<li class="atk-dropdown-item"><span></span></li>'),c=o.querySelector("span");c.innerText=n,c.onclick=()=>{i(t,o,n,a)},s.append(o),t===r&&o.classList.add("active")})),t.append(s)}({$dropdownWrap:e,dropdownList:[[zf("sortLatest"),()=>{t((e=>{e.sort_by="date_desc"}))}],[zf("sortBest"),()=>{t((e=>{e.sort_by="vote"}))}],[zf("sortOldest"),()=>{t((e=>{e.sort_by="date_asc"}))}],[zf("sortAuthor"),()=>{t((e=>{e.view_only_admin=!0}))}]]})};e.watchConf(["listSort","locale"],(t=>{const r=e.get("list").$el.querySelector(".atk-comment-count");r&&(t.listSort?n(r):function(e){var t,n;const{$dropdownWrap:r}=e;r.classList.remove("atk-dropdown-wrap"),null==(t=r.querySelector(".atk-arrow-down-icon"))||t.remove(),null==(n=r.querySelector(".atk-dropdown"))||n.remove()}({$dropdownWrap:r}))}))},e=>{let t=0;const n=({locker:n})=>{const r=function(){const e=window.location.hash.match(/#atk-comment-([0-9]+)/);let t=e&&e[1]&&!Number.isNaN(parseFloat(e[1]))?parseFloat(e[1]):null;t||(t=Number(Lf("atk_comment")));return t||null}();r&&(n&&t===r||(t=r,e.trigger("list-goto",r)))},r=()=>n({locker:!1}),i=()=>n({locker:!0});e.on("mounted",(()=>{window.addEventListener("hashchange",r),e.on("list-loaded",i)})),e.on("unmounted",(()=>{window.removeEventListener("hashchange",r),e.off("list-loaded",i)}))},e=>{e.on("list-goto",(t=>Th(void 0,null,(function*(){let n=e.getCommentNodes().find((e=>e.getID()===t));if(!n){const r=(yield e.getApi().comments.getComment(t)).data;e.get("list").getListLayout({forceFlatMode:!0}).insert(r.comment,r.reply_comment),n=e.getCommentNodes().find((e=>e.getID()===t))}n&&n.focus()}))))},e=>{e.on("list-loaded",(t=>{const n=e.get("list"),r=t.length<=0;let i=n.getCommentsWrapEl().querySelector(".atk-list-no-comment");r?i||(i=xf('<div class="atk-list-no-comment"></div>'),i.innerHTML=vf(n.ctx.conf.noComment||n.ctx.$t("noComment")),n.getCommentsWrapEl().appendChild(i)):null==i||i.remove()}))},e=>{e.on("mounted",(()=>{const t=e.get("list").$el.querySelector(".atk-copyright");t&&(t.innerHTML=`Powered By <a href="https://artalk.js.org" target="_blank" title="Artalk v${vm}">Artalk</a>`)}))},e=>{let t=null;e.on("mounted",(()=>{t=window.setInterval((()=>{e.get("list").$el.querySelectorAll("[data-atk-comment-date]").forEach((t=>{var n,r;const i=new Date(Number(t.getAttribute("data-atk-comment-date")));t.innerText=(null==(r=(n=e.getConf()).dateFormatter)?void 0:r.call(n,i))||jf(i,e.$t)}))}),3e4)})),e.on("unmounted",(()=>{t&&window.clearInterval(t)}))},e=>{e.on("list-fetch",(()=>{op(e.get("list").$el,null)})),e.on("list-failed",(t=>{bm({$err:e.get("list").$el,errMsg:t.msg,errData:t.data,retryFn:()=>e.fetch({offset:0})})}))},e=>{let t=null;const n=()=>{null==t||t.disconnect(),t=null};e.on("list-loaded",(()=>{n();const r=e.get("list").getCommentsWrapEl().childNodes,i=r.length>2?r[r.length-2]:null;i&&("IntersectionObserver"in window?(r=>{const i=e.conf.scrollRelativeTo&&e.conf.scrollRelativeTo()||null;t=new IntersectionObserver((([t])=>{t.isIntersecting&&(n(),e.trigger("list-reach-bottom"))}),{threshold:.9,root:i}),t.observe(r)})(i):console.warn("IntersectionObserver api not supported"))})),e.on("unmounted",(()=>{n()}))},e=>{const t=()=>{const t=e.get("list"),n=e.conf.scrollRelativeTo&&e.conf.scrollRelativeTo();(n||window).scroll({top:Mf(t.$el,n).top,left:0})};e.on("mounted",(()=>{e.on("list-goto-first",t)})),e.on("unmounted",(()=>{e.off("list-goto-first",t)}))}];let Tm=!1;let Sm;function Am(e,t){const n="atk-dark-mode";e.forEach((e=>{t?e.classList.add(n):e.classList.remove(n)}))}const _m=[e=>{e.watchConf(["imgLazyLoad","markedOptions"],(t=>{!function(e){try{if(!Nd.name)return}catch(YR){return}const t=new Nd;t.setOptions(vh(vh({renderer:Sf({imgLazyLoad:e.imgLazyLoad})},If),e.markedOptions)),wf=t}({markedOptions:e.getConf().markedOptions,imgLazyLoad:e.getConf().imgLazyLoad})})),e.watchConf(["markedReplacers"],(e=>{var t;e.markedReplacers&&(t=e.markedReplacers,Of=t)}))},e=>{const t=e.get("editor"),n=new ym(t);e.inject("editorPlugs",n)},e=>{const t=()=>{var t;t=e.get("user").getData().is_admin,function(e){const t=[];e.$root.querySelectorAll("[atk-only-admin-show]").forEach((e=>t.push(e)));const n=document.querySelector(".atk-sidebar");return n&&n.querySelectorAll("[atk-only-admin-show]").forEach((e=>t.push(e))),t}({$root:e.$root}).forEach((e=>{t?e.classList.remove("atk-hide"):e.classList.add("atk-hide")}))};e.on("list-loaded",(()=>{t()})),e.on("user-changed",(e=>{t()}))},...Em,e=>{e.on("list-fetch",(t=>{if(0!==t.offset)return;const n=e.getApi().getUserFields();n&&e.getApi().notifies.getNotifies(n).then((t=>{e.getData().updateNotifies(t.data.notifies)}))}))},e=>{e.watchConf(["site","pageKey","pageTitle","countEl","pvEl","statPageKeyAttr"],(t=>{am({getApi:()=>e.getApi(),siteName:t.site,pageKey:t.pageKey,pageTitle:t.pageTitle,countEl:t.countEl,pvEl:t.pvEl,pageKeyAttr:t.statPageKeyAttr,pvAdd:"boolean"!=typeof e.conf.pvAdd||e.conf.pvAdd})}))},e=>{e.watchConf(["apiVersion","versionCheck"],(t=>{const n=e.get("list");t.apiVersion&&t.versionCheck&&!Tm&&function(e,t,n){const r=function(e,t){const n=e.split("."),r=t.split(".");for(let i=0;i<3;i++){const e=Number(n[i]),t=Number(r[i]);if(e>t)return 1;if(t>e)return-1;if(!Number.isNaN(e)&&Number.isNaN(t))return 1;if(Number.isNaN(e)&&!Number.isNaN(t))return-1}return 0}(t,n);if(0===r)return;const i=xf(`<div class="atk-version-check-notice">${zf("updateMsg",{name:zf(r<0?"frontend":"backend")})} <span class="atk-info">${zf("currentVersion")}: ${zf("frontend")} ${t} / ${zf("backend")} ${n}</span></div>`),s=xf(`<span class="atk-ignore-btn">${zf("ignore")}</span>`);s.onclick=()=>{i.remove(),Tm=!0},i.append(s),e.$el.parentElement.prepend(i)}(n,vm,t.apiVersion)}))},e=>{let t;const n=n=>{const r=[e.$root,e.get("layerManager").getEl()];Sm||(Sm=window.matchMedia("(prefers-color-scheme: dark)")),"auto"===n?(t||(t=e=>Am(r,e.matches),Sm.addEventListener("change",t)),Am(r,Sm.matches)):(t&&(Sm.removeEventListener("change",t),t=void 0),Am(r,n))};e.watchConf(["darkMode"],(e=>n(e.darkMode))),e.on("created",(()=>n(e.conf.darkMode))),e.on("unmounted",(()=>{t&&(null==Sm||Sm.removeEventListener("change",t)),t=void 0}))}],km=new Set([..._m]),wm=new WeakMap;function Om(e){return Th(this,null,(function*(){var t;const n=new Set,r=t=>{t.forEach((t=>{"function"!=typeof t||n.has(t)||(t(e,wm.get(t)),n.add(t))}))};r(km);const{data:i}=yield e.getApi().conf.conf().catch((t=>{throw function(e,t){var n;let r="";if(null==(n=t.data)?void 0:n.err_no_site){const t={create_name:e.conf.site,create_urls:`${window.location.protocol}//${window.location.host}`};r=`sites|${JSON.stringify(t)}`}bm({$err:e.get("list").$el,errMsg:t.msg||String(t),errData:t.data,retryFn:()=>Om(e),onOpenSidebar:e.get("user").getData().is_admin?()=>e.showSidebar({view:r}):void 0})}(e,t),t}));let s={apiVersion:null==(t=i.version)?void 0:t.version};if(e.conf.useBackendConf){if(!i.frontend_conf)throw new Error("The remote backend does not respond to the frontend conf, but `useBackendConf` conf is enabled");s=vh(vh({},s),function(e){const t=["el","pageKey","pageTitle","server","site","pvEl","countEl","statPageKeyAttr"];return Object.keys(e).forEach((n=>{t.includes(n)&&delete e[n],"darkMode"===n&&"auto"!==e[n]&&delete e[n]})),e.emoticons&&"string"==typeof e.emoticons&&(e.emoticons=e.emoticons.trim(),e.emoticons.startsWith("[")||e.emoticons.startsWith("{")?e.emoticons=JSON.parse(e.emoticons):"false"===e.emoticons&&(e.emoticons=!1)),e}(i.frontend_conf))}e.conf.remoteConfModifier&&e.conf.remoteConfModifier(s),s.pluginURLs&&(yield function(e,t){return Th(this,null,(function*(){const n=new Set;if(!e||!Array.isArray(e))return n;const r=[];return e.forEach((e=>{/^(http|https):\/\//.test(e)||(e=`${t.replace(/\/$/,"")}/${e.replace(/^\//,"")}`),r.push(new Promise((t=>{if(document.querySelector(`script[src="${e}"]`))return void t();const n=document.createElement("script");n.src=e,document.head.appendChild(n),n.onload=()=>t(),n.onerror=e=>{console.error("[artalk] Failed to load plugin",e),t()}})))})),yield Promise.all(r),Object.values(window.ArtalkPlugins||{}).forEach((e=>{"function"==typeof e&&n.add(e)})),n}))}(s.pluginURLs,e.conf.server).then((e=>{r(e)})).catch((e=>{console.error("Failed to load plugin",e)}))),e.trigger("created"),e.updateConf(s),e.trigger("mounted"),e.conf.remoteConfModifier||e.fetch({offset:0})}))}let Im=class e{constructor(e){Eh(this,"ctx");const t=Jf(e,!0);this.ctx=new tp(t),Object.entries(sm).forEach((([e,t])=>{const n=t(this.ctx);n&&this.ctx.inject(e,n)})),Om(this.ctx)}getConf(){return this.ctx.getConf()}getEl(){return this.ctx.$root}update(e){return this.ctx.updateConf(e),this}reload(){this.ctx.reload()}destroy(){for(this.ctx.trigger("unmounted");this.ctx.$root.firstChild;)this.ctx.$root.removeChild(this.ctx.$root.firstChild)}on(e,t){this.ctx.on(e,t)}off(e,t){this.ctx.off(e,t)}trigger(e,t){this.ctx.trigger(e,t)}setDarkMode(e){this.ctx.setDarkMode(e)}static init(t){return new e(t)}static use(e,t){km.add(e),wm.set(e,t)}static loadCountWidget(e){const t=Jf(e,!0);am({getApi:()=>new wh(Zf(t)),siteName:t.site,countEl:t.countEl,pvEl:t.pvEl,pageKeyAttr:t.statPageKeyAttr,pvAdd:!1})}get $root(){return this.ctx.$root}get conf(){return this.ctx.getConf()}};const Rm=n({__name:"Artalk",props:{fill:{type:[Boolean,String],default:!1}},setup(e){const t=j(),n=e,{theme:s}=R(),{comment:c}=s.value,l=r(null),u=r(null),h=e=>{const t=document.querySelector("#comment-dom.fill");if(!t)return!1;const n=t.querySelector("textarea");n.value=e+"\n\n",n.focus()};return y((()=>t.path),(e=>{O().then((()=>{var t,n;null==(t=l.value)||t.update({pageKey:e}),null==(n=l.value)||n.reload()}))})),i((()=>{(async()=>{var e,r,i;try{return await O(),l.value=Im.init({el:u.value||"#comment-dom",locale:"auto",pageKey:t.path,site:c.artalk.site,server:c.artalk.server}),null==(e=l.value)||e.on("created",(()=>{n.fill&&h(n.fill)})),null==(r=l.value)||r.on("list-loaded",(()=>{zc(null,s.value,!0)})),null==(i=l.value)||i.on("comment-updated",(()=>{zc(null,s.value,!0)})),"undefined"==typeof $comment&&"undefined"!=typeof window&&(window.$comment=l.value),l.value}catch(a){console.error("åˆå§‹åŒ–è¯„è®ºå‡ºé”™ï¼š",a)}})()})),z((()=>{var e;null==(e=l.value)||e.destroy()})),(t,n)=>(a(),o("div",{ref_key:"commentRef",ref:u,id:"comment-dom",class:D(["comment-content","artalk",{fill:e.fill}])},null,2))}},[["__scopeId","data-v-afcd36c4"]]),Cm=n({__name:"Slider",props:{value:{type:Number,default:.7},min:{type:Number,default:0},max:{type:Number,default:1},interval:{type:Number,default:.01}},emits:["update"],setup(e,{emit:t}){const n=X((()=>J((()=>import("./vue-slider-component.umd.min.Bdcqd2P6.js").then((e=>e.v))),__vite__mapDeps([0,1])))),i=e,s=r(i.value),o=t,l=e=>{o("update",e)};return y((()=>i.value),(e=>s.value=e)),(t,r)=>{const i=K("ClientOnly");return a(),$(i,null,{default:N((()=>[P(c(n),{modelValue:c(s),"onUpdate:modelValue":r[0]||(r[0]=e=>b(s)?s.value=e:null),min:e.min,max:e.max,interval:e.interval,tooltip:"none",class:"slider",onChange:l},null,8,["modelValue","min","max","interval"])])),_:1})}}},[["__scopeId","data-v-e1f63e0d"]]),Pm={class:"tools"},Nm={class:"all-menu"},xm=["href"],Dm=["href"],Lm=["href"],Mm={class:"all-menu general"},Fm={class:"all-menu general"},jm={class:"name"},$m={key:0,class:"all-menu general player"},Bm={class:"data"},Um={class:"name"},Hm={class:"artist"},qm={__name:"RightMenu",setup(e,{expose:t}){const n=B(),i=Ie(),{theme:s}=R(),{useRightMenu:u,themeType:f,playerShow:p,playerVolume:m,playState:g,playerData:y}=Oe(i),v=r(0),b=r(0),E=r("normal"),T=r(null),S=r(null),A=r(!1),_=r(!1),k=r(null),w=e=>{null==e||e.preventDefault(),A.value=!1,v.value=0,b.value=0,E.value="normal",T.value=null,k.value=!1},I=e=>{if(!(null==e?void 0:e.tagName))return!1;switch(T.value=window.getSelection().toString().length>0?window.getSelection().toString():e,e.tagName){case"A":E.value="link";break;case"IMG":E.value="image";break;case"INPUT":case"TEXTAREA":E.value="input";break;default:window.getSelection().toString().length>0?E.value="text":E.value="normal"}},L=async e=>{var t;try{if(!e)return!1;switch(e){case"back":window.history.back();break;case"forward":window.history.forward();break;case"reload":window.location.reload();break;case"open-link":window.open(null==(t=T.value)?void 0:t.href);break;case"copy-link":const e=s.value.site+n.route.path;e&&yt(e);break;case"input-paste":const r=await navigator.clipboard.readText();if(T.value&&"object"==typeof T.value){const e=T.value,t=e.selectionStart,n=e.selectionEnd,i=e.value,s=i.substring(0,t)+r+i.substring(n);e.value=s;const a=t+r.length;e.setSelectionRange(a,a)}break;default:return!1}}catch(r){$message.error("å³é”®èœå•å‘ç”Ÿé”™è¯¯ï¼Œè¯·é‡è¯•"),console.error("å³é”®èœå•å‡ºé”™ï¼š",r)}},M=e=>{if("object"!=typeof $player||!e)return!1;switch(e){case"toggle":null==$player||$player.toggle();break;case"next":null==$player||$player.skipForward(),null==$player||$player.play();break;case"prev":null==$player||$player.skipBack(),null==$player||$player.play();break;default:return!1}},F=e=>{if(!e)return!1;const t=/^(http|https):\/\//i.test(e)?e:`http://${e}`;try{return new URL(t),t}catch(n){return!1}},j=()=>{_.value=!1,"undefined"!=typeof $comment&&$comment.reload()};return t({openRightMenu:e=>!(!e.ctrlKey&&u.value)||(window.innerWidth<768||(e.preventDefault(),A.value=!1,I(null==e?void 0:e.target),void O().then((()=>{A.value=!0,O().then((()=>(()=>{var t,n;const r=null==(t=S.value)?void 0:t.offsetWidth,i=null==(n=S.value)?void 0:n.offsetHeight,s=window.innerWidth,a=window.innerHeight;let o=e.clientX,c=e.clientY;const l=20;o+r>s-l&&(o=s-r-l),c+i>a-l&&(c=a-i-l),o<l&&(o=l),c<l&&(c=l),v.value=o,b.value=c})()))}))))}),(e,t)=>{const r=Cm,u=Rm,O=uh;return a(),$(Y,{to:"body"},[P(x,{name:"fade",mode:"out-in"},{default:N((()=>[c(A)?(a(),o("div",{key:0,class:"right-menu",onClick:t[27]||(t[27]=e=>A.value=!1),onContextmenu:G(w,["stop"])},[h("div",{style:l({left:c(v)+"px",top:c(b)+"px"}),ref_key:"rightMenuRef",ref:S,class:"menu-content s-card hover",onContextmenu:G(w,["stop"])},[h("div",Pm,[h("div",{class:"btn",title:"åé€€",onClick:t[0]||(t[0]=e=>L("back"))},t[28]||(t[28]=[h("i",{class:"iconfont icon-left"},null,-1)])),h("div",{class:"btn",title:"å‰è¿›",onClick:t[1]||(t[1]=e=>L("forward"))},t[29]||(t[29]=[h("i",{class:"iconfont icon-right"},null,-1)])),h("div",{class:"btn",title:"åˆ·æ–°",onClick:t[2]||(t[2]=e=>L("reload"))},t[30]||(t[30]=[h("i",{class:"iconfont icon-refresh"},null,-1)])),h("div",{class:"btn",title:"è¿”å›é¡¶éƒ¨",onClick:t[3]||(t[3]=(...e)=>c(dt)&&c(dt)(...e))},t[31]||(t[31]=[h("i",{class:"iconfont icon-arrow-up"},null,-1)]))]),h("div",Nm,["normal"===c(E)?(a(),o("div",{key:0,class:"btn",onClick:t[4]||(t[4]=e=>c(n).go(c(gt)(c(s).postData)))},t[32]||(t[32]=[h("i",{class:"iconfont icon-shuffle"},null,-1),h("span",{class:"name"},"éšä¾¿é€›é€›",-1)]))):d("",!0),"normal"===c(E)?(a(),o("div",{key:1,class:"btn",onClick:t[5]||(t[5]=e=>c(n).go("/pages/categories"))},t[33]||(t[33]=[h("i",{class:"iconfont icon-folder"},null,-1),h("span",{class:"name"},"å…¨éƒ¨åˆ†ç±»",-1)]))):d("",!0),"normal"===c(E)?(a(),o("div",{key:2,class:"btn",onClick:t[6]||(t[6]=e=>c(n).go("/pages/tags"))},t[34]||(t[34]=[h("i",{class:"iconfont icon-hashtag"},null,-1),h("span",{class:"name"},"å…¨éƒ¨æ ‡ç­¾",-1)]))):d("",!0),"link"===c(E)?(a(),o("div",{key:3,class:"btn",onClick:t[7]||(t[7]=e=>L("open-link"))},t[35]||(t[35]=[h("i",{class:"iconfont icon-window"},null,-1),h("span",{class:"name"},"æ–°æ ‡ç­¾é¡µæ‰“å¼€",-1)]))):d("",!0),"link"===c(E)?(a(),o("div",{key:4,class:"btn",onClick:t[8]||(t[8]=e=>{var t,n;return c(yt)((null==(t=c(T))?void 0:t.getAttribute("original-href"))||(null==(n=c(T))?void 0:n.href))})},t[36]||(t[36]=[h("i",{class:"iconfont icon-link"},null,-1),h("span",{class:"name"},"å¤åˆ¶é“¾æ¥åœ°å€",-1)]))):d("",!0),"image"===c(E)?(a(),o("div",{key:5,class:"btn",onClick:t[9]||(t[9]=e=>{var t;return c(vt)(null==(t=c(T))?void 0:t.src)})},t[37]||(t[37]=[h("i",{class:"iconfont icon-image-copy"},null,-1),h("span",{class:"name"},"å¤åˆ¶æ­¤å›¾ç‰‡",-1)]))):d("",!0),"image"===c(E)?(a(),o("div",{key:6,class:"btn",onClick:t[10]||(t[10]=e=>{var t;return c(bt)(null==(t=c(T))?void 0:t.src)})},t[38]||(t[38]=[h("i",{class:"iconfont icon-download"},null,-1),h("span",{class:"name"},"ä¸‹è½½æ­¤å›¾ç‰‡",-1)]))):d("",!0),"input"===c(E)&&"string"==typeof c(T).value?(a(),o("div",{key:7,class:"btn",onClick:t[11]||(t[11]=e=>L("input-paste"))},t[39]||(t[39]=[h("i",{class:"iconfont icon-paste"},null,-1),h("span",{class:"name"},"ç²˜è´´æ–‡æœ¬",-1)]))):d("",!0),"text"!==c(E)&&"input"!==c(E)||!F(c(T))?d("",!0):(a(),o("a",{key:8,href:`${F(c(T))}`,class:"btn right-menu-link",target:"_blank"},t[40]||(t[40]=[h("i",{class:"iconfont icon-link"},null,-1),h("span",{class:"name"},"åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€",-1)]),8,xm)),"text"===c(E)||"input"===c(E)?(a(),o("a",{key:9,href:`https://www.baidu.com/s?wd=${encodeURIComponent(c(T))}`,class:"btn right-menu-link",target:"_blank"},t[41]||(t[41]=[h("i",{class:"iconfont icon-baidu"},null,-1),h("span",{class:"name"},"ä½¿ç”¨ç™¾åº¦æœç´¢",-1)]),8,Dm)):d("",!0),"text"===c(E)||"input"===c(E)?(a(),o("a",{key:10,href:`https://cn.bing.com/search?q=${encodeURIComponent(c(T))}`,class:"btn right-menu-link",target:"_blank"},t[42]||(t[42]=[h("i",{class:"iconfont icon-bing"},null,-1),h("span",{class:"name"},"ä½¿ç”¨å¿…åº”æœç´¢",-1)]),8,Lm)):d("",!0),"text"===c(E)||"input"===c(E)?(a(),o("div",{key:11,class:"btn",onClick:t[12]||(t[12]=e=>c(yt)(c(T)))},t[43]||(t[43]=[h("i",{class:"iconfont icon-copy"},null,-1),h("span",{class:"name"},"å¤åˆ¶é€‰ä¸­æ–‡æœ¬",-1)]))):d("",!0),"text"!==c(E)||c(_)||"artalk"!==c(s).comment.type?d("",!0):(a(),o("div",{key:12,class:"btn",onClick:t[13]||(t[13]=e=>(e=>{if(!e)return!1;let t="> "+e.trim().replace(/\s+/g," ");t.length>=200&&(t=t.substring(0,200)+"..."),k.value=t,_.value=!0})(c(T)))},t[44]||(t[44]=[h("i",{class:"iconfont icon-chat"},null,-1),h("span",{class:"name"},"è¯„è®ºé€‰ä¸­å†…å®¹",-1)])))]),h("div",Mm,[h("div",{class:"btn",onClick:t[14]||(t[14]=e=>c(n).go("/pages/cc"))},t[45]||(t[45]=[h("i",{class:"iconfont icon-accessible"},null,-1),h("span",{class:"name"},"ç‰ˆæƒåè®®",-1)])),h("div",{class:"btn",onClick:t[15]||(t[15]=e=>c(n).go("/pages/privacy"))},t[46]||(t[46]=[h("i",{class:"iconfont icon-privacy"},null,-1),h("span",{class:"name"},"éšç§æ”¿ç­–",-1)]))]),h("div",Fm,[h("div",{class:"btn",onClick:t[16]||(t[16]=e=>L("copy-link"))},t[47]||(t[47]=[h("i",{class:"iconfont icon-copy"},null,-1),h("span",{class:"name"},"å¤åˆ¶æœ¬é¡µåœ°å€",-1)])),h("div",{class:"btn",onClick:t[17]||(t[17]=G(((...e)=>c(i).changeThemeType&&c(i).changeThemeType(...e)),["stop"]))},[h("i",{class:D("iconfont icon-"+("auto"===c(f)?"dark":"dark"===c(f)?"light":"auto"))},null,2),h("span",jm,C("auto"===c(f)?"æ·±è‰²æ¨¡å¼":"dark"===c(f)?"æµ…è‰²æ¨¡å¼":"è·Ÿéšç³»ç»Ÿ"),1)])]),c(p)?(a(),o("div",$m,[h("div",Bm,[h("span",Um,C(c(y).name),1),h("span",Hm,C(c(y).artist),1)]),h("div",{class:"volume",onClick:t[21]||(t[21]=G((()=>{}),["stop"]))},[h("i",{class:"iconfont icon-volume-down",onClick:t[18]||(t[18]=e=>m.value=Math.max(0,c(m)-.1))}),P(r,{value:c(m),onUpdate:t[19]||(t[19]=e=>m.value=e)},null,8,["value"]),h("i",{class:"iconfont icon-volume-up",onClick:t[20]||(t[20]=e=>m.value=Math.min(1,c(m)+.1))})]),h("div",{class:"control",onClick:t[26]||(t[26]=G((()=>{}),["stop"]))},[h("div",{class:"btn",title:"ä¸Šä¸€æ›²",onClick:t[22]||(t[22]=e=>M("prev"))},t[48]||(t[48]=[h("i",{class:"iconfont icon-prev"},null,-1)])),c(g)?(a(),o("div",{key:0,class:"btn",title:"æš‚åœ",onClick:t[23]||(t[23]=e=>M("toggle"))},t[49]||(t[49]=[h("i",{class:"iconfont icon-pause"},null,-1)]))):(a(),o("div",{key:1,class:"btn",title:"æ’­æ”¾",onClick:t[24]||(t[24]=e=>M("toggle"))},t[50]||(t[50]=[h("i",{class:"iconfont icon-play"},null,-1)]))),h("div",{class:"btn",title:"ä¸‹ä¸€æ›²",onClick:t[25]||(t[25]=e=>M("next"))},t[51]||(t[51]=[h("i",{class:"iconfont icon-next"},null,-1)]))])])):d("",!0)],36)],32)):d("",!0)])),_:1}),P(O,{show:c(_),title:"å¿«é€Ÿè¯„è®º",titleIcon:"chat",onMaskClick:j,onModalClose:j},{default:N((()=>[t[52]||(t[52]=h("span",{class:"modal-tip"}," æ‚¨æ— éœ€åˆ é™¤ç°æœ‰çš„è¾“å…¥æ¡†å†…å®¹ï¼Œç›´æ¥åœ¨ä¸‹æ–¹è¯„è®ºå³å¯ ",-1)),P(u,{fill:c(k)},null,8,["fill"])])),_:1},8,["show"])])}}},Gm=n(qm,[["__scopeId","data-v-12d2fc40"]]),Wm=n({__name:"Player",setup(e){const t=Ie(),{theme:n}=R(),{enable:l,url:u,id:f,server:p,type:m}=n.value.music,{playerShow:g,playerVolume:v,playState:b,playerData:E}=Oe(t),T=r(null),S=r(null),A=async()=>{try{const e=await(async(e,t,n="netease",r="playlist")=>{const i=await fetch(`${e}?server=${n}&type=${r}&id=${t}`);return(await i.json()).map((e=>{const{pic:t,...n}=e;return{...n,cover:t}}))})(u,f,p,m);_((null==e?void 0:e.length)?e:[])}catch(e){$message.error("è·å–æ’­æ”¾åˆ—è¡¨å¤±è´¥ï¼Œè¯·é‡è¯•"),_([])}},_=async e=>{var t,n,r;try{const i=[...e];if(!(null==i?void 0:i.length))return!1;const s=(await J((()=>import("./APlayer.min.CeQUEA0j.js").then((e=>e.A))),[])).default;T.value=new s({container:S.value,volume:v.value,lrcType:3,listFolded:!0,order:"random",audio:i}),console.info("ğŸµ æ’­æ”¾å™¨æŒ‚è½½å®Œæˆ",T.value),null==(t=T.value)||t.on("canplay",(()=>{k()})),null==(n=T.value)||n.on("play",(()=>{b.value=!0})),null==(r=T.value)||r.on("pause",(()=>{b.value=!1})),k(),window.$player=T.value}catch(i){console.error("åˆå§‹åŒ–æ’­æ”¾å™¨å‡ºé”™ï¼š",i)}},k=()=>{var e,t;try{if(!S.value)return!1;const n=S.value.querySelector(".aplayer-info"),r=n.querySelector(".aplayer-title").innerText,i=n.querySelector(".aplayer-author").innerText.replace(" - ","");E.value={name:r||"æœªçŸ¥æ›²ç›®",artist:i||"æœªçŸ¥è‰ºæœ¯å®¶"},w(null==(e=E.value)?void 0:e.name,null==(t=E.value)?void 0:t.artist)}catch(n){console.error("è·å–æ’­æ”¾ä¿¡æ¯å‡ºé”™ï¼š",n)}},w=(e,t)=>{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:e,artist:t}),navigator.mediaSession.setActionHandler("play",(()=>{var e;null==(e=T.value)||e.play()})),navigator.mediaSession.setActionHandler("pause",(()=>{var e;null==(e=T.value)||e.pause()})),navigator.mediaSession.setActionHandler("previoustrack",(()=>{var e;null==(e=T.value)||e.skipBack()})),navigator.mediaSession.setActionHandler("nexttrack",(()=>{var e;null==(e=T.value)||e.skipForward()})))};return y((()=>g.value),(e=>{var t;if(!e)return!1;null==(t=T.value)||t.destroy(),A()})),y((()=>v.value),(e=>{var t;null==(t=T.value)||t.volume(e,!0)})),i((()=>{window.innerWidth>=768&&g.value&&l&&A()})),s((()=>{var e;null==(e=T.value)||e.destroy()})),(e,t)=>c(g)?(a(),o("div",{key:0,class:D(["player",{playing:c(b)}]),onClick:t[0]||(t[0]=e=>{var t;return null==(t=c(T))?void 0:t.toggle()})},[h("div",{ref_key:"playerDom",ref:S,class:"player-content"},null,512)],2)):d("",!0)}},[["__scopeId","data-v-51a11493"]]),Qm={class:"settings"},Vm={class:"set-list"},Ym={class:"set-item"},zm={class:"set-options"},Km={class:"set-item"},Xm={class:"set-options"},Jm={class:"num"},Zm={class:"set-item"},eg={class:"set-options"},tg={key:0,class:"set-item"},ng={class:"set-options"},rg={class:"set-item"},ig={class:"set-options"},sg={class:"set-item"},ag={class:"set-options"},og=n({__name:"Settings",setup(e){const t=Ie(),{themeType:n,fontFamily:r,fontSize:i,infoPosition:s,backgroundType:l,backgroundUrl:u,bannerType:f}=Oe(t);return(e,p)=>{const m=uh;return a(),o("div",Qm,[h("div",{class:"set-btn s-card",onClick:p[0]||(p[0]=e=>c(t).changeShowStatus("showSeetings"))},p[15]||(p[15]=[h("i",{class:"iconfont icon-style"},null,-1),h("span",{class:"set-text"},"ä¸ªæ€§åŒ–é…ç½®",-1)])),P(m,{show:c(t).showSeetings,title:"ä¸ªæ€§åŒ–é…ç½®",titleIcon:"style",onMaskClick:p[13]||(p[13]=e=>c(t).changeShowStatus("showSeetings")),onModalClose:p[14]||(p[14]=e=>c(t).changeShowStatus("showSeetings"))},{default:N((()=>[h("div",Vm,[p[22]||(p[22]=h("span",{class:"title"},"å­—ä½“",-1)),h("div",Ym,[p[16]||(p[16]=h("span",{class:"set-label"},"å…¨ç«™å­—ä½“",-1)),h("div",zm,[h("span",{class:D(["options",{choose:"hmos"===c(r)}]),onClick:p[1]||(p[1]=e=>r.value="hmos")}," HarmonyOS Sans ",2),h("span",{class:D(["options",{choose:"lxgw"===c(r)}]),onClick:p[2]||(p[2]=e=>r.value="lxgw")}," éœé¹œæ–‡æ¥· ",2)])]),h("div",Km,[p[17]||(p[17]=h("span",{class:"set-label"},"å…¨ç«™å­—ä½“å¤§å°",-1)),h("div",Xm,[h("span",{class:"options",onClick:p[3]||(p[3]=e=>c(t).changeFontSize(!1))}," - "),h("span",Jm,C(c(i)),1),h("span",{class:"options",onClick:p[4]||(p[4]=e=>c(t).changeFontSize(!0))}," + ")])]),p[23]||(p[23]=h("span",{class:"title"},"å£çº¸ä¸ªæ€§åŒ–",-1)),h("div",Zm,[p[18]||(p[18]=h("span",{class:"set-label"},"å…¨ç«™èƒŒæ™¯",-1)),h("div",eg,[h("span",{class:D(["options",{choose:"close"===c(l)}]),onClick:p[5]||(p[5]=e=>l.value="close")}," å…³é—­ ",2),h("span",{class:D(["options",{choose:"patterns"===c(l)}]),onClick:p[6]||(p[6]=e=>l.value="patterns")}," çº¹ç† ",2),h("span",{class:D(["options",{choose:"image"===c(l)}]),onClick:p[7]||(p[7]=e=>(l.value="image",n.value="dark"))}," å›¾ç‰‡ ",2)])]),"image"===c(l)?(a(),o("div",tg,[p[19]||(p[19]=h("span",{class:"set-label"},"èƒŒæ™¯å›¾ç‰‡åœ°å€",-1)),h("div",ng,[U(h("input",{"onUpdate:modelValue":p[8]||(p[8]=e=>b(u)?u.value=e:null),type:"url",pattern:"https?://.+",title:"è¯·è¾“å…¥æœ‰æ•ˆçš„ç½‘å€ï¼Œä¾‹å¦‚ï¼šhttp://www.example.com",required:""},null,512),[[H,c(u)]])])])):d("",!0),p[24]||(p[24]=h("span",{class:"title"},"é¦–é¡µæ ·å¼",-1)),h("div",rg,[p[20]||(p[20]=h("span",{class:"set-label"},"Banner é«˜åº¦",-1)),h("div",ig,[h("span",{class:D(["options",{choose:"half"===c(f)}]),onClick:p[9]||(p[9]=e=>f.value="half")}," åŠå± ",2),h("span",{class:D(["options",{choose:"full"===c(f)}]),onClick:p[10]||(p[10]=e=>f.value="full")}," å…¨å± ",2)])]),p[25]||(p[25]=h("span",{class:"title"},"æ‚é¡¹è°ƒæ•´",-1)),h("div",sg,[p[21]||(p[21]=h("span",{class:"set-label"},"é¢å¤–ä¿¡æ¯æ˜¾ç¤ºä½ç½®",-1)),h("div",ag,[h("span",{class:D(["options",{choose:"normal"===c(s)}]),onClick:p[11]||(p[11]=e=>s.value="normal")}," é»˜è®¤ä½ç½® ",2),h("span",{class:D(["options",{choose:"fixed"===c(s)}]),onClick:p[12]||(p[12]=e=>s.value="fixed")}," å³ä¸‹è§’ ",2)])])])])),_:1},8,["show"])])}}},[["__scopeId","data-v-c1608bc1"]]),cg={id:"main-footer",class:"main-footer"},lg={class:"footer-content"},ug={class:"copyright"},hg={class:"time"},dg=["href"],fg={class:"icp link",href:"https://beian.miit.gov.cn/",target:"_blank"},pg=n({__name:"Footer",setup(e){const t=Ie(),{theme:n}=R(),{footerIsShow:l}=Oe(t),u=r(null),d=A((()=>(new Date).getFullYear()));return i((()=>{(()=>{var e,t;const n=document.getElementById("main-footer");if(!n)return!1;u.value&&(null==(e=u.value)||e.disconnect()),u.value=new IntersectionObserver((e=>{e.forEach((e=>{l.value=!!e.isIntersecting}))})),null==(t=u.value)||t.observe(n)})()})),s((()=>{var e;u.value&&(null==(e=u.value)||e.disconnect())})),(e,t)=>(a(),o("footer",cg,[h("div",lg,[h("div",ug,[h("span",hg,"@ 2019 - "+C(c(d))+" By ",1),h("a",{href:c(n).siteMeta.author.link,class:"author link",target:"_blank"},C(c(n).siteMeta.author.name),9,dg),h("a",fg,[t[0]||(t[0]=h("i",{class:"iconfont icon-safe"},null,-1)),L(" "+C(c(n).icp),1)])]),t[1]||(t[1]=M('<div class="meta" data-v-c03a79ef><a class="power link" href="https://vitepress.dev/" target="_blank" data-v-c03a79ef><span class="by" data-v-c03a79ef>Powered by</span><span class="name" data-v-c03a79ef>VitePress</span></a><a class="theme link" href="https://github.com/Stomatra/vitepress-theme-curve" target="_blank" data-v-c03a79ef><span class="name" data-v-c03a79ef>ä¸»é¢˜</span></a><a class="rss link" href="https://rinyuki.com/rss.xml" target="_blank" data-v-c03a79ef><i class="iconfont icon-rss" data-v-c03a79ef></i><span class="name" data-v-c03a79ef>è®¢é˜…</span></a><a class="cc link" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" target="_blank" data-v-c03a79ef><i class="iconfont icon-line" data-v-c03a79ef></i><i class="iconfont icon-by-line" data-v-c03a79ef></i><i class="iconfont icon-nc-line" data-v-c03a79ef></i><i class="iconfont icon-nd-line" data-v-c03a79ef></i></a></div>',1))])]))}},[["__scopeId","data-v-c03a79ef"]]),mg={class:"footer-link"},gg={key:0,class:"footer-bar"},yg={class:"site-title"},vg={class:"site-desc"},bg={class:"footer-social"},Eg=["href"],Tg=["src"],Sg=["href"],Ag={class:"footer-sitemap"},_g={class:"title"},kg={class:"links"},wg=["href","target"],Og=n({__name:"FooterLink",props:{showBar:{type:Boolean,default:!0}},setup(e){const{theme:t,site:n}=R(),{footer:r,siteMeta:i}=t.value,s=A((()=>{const e=Math.ceil(r.social.length/2);return{first:r.social.slice(0,e),second:r.social.slice(e)}}));return(t,l)=>(a(),o("div",mg,[e.showBar?(a(),o("div",gg,[h("span",yg,C(c(n).title),1),h("span",vg,C(c(n).description),1),l[1]||(l[1]=h("a",{href:"/",class:"to-home"},"äº†è§£æ›´å¤š",-1))])):d("",!0),h("div",bg,[(a(!0),o(f,null,F(c(s).first,((e,t)=>(a(),o("a",{key:t,href:e.link,target:"_blank",class:"social-link"},[h("i",{class:D(`iconfont icon-${e.icon}`)},null,2)],8,Eg)))),128)),h("div",{class:"logo",title:"è¿”å›é¡¶éƒ¨",onClick:l[0]||(l[0]=(...e)=>c(dt)&&c(dt)(...e))},[h("img",{src:c(i).author.cover,alt:"author",class:"author"},null,8,Tg)]),(a(!0),o(f,null,F(c(s).second,((e,t)=>(a(),o("a",{key:t,href:e.link,target:"_blank",class:"social-link"},[h("i",{class:D(`iconfont icon-${e.icon}`)},null,2)],8,Sg)))),128))]),h("div",Ag,[(a(!0),o(f,null,F(c(r).sitemap,((e,t)=>(a(),o("div",{key:t,class:"sitemap-item"},[h("span",_g,C(e.text),1),h("div",kg,[(a(!0),o(f,null,F(e.items,((e,t)=>(a(),o("a",{key:t,href:e.link,target:e.newTab?"_blank":null,class:"link-text"},C(e.text),9,wg)))),128))])])))),128))])]))}},[["__scopeId","data-v-54c3e470"]]),Ig={__name:"Twikoo",props:{fill:{type:[Boolean,String],default:!1}},setup(e){const t=e,{theme:n}=R(),{comment:s}=n.value,c=r(null),l=r(null),u=async()=>{try{await O();const e=await(async e=>{try{const t=e.comment,n=t.type;if(!t.enable)return!1;const r=t[n].server;switch(n){case"artalk":return await Yc(`${r}/dist/Artalk.css`),await new Promise(((e,t)=>{Vc(`${r}/dist/Artalk.js`,{callback:()=>{"object"==typeof Artalk?e(Artalk):t(new Error("Artalk åˆå§‹åŒ–å¤±è´¥"))}})}));case"twikoo":return await new Promise(((e,r)=>{Vc(t[n].js,{callback:()=>{"object"==typeof twikoo?e(twikoo):r(new Error("Twikoo åˆå§‹åŒ–å¤±è´¥"))}})}));default:return!1}}catch(t){throw console.error(`${commentType} åˆå§‹åŒ–å¤±è´¥`,t),t}})(n.value);return c.value=e.init({el:l.value||"#comment-dom",envId:s.twikoo.envId,onCommentLoaded:()=>{t.fill&&h(t.fill),zc(null,n.value,!0)}}),c.value}catch(e){console.error("åˆå§‹åŒ–è¯„è®ºå‡ºé”™ï¼š",e)}},h=e=>{const t=document.querySelector(".tk-input.el-textarea");if(!t)return!1;const n=t.querySelector("textarea");n.value=e+"\n\n",n.focus()};return i((()=>{u()})),(t,n)=>(a(),o("div",{ref_key:"commentRef",ref:l,id:"comment-dom",class:D(["comment-content","twikoo",{fill:e.fill}])},null,2))}},Rg={key:0,class:"title"},Cg=n({__name:"index",props:{fill:{type:[Boolean,String],default:!1}},setup(e,{expose:t}){const{theme:n}=R(),i=B(),s=r(null);return t({scrollToComments:()=>{if(!s.value)return!1;const e=s.value.getBoundingClientRect().top+window.scrollY;window.scrollBy({top:e-80,behavior:"smooth"})}}),(t,r)=>{const l=Rm,u=Ig;return c(n).comment.enable?(a(),o("div",{key:c(i).route.path,ref_key:"mainCommentRef",ref:s,id:"main-comment",class:"comment"},[e.fill?d("",!0):(a(),o("div",Rg,[r[1]||(r[1]=h("span",{class:"name"},[h("i",{class:"iconfont icon-chat"}),L(" è¯„è®º ")],-1)),h("span",{class:"tool",onClick:r[0]||(r[0]=e=>c(i).go("/pages/privacy"))}," éšç§æ”¿ç­– ")])),"artalk"===c(n).comment.type?(a(),$(l,{key:1,fill:e.fill},null,8,["fill"])):"twikoo"===c(n).comment.type?(a(),$(u,{key:2,fill:e.fill},null,8,["fill"])):d("",!0)])):d("",!0)}}},[["__scopeId","data-v-cd04563a"]]),Pg={class:"page-content"},Ng=n({__name:"Page",setup(e){const{frontmatter:t}=R();return(e,n)=>{const r=K("Content"),i=Cg,s=Zl;return a(),o("div",{class:D([c(t).layout||"page",{"has-aside":c(t).aside}])},[h("div",Pg,[P(r,{id:"page-content",class:D(["markdown-main-style",{"s-card":c(t).card}])},null,8,["class"]),c(t).comment?(a(),$(i,{key:0})):d("",!0)]),c(t).aside?(a(),$(s,{key:0})):d("",!0)],2)}}},[["__scopeId","data-v-76cbf9fd"]]),xg={key:0,class:"related-post"},Dg={class:"title"},Lg=n({__name:"RelatedPost",setup(e){const t=B(),{theme:n,page:s,frontmatter:l}=R(),u=r(null),f=()=>{var e,t,r,i;const a=null==(e=l.value.categories)?void 0:e[0],o=null==(r=null==(t=n.value.categoriesData)?void 0:t[a])?void 0:r.articles,c=Qc(null==(i=s.value)?void 0:i.filePath),h=o.filter((e=>e.id!==c));u.value=h.slice(0,2),0===u.value.length&&(u.value=null)};return y((()=>{var e;return null==(e=t.route)?void 0:e.path}),(()=>{f()})),i((()=>{f()})),(e,r)=>{const i=vu;return c(u)?(a(),o("div",xg,[h("div",Dg,[r[1]||(r[1]=h("span",{class:"name"},[h("i",{class:"iconfont icon-star"}),L(" ç›¸å…³æ¨è ")],-1)),h("span",{class:"shuffle",onClick:r[0]||(r[0]=e=>c(t).go(c(gt)(c(n).postData)))}," éšä¾¿é€›é€› ")]),P(i,{listData:c(u),simple:""},null,8,["listData"])])):d("",!0)}}},[["__scopeId","data-v-433cd30e"]]),Mg={class:"post-tip"},Fg={class:"post-title"},jg=n({__name:"NextPost",setup(e){const t=B(),n=Ie(),{theme:l,page:u}=R(),{footerIsShow:f,infoPosition:p}=Oe(n),m=r(null),g=r(!0),v=r(!1),b=r(null),E=()=>{const{postData:e}=l.value,{filePath:t}=u.value;if(!e||!t)return!1;const n=Qc(t),r=e.findIndex((e=>e.id===n));return r>=0&&r<e.length-1?(b.value=e[r+1],g.value=!0,!0):r>0?(b.value=e[r-1],g.value=!1,!0):(b.value=null,!1)},T=()=>{var e,t;const n=document.getElementById("page-content");if(!n)return!1;m.value&&(null==(e=m.value)||e.disconnect()),m.value=new IntersectionObserver((e=>{e.forEach((e=>{v.value=!e.isIntersecting}))})),null==(t=m.value)||t.observe(n)};return y((()=>{var e;return null==(e=t.route)?void 0:e.path}),(()=>{E(),T()})),i((()=>{E(),T()})),s((()=>{var e;m.value&&(null==(e=m.value)||e.disconnect())})),(e,n)=>{var r;return c(b)?(a(),o("div",{key:0,class:D(["next-post","s-card",{fixed:"fixed"===c(p),show:"fixed"===c(p)&&c(v)&&!c(f)}]),onClick:n[0]||(n[0]=e=>{var n;return c(t).go(null==(n=c(b))?void 0:n.regularPath)})},[h("span",Mg,C(c(g)?"ä¸‹ä¸€ç¯‡é˜…è¯»":"é˜…è¯»ä¸Šä¸€ç¯‡"),1),h("span",Fg,C((null==(r=c(b))?void 0:r.title)||"æš‚æ— æ ‡é¢˜"),1)],2)):d("",!0)}}},[["__scopeId","data-v-2f85cdbf"]]),$g={key:0,class:"reward"},Bg={class:"reward-card"},Ug={class:"qr"},Hg=["href"],qg=["src"],Gg=["href"],Wg=["src"],Qg=n({__name:"RewardBtn",props:{showJump:{type:Boolean,default:!0}},setup(e){const t=B(),{theme:n}=R(),{rewardData:i}=n.value,s=r(!1),l=()=>{s.value=!1,t.go("/pages/thanks")};return(t,n)=>{const r=uh;return c(i).enable?(a(),o("div",$g,[h("div",{class:"reward-btn",onClick:n[0]||(n[0]=e=>s.value=!0)},n[3]||(n[3]=[h("i",{class:"iconfont icon-reward"},null,-1),h("span",{class:"text"},"èµèµåšä¸»",-1)])),P(r,{show:c(s),maxWidth:430,title:"èµèµåšä¸»",titleIcon:"reward",onMaskClick:n[1]||(n[1]=e=>s.value=!1),onModalClose:n[2]||(n[2]=e=>s.value=!1)},{default:N((()=>{var t,r,s,u;return[h("div",Bg,[n[7]||(n[7]=h("span",{class:"thank"},"ğŸ™ æ„Ÿè°¢æŠ•å–‚çŒ«çŒ«å–µ~",-1)),h("div",Ug,[(null==(t=c(i))?void 0:t.wechat)?(a(),o("a",{key:0,href:c(i).wechat,class:"qr-img",target:"_blank"},[(null==(r=c(i))?void 0:r.wechat)?(a(),o("img",{key:0,src:c(i).wechat,alt:"å¾®ä¿¡"},null,8,qg)):d("",!0),n[4]||(n[4]=h("span",{class:"tip"},[h("i",{class:"iconfont icon-wechat-pay"}),L(" å¾®ä¿¡ ")],-1))],8,Hg)):d("",!0),(null==(s=c(i))?void 0:s.alipay)?(a(),o("a",{key:1,href:c(i).alipay,class:"qr-img",target:"_blank"},[(null==(u=c(i))?void 0:u.alipay)?(a(),o("img",{key:0,src:c(i).alipay,alt:"æ”¯ä»˜å®"},null,8,Wg)):d("",!0),n[5]||(n[5]=h("span",{class:"tip"},[h("i",{class:"iconfont icon-alipay"}),L(" æ”¯ä»˜å® ")],-1))],8,Gg)):d("",!0)]),e.showJump?(a(),o("div",{key:0,class:"all-list s-card hover",onClick:l},n[6]||(n[6]=[h("span",{class:"title"},"å…¨éƒ¨èµèµè€…åå•",-1),h("span",{class:"tip"}," èµèµé‡‘é¢å°†å…¨éƒ¨ç”¨äºçŒ«çŒ«çš„çŒ«ç²®é’±å“¦~(*^_^*) ",-1)]))):d("",!0)])]})),_:1},8,["show"])])):d("",!0)}}},[["__scopeId","data-v-dbe25b2e"]]),Vg={class:"copyright s-card"},Yg={class:"title"},zg={class:"post-name"},Kg=["href"],Xg={class:"post-meta"},Jg={class:"meta-item"},Zg={class:"name"},ey={class:"meta-item"},ty={class:"name"},ny={class:"meta-item"},ry={class:"name"},iy=n({__name:"Copyright",props:{postData:{type:Object,default:{}}},setup(e){const{theme:t}=R(),n=j();return(r,i)=>{var s,l,u;return a(),o("div",Vg,[h("div",Yg,[h("span",zg,C((null==(s=e.postData)?void 0:s.title)||"æœªå‘½åæ–‡ç« "),1),h("a",{href:c(t).siteMeta.site+c(n).path,class:"post-link",target:"_blank"},C(c(t).siteMeta.site+c(n).path),9,Kg)]),h("div",Xg,[h("div",Jg,[i[0]||(i[0]=h("span",{class:"tip"},"ä½œè€…",-1)),h("span",Zg,C(c(t).siteMeta.author.name),1)]),h("div",ey,[i[1]||(i[1]=h("span",{class:"tip"},"å‘å¸ƒäº",-1)),h("span",ty,C(c(ft)(null==(l=e.postData)?void 0:l.date)),1)]),h("div",ny,[i[2]||(i[2]=h("span",{class:"tip"},"æ›´æ–°äº",-1)),h("span",ry,C(c(ft)(null==(u=e.postData)?void 0:u.lastModified)),1)]),i[3]||(i[3]=h("div",{class:"meta-item cc"},[h("span",{class:"tip"},"è®¸å¯åè®®"),h("a",{class:"name",href:"https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans",target:"_blank"}," CC BY-NC-SA 4.0 ")],-1))]),i[4]||(i[4]=h("span",{class:"meta-tip"},"ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…",-1))])}}},[["__scopeId","data-v-aa5a716f"]]),sy={key:0,class:"references s-card"},ay={class:"list"},oy=["href"],cy={class:"item-title"},ly=n({__name:"References",setup(e){var t;const{frontmatter:n}=R(),r=null==(t=n.value)?void 0:t.references;return(e,t)=>c(r)?(a(),o("div",sy,[t[0]||(t[0]=h("div",{class:"title"},[h("i",{class:"iconfont icon-quote"}),h("span",{class:"title-text"},"å‚è€ƒèµ„æ–™")],-1)),h("ul",ay,[(a(!0),o(f,null,F(c(r),((e,t)=>(a(),o("a",{key:t,href:e.url,class:"list-item",target:"_blank"},[h("span",cy,C(e.title),1)],8,oy)))),128))])])):d("",!0)}},[["__scopeId","data-v-b26056d5"]]),uy={key:0,class:"article-gpt s-card"},hy={class:"title"},dy={class:"content s-card"},fy={class:"text"},py={key:0,class:"point"},my=n({__name:"ArticleGPT",setup(e){const{frontmatter:t}=R(),n=B(),l=r(!0),u=r(null),f=r(""),p=r(0),m=r(!1),g=(e=null)=>{try{const n=e||t.value.articleGPT;if(!n)return!1;if(p.value<n.length){f.value+=n.charAt(p.value++);const t=120*Math.random()+30;setTimeout((()=>{g(e)}),t)}else l.value=!1}catch(n){l.value=!1,f.value="æ‘˜è¦ç”Ÿæˆå¤±è´¥",$message.error("æ‘˜è¦ç”Ÿæˆå¤±è´¥ï¼Œè¯·é‡è¯•"),console.error("æ‘˜è¦ç”Ÿæˆå¤±è´¥ï¼š",n)}},y=()=>{if(l.value)return!1;p.value=0,l.value=!0,f.value="",m.value?(g(),m.value=!1):(m.value=!0,g("æˆ‘æ˜¯ç„¡åå¼€å‘çš„æ‘˜è¦ç”ŸæˆåŠ©ç† FakeGPTï¼Œå¦‚ä½ æ‰€è§ï¼Œè¿™æ˜¯ä¸€ä¸ªå‡çš„ GPTï¼Œæ‰€æœ‰æ–‡æœ¬çš†æºäºæœ¬åœ°ä¹¦å†™çš„å†…å®¹ã€‚æˆ‘åœ¨è¿™é‡Œåªè´Ÿè´£æ˜¾ç¤ºï¼Œå¹¶ä»¿ç…§ GPT çš„å½¢å¼è¾“å‡ºï¼Œå¦‚æœä½ åƒæˆ‘ä¸€æ ·å›Šä¸­ç¾æ¶©ï¼Œä½ ä¹Ÿå¯ä»¥åƒæˆ‘è¿™æ ·åšï¼Œå½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ Tianli å¼€å‘çš„ TianliGPT æ¥æ›´ç®€å•åœ°å®ç°çœŸæ­£çš„ AI æ‘˜è¦ã€‚"))};return i((()=>{t.value.articleGPT&&(u.value=setTimeout((()=>{g()}),1300*Math.random()+2500))})),s((()=>{clearTimeout(u.value)})),(e,r)=>c(t).articleGPT?(a(),o("div",uy,[h("div",hy,[h("span",{class:"name",onClick:r[0]||(r[0]=e=>c(n).go("/posts/2024/0218"))},r[1]||(r[1]=[h("i",{class:"iconfont icon-robot"},null,-1),L(" æ–‡ç« æ‘˜è¦ "),h("i",{class:"iconfont icon-up"},null,-1)])),h("span",{class:D(["logo",{loading:c(l)}]),onClick:y}," FakeGPT ",2)]),h("div",dy,[h("span",fy,C(""===c(f)?"åŠ è½½ä¸­...":c(f)),1),c(l)?(a(),o("span",py,"|")):d("",!0)]),r[2]||(r[2]=h("div",{class:"meta"},[h("span",{class:"tip"},"æ­¤å†…å®¹æ ¹æ®æ–‡ç« ç”Ÿæˆï¼Œå¹¶ç»è¿‡äººå·¥å®¡æ ¸ï¼Œä»…ç”¨äºæ–‡ç« å†…å®¹çš„è§£é‡Šä¸æ€»ç»“"),h("a",{href:"https://eqnxweimkr5.feishu.cn/share/base/form/shrcnCXCPmxCKKJYI3RKUfefJre",class:"report",target:"_blank"}," æŠ•è¯‰ ")],-1))])):d("",!0)}},[["__scopeId","data-v-12844241"]]),gy={key:0,class:"post"},yy={class:"post-meta"},vy={class:"meta"},by={class:"categories"},Ey=["href"],Ty={class:"name"},Sy={class:"tags"},Ay=["href"],_y={class:"name"},ky={class:"title"},wy={class:"other-meta"},Oy={class:"meta date"},Iy={class:"update meta"},Ry={class:"post-content"},Cy={class:"post-article s-card"},Py={key:0,class:"expired s-card"},Ny={class:"other-meta"},xy={class:"all-tags"},Dy=["href"],Ly={class:"name"},My=n({__name:"Post",setup(e){const{page:t,theme:n,frontmatter:s}=R(),l=r(null),u=A((()=>{const e=Qc(t.value.relativePath);return n.value.postData.find((t=>t.id===e))}));return i((()=>{(e=>{try{const t=e.fancybox;if(!t.enable)return!1;Yc(t.css),Vc(t.js,{callback:e=>{if(e)return console.error("å›¾ç‰‡ç¯ç®±åˆå§‹åŒ–å¤±è´¥",e),!1;Fancybox.bind("[data-fancybox]",{hideScrollbar:!0,Carousel:{transition:"slide"},Hash:!1,Toolbar:{display:{left:["infobar"],middle:["zoomIn","zoomOut","toggle1to1","rotateCCW","rotateCW","flipX","flipY"],right:["slideshow","thumbs","close"]}},l10n:{PANUP:"ä¸Šç§»",PANDOWN:"ä¸‹ç§»",PANLEFT:"å·¦ç§»",PANRIGHT:"å³ç§»",ZOOMIN:"æ”¾å¤§",ZOOMOUT:"ç¼©å°",TOGGLEZOOM:"åˆ‡æ¢ç¼©æ”¾çº§åˆ«",TOGGLE1TO1:"åˆ‡æ¢ç¼©æ”¾çº§åˆ«",ITERATEZOOM:"åˆ‡æ¢ç¼©æ”¾çº§åˆ«",ROTATECCW:"é€†æ—¶é’ˆæ—‹è½¬",ROTATECW:"é¡ºæ—¶é’ˆæ—‹è½¬",FLIPX:"æ°´å¹³ç¿»è½¬",FLIPY:"å‚ç›´ç¿»è½¬",FITX:"æ°´å¹³é€‚åº”",FITY:"å‚ç›´é€‚åº”",RESET:"é‡ç½®",TOGGLEFS:"åˆ‡æ¢å…¨å±",CLOSE:"å…³é—­",NEXT:"ä¸Šä¸€ä¸ª",PREV:"ä¸‹ä¸€ä¸ª",MODAL:"ä½¿ç”¨ ESC é”®å…³é—­",ERROR:"å‘ç”Ÿäº†é”™è¯¯ï¼Œè¯·ç¨åå†è¯•",IMAGE_ERROR:"æ‰¾ä¸åˆ°å›¾åƒ",ELEMENT_NOT_FOUND:"æ‰¾ä¸åˆ° HTML å…ƒç´ ",AJAX_NOT_FOUND:"è½½å…¥ AJAX æ—¶å‡ºé”™: æœªæ‰¾åˆ°",AJAX_FORBIDDEN:"è½½å…¥ AJAX æ—¶å‡ºé”™: è¢«é˜»æ­¢",IFRAME_ERROR:"åŠ è½½é¡µé¢å‡ºé”™",TOGGLE_ZOOM:"åˆ‡æ¢ç¼©æ”¾çº§åˆ«",TOGGLE_THUMBS:"åˆ‡æ¢ç¼©ç•¥å›¾",TOGGLE_SLIDESHOW:"åˆ‡æ¢å¹»ç¯ç‰‡",TOGGLE_FULLSCREEN:"åˆ‡æ¢å…¨å±",DOWNLOAD:"ä¸‹è½½"}})}})}catch(t){console.error("å›¾ç‰‡ç¯ç®±åˆå§‹åŒ–å¤±è´¥",t)}})(n.value)})),(e,n)=>{var r,i,p;const m=my,g=K("Content"),y=ly,v=iy,b=Qg,E=jg,T=Lg,S=Cg,A=Zl;return c(u)?(a(),o("div",gy,[h("div",yy,[h("div",vy,[h("div",by,[(a(!0),o(f,null,F(c(u).categories,((e,t)=>(a(),o("a",{key:t,href:`/pages/categories/${e}`,class:"cat-item"},[n[1]||(n[1]=h("i",{class:"iconfont icon-folder"},null,-1)),h("span",Ty,C(e),1)],8,Ey)))),128))]),h("div",Sy,[(a(!0),o(f,null,F(c(u).tags,((e,t)=>(a(),o("a",{key:t,href:`/pages/tags/${e}`,class:"tag-item"},[n[2]||(n[2]=h("i",{class:"iconfont icon-hashtag"},null,-1)),h("span",_y,C(e),1)],8,Ay)))),128))])]),h("h1",ky,C(c(u).title||"æœªå‘½åæ–‡ç« "),1),h("div",wy,[h("span",Oy,[n[3]||(n[3]=h("i",{class:"iconfont icon-date"},null,-1)),L(" "+C(c(ft)(c(u).date)),1)]),h("span",Iy,[n[4]||(n[4]=h("i",{class:"iconfont icon-time"},null,-1)),L(" "+C(c(ft)((null==(r=c(t))?void 0:r.lastUpdated)||c(u).lastModified)),1)]),n[6]||(n[6]=h("span",{class:"hot meta"},[h("i",{class:"iconfont icon-fire"}),h("span",{id:"twikoo_visitors",class:"artalk-pv-count"},"0")],-1)),h("span",{class:"chat meta hover",onClick:n[0]||(n[0]=(...e)=>{var t,n;return(null==(t=c(l))?void 0:t.scrollToComments)&&(null==(n=c(l))?void 0:n.scrollToComments(...e))})},n[5]||(n[5]=[h("i",{class:"iconfont icon-chat"},null,-1),h("span",{id:"twikoo_comments",class:"artalk-comment-count"},"0",-1)]))])]),h("div",Ry,[h("article",Cy,[(null==(i=c(u))?void 0:i.expired)>=180?(a(),o("div",Py,[n[7]||(n[7]=L(" æœ¬æ–‡å‘è¡¨äº ")),h("strong",null,C(null==(p=c(u))?void 0:p.expired),1),n[8]||(n[8]=L(" å¤©å‰ï¼Œå…¶ä¸­çš„ä¿¡æ¯å¯èƒ½å·²ç»äº‹è¿‡å¢ƒè¿ "))])):d("",!0),P(m),P(g,{id:"page-content",class:"markdown-main-style"}),P(y),!1!==c(s).copyright?(a(),$(v,{key:1,postData:c(u)},null,8,["postData"])):d("",!0),h("div",Ny,[h("div",xy,[(a(!0),o(f,null,F(c(u).tags,((e,t)=>(a(),o("a",{key:t,href:`/pages/tags/${e}`,class:"tag-item"},[n[9]||(n[9]=h("i",{class:"iconfont icon-hashtag"},null,-1)),h("span",Ly,C(e),1)],8,Dy)))),128))]),n[10]||(n[10]=h("a",{href:"https://eqnxweimkr5.feishu.cn/share/base/form/shrcnCXCPmxCKKJYI3RKUfefJre",class:"report",target:"_blank"},[h("i",{class:"iconfont icon-report"}),L(" åé¦ˆä¸æŠ•è¯‰ ")],-1))]),P(b),P(E),P(T),P(S,{ref_key:"commentRef",ref:l},null,512)]),P(A,{showToc:""})])])):d("",!0)}}},[["__scopeId","data-v-f497abcf"]]),Fy={class:"not-found"},jy={class:"not-found-content"},$y=n({__name:"NotFound",setup(e){const t=B();return(e,n)=>(a(),o("div",Fy,[h("div",jy,[n[1]||(n[1]=h("h1",{class:"title"},"404",-1)),n[2]||(n[2]=h("span",{class:"title-tip"},"Page not found",-1)),h("button",{class:"to-home",onClick:n[0]||(n[0]=e=>c(t).go("/"))},"å›åˆ°ä¸»é¡µ")])]))}},[["__scopeId","data-v-86919074"]]);function By(e){let t;const n=`algolia-client-js-${e.key}`;function r(){return void 0===t&&(t=e.localStorage||window.localStorage),t}function i(){return JSON.parse(r().getItem(n)||"{}")}function s(e){r().setItem(n,JSON.stringify(e))}return{get:(t,n,r={miss:()=>Promise.resolve()})=>Promise.resolve().then((()=>(function(){const t=e.timeToLive?1e3*e.timeToLive:null,n=i(),r=Object.fromEntries(Object.entries(n).filter((([,e])=>void 0!==e.timestamp)));if(s(r),!t)return;s(Object.fromEntries(Object.entries(r).filter((([,e])=>{const n=(new Date).getTime();return!(e.timestamp+t<n)}))))}(),i()[JSON.stringify(t)]))).then((e=>Promise.all([e?e.value:n(),void 0!==e]))).then((([e,t])=>Promise.all([e,t||r.miss(e)]))).then((([e])=>e)),set:(e,t)=>Promise.resolve().then((()=>{const s=i();return s[JSON.stringify(e)]={timestamp:(new Date).getTime(),value:t},r().setItem(n,JSON.stringify(s)),t})),delete:e=>Promise.resolve().then((()=>{const t=i();delete t[JSON.stringify(e)],r().setItem(n,JSON.stringify(t))})),clear:()=>Promise.resolve().then((()=>{r().removeItem(n)}))}}function Uy(e){const t=[...e.caches],n=t.shift();return void 0===n?{get:(e,t,n={miss:()=>Promise.resolve()})=>t().then((e=>Promise.all([e,n.miss(e)]))).then((([e])=>e)),set:(e,t)=>Promise.resolve(t),delete:e=>Promise.resolve(),clear:()=>Promise.resolve()}:{get:(e,r,i={miss:()=>Promise.resolve()})=>n.get(e,r,i).catch((()=>Uy({caches:t}).get(e,r,i))),set:(e,r)=>n.set(e,r).catch((()=>Uy({caches:t}).set(e,r))),delete:e=>n.delete(e).catch((()=>Uy({caches:t}).delete(e))),clear:()=>n.clear().catch((()=>Uy({caches:t}).clear()))}}function Hy(e={serializable:!0}){let t={};return{get(n,r,i={miss:()=>Promise.resolve()}){const s=JSON.stringify(n);if(s in t)return Promise.resolve(e.serializable?JSON.parse(t[s]):t[s]);const a=r();return a.then((e=>i.miss(e))).then((()=>a))},set:(n,r)=>(t[JSON.stringify(n)]=e.serializable?JSON.stringify(r):r,Promise.resolve(r)),delete:e=>(delete t[JSON.stringify(e)],Promise.resolve()),clear:()=>(t={},Promise.resolve())}}function qy({algoliaAgents:e,client:t,version:n}){const r=function(e){const t={value:`Algolia for JavaScript (${e})`,add(e){const n=`; ${e.segment}${void 0!==e.version?` (${e.version})`:""}`;return-1===t.value.indexOf(n)&&(t.value=`${t.value}${n}`),t}};return t}(n).add({segment:t,version:n});return e.forEach((e=>r.add(e))),r}var Gy=12e4;function Wy(e,t="up"){const n=Date.now();return{...e,status:t,lastUpdate:n,isUp:function(){return"up"===t||Date.now()-n>Gy},isTimedOut:function(){return"timed out"===t&&Date.now()-n<=Gy}}}var Qy=class extends Error{constructor(e,n){super(e),t(this,"name","AlgoliaError"),n&&(this.name=n)}},Vy=class extends Qy{constructor(e,n,r){super(e,r),t(this,"stackTrace"),this.stackTrace=n}},Yy=class extends Vy{constructor(e){super("Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support.",e,"RetryError")}},zy=class extends Vy{constructor(e,n,r,i="ApiError"){super(e,r,i),t(this,"status"),this.status=n}},Ky=class extends Qy{constructor(e,n){super(e,"DeserializationError"),t(this,"response"),this.response=n}},Xy=class extends zy{constructor(e,n,r,i){super(e,n,i,"DetailedApiError"),t(this,"error"),this.error=r}};function Jy(e,t,n){const r=(i=n,Object.keys(i).filter((e=>void 0!==i[e])).sort().map((e=>`${e}=${encodeURIComponent("[object Array]"===Object.prototype.toString.call(i[e])?i[e].join(","):i[e]).replace(/\+/g,"%20")}`)).join("&"));var i;let s=`${e.protocol}://${e.url}${e.port?`:${e.port}`:""}/${"/"===t.charAt(0)?t.substring(1):t}`;return r.length&&(s+=`?${r}`),s}function Zy(e){const t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return{...e,request:{...e.request,headers:{...e.request.headers,...t}}}}function ev({hosts:e,hostsCache:t,baseHeaders:n,logger:r,baseQueryParameters:i,algoliaAgent:s,timeouts:a,requester:o,requestsCache:c,responsesCache:l}){async function u(c,l,u=!0){const h=[],d=function(e,t){if("GET"===e.method||void 0===e.data&&void 0===t.data)return;const n=Array.isArray(e.data)?e.data:{...e.data,...t.data};return JSON.stringify(n)}(c,l),f=function(e,t,n){const r={Accept:"application/json",...e,...t,...n},i={};return Object.keys(r).forEach((e=>{const t=r[e];i[e.toLowerCase()]=t})),i}(n,c.headers,l.headers),p="GET"===c.method?{...c.data,...l.data}:{},m={...i,...c.queryParameters,...p};if(s.value&&(m["x-algolia-agent"]=s.value),l&&l.queryParameters)for(const e of Object.keys(l.queryParameters))l.queryParameters[e]&&"[object Object]"!==Object.prototype.toString.call(l.queryParameters[e])?m[e]=l.queryParameters[e].toString():m[e]=l.queryParameters[e];let g=0;const y=async(e,n)=>{const i=e.pop();if(void 0===i)throw new Yy(function(e){return e.map((e=>Zy(e)))}(h));const s={...a,...l.timeouts},p={data:d,headers:f,method:c.method,url:Jy(i,c.path,m),connectTimeout:n(g,s.connect),responseTimeout:n(g,u?s.read:s.write)},v=t=>{const n={request:p,response:t,host:i,triesLeft:e.length};return h.push(n),n},b=await o.send(p);if(function({isTimedOut:e,status:t}){return e||function({isTimedOut:e,status:t}){return!e&&!~~t}({isTimedOut:e,status:t})||2!=~~(t/100)&&4!=~~(t/100)}(b)){const s=v(b);return b.isTimedOut&&g++,r.info("Retryable failure",Zy(s)),await t.set(i,Wy(i,b.isTimedOut?"timed out":"down")),y(e,n)}if(function({status:e}){return 2==~~(e/100)}(b))return function(e){try{return JSON.parse(e.content)}catch(YR){throw new Ky(YR.message,e)}}(b);throw v(b),function({content:e,status:t},n){try{const r=JSON.parse(e);return"error"in r?new Xy(r.message,t,r.error,n):new zy(r.message,t,n)}catch{}return new zy(e,t,n)}(b,h)},v=e.filter((e=>"readWrite"===e.accept||(u?"read"===e.accept:"write"===e.accept))),b=await async function(e){const n=await Promise.all(e.map((e=>t.get(e,(()=>Promise.resolve(Wy(e))))))),r=n.filter((e=>e.isUp())),i=n.filter((e=>e.isTimedOut())),s=[...r,...i];return{hosts:s.length>0?s:e,getTimeout:(e,t)=>(0===i.length&&0===e?1:i.length+3+e)*t}}(v);return y([...b.hosts].reverse(),b.getTimeout)}return{hostsCache:t,requester:o,timeouts:a,logger:r,algoliaAgent:s,baseHeaders:n,baseQueryParameters:i,hosts:e,request:function(e,t={}){const r=e.useReadTransporter||"GET"===e.method;if(!r)return u(e,t,r);const s=()=>u(e,t);if(!0!==(t.cacheable||e.cacheable))return s();const a={request:e,requestOptions:t,transporter:{queryParameters:i,headers:n}};return l.get(a,(()=>c.get(a,(()=>c.set(a,s()).then((e=>Promise.all([c.delete(a),e])),(e=>Promise.all([c.delete(a),Promise.reject(e)]))).then((([e,t])=>t))))),{miss:e=>l.set(a,e)})},requestsCache:c,responsesCache:l}}var tv="5.19.0";function nv(e){return[{url:`${e}-dsn.algolia.net`,accept:"read",protocol:"https"},{url:`${e}.algolia.net`,accept:"write",protocol:"https"}].concat(function(e){const t=e;for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1)),i=e[n];t[n]=e[r],t[r]=i}return t}([{url:`${e}-1.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${e}-2.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${e}-3.algolianet.com`,accept:"readWrite",protocol:"https"}]))}function rv(e,t,n){if(!e||"string"!=typeof e)throw new Error("`appId` is missing.");if(!t||"string"!=typeof t)throw new Error("`apiKey` is missing.");return function({appId:e,apiKey:t,authMode:n,algoliaAgents:r,...i}){const s=function(e,t,n="WithinHeaders"){const r={"x-algolia-api-key":t,"x-algolia-application-id":e};return{headers:()=>"WithinHeaders"===n?r:{},queryParameters:()=>"WithinQueryParameters"===n?r:{}}}(e,t,n),a=ev({hosts:nv(e),...i,algoliaAgent:qy({algoliaAgents:r,client:"Lite",version:tv}),baseHeaders:{"content-type":"text/plain",...s.headers(),...i.baseHeaders},baseQueryParameters:{...s.queryParameters(),...i.baseQueryParameters}});return{transporter:a,appId:e,apiKey:t,clearCache:()=>Promise.all([a.requestsCache.clear(),a.responsesCache.clear()]).then((()=>{})),get _ua(){return a.algoliaAgent.value},addAlgoliaAgent(e,t){a.algoliaAgent.add({segment:e,version:t})},setClientApiKey({apiKey:e}){n&&"WithinHeaders"!==n?a.baseQueryParameters["x-algolia-api-key"]=e:a.baseHeaders["x-algolia-api-key"]=e},searchForHits(e,t){return this.search(e,t)},searchForFacets(e,t){return this.search(e,t)},customPost({path:e,parameters:t,body:n},r){if(!e)throw new Error("Parameter `path` is required when calling `customPost`.");const i={method:"POST",path:"/{path}".replace("{path}",e),queryParameters:t||{},headers:{},data:n||{}};return a.request(i,r)},getRecommendations(e,t){if(e&&Array.isArray(e)&&(e={requests:e}),!e)throw new Error("Parameter `getRecommendationsParams` is required when calling `getRecommendations`.");if(!e.requests)throw new Error("Parameter `getRecommendationsParams.requests` is required when calling `getRecommendations`.");const n={method:"POST",path:"/1/indexes/*/recommendations",queryParameters:{},headers:{},data:e,useReadTransporter:!0,cacheable:!0};return a.request(n,t)},search(e,t){if(e&&Array.isArray(e)){const t={requests:e.map((({params:e,...t})=>"facet"===t.type?{...t,...e,type:"facet"}:{...t,...e,facet:void 0,maxFacetHits:void 0,facetQuery:void 0}))};e=t}if(!e)throw new Error("Parameter `searchMethodParams` is required when calling `search`.");if(!e.requests)throw new Error("Parameter `searchMethodParams.requests` is required when calling `search`.");const n={method:"POST",path:"/1/indexes/*/queries",queryParameters:{},headers:{},data:e,useReadTransporter:!0,cacheable:!0};return a.request(n,t)}}}({appId:e,apiKey:t,timeouts:{connect:1e3,read:2e3,write:3e4},logger:{debug:(e,t)=>Promise.resolve(),info:(e,t)=>Promise.resolve(),error:(e,t)=>Promise.resolve()},requester:{send:function(e){return new Promise((t=>{let n=new XMLHttpRequest;n.open(e.method,e.url,!0),Object.keys(e.headers).forEach((t=>n.setRequestHeader(t,e.headers[t])));let r,i=(e,r)=>setTimeout((()=>{n.abort(),t({status:0,content:r,isTimedOut:!0})}),e),s=i(e.connectTimeout,"Connection timeout");n.onreadystatechange=()=>{n.readyState>n.OPENED&&void 0===r&&(clearTimeout(s),r=i(e.responseTimeout,"Socket timeout"))},n.onerror=()=>{0===n.status&&(clearTimeout(s),clearTimeout(r),t({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=()=>{clearTimeout(s),clearTimeout(r),t({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)}))}},algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:Hy(),requestsCache:Hy({serializable:!1}),hostsCache:Uy({caches:[By({key:`${tv}-${e}`}),Hy()]}),...n})}const iv={key:0,class:"search-list"},sv=["onClick"],av=["innerHTML"],ov=["innerHTML"],cv=["innerHTML"],lv={key:1,class:"no-result"},uv={class:"information"},hv={key:0,class:"text"},dv={__name:"Search",setup(e){const t=Ie(),n=B(),{theme:i}=R(),{appId:l,apiKey:u}=i.value.search,p=rv(l,u),m=r(!1),g=({uiState:e,setUiState:t})=>{var n;const r=Object.values(e);m.value=r.length>0&&(null==(n=r[0].query)?void 0:n.length)>0,t(e)},y=e=>{var t,n,r,i,s,a,o,c;const l=[];for(let u=0;u<e.length;u++){const h=e[u],d={url:null==h?void 0:h.url,type:"lvl1"===h.type?"post":"content",title:null==(r=null==(n=null==(t=h._highlightResult)?void 0:t.hierarchy)?void 0:n.lvl1)?void 0:r.value,anchor:null==(a=null==(s=null==(i=h._highlightResult)?void 0:i.hierarchy)?void 0:s[h.type])?void 0:a.value,content:null==(c=null==(o=h._highlightResult)?void 0:o.content)?void 0:c.value};l.push(d)}return l};return s((()=>{m.value=!1})),(e,r)=>{const i=K("ais-configure"),s=K("ais-search-box"),l=K("ais-hits"),u=K("ais-pagination"),v=K("ais-stats"),b=K("ais-instant-search"),E=uh;return a(),$(E,{show:c(t).searchShow,title:"å…¨å±€æœç´¢",titleIcon:"search",onMaskClick:r[0]||(r[0]=e=>c(t).changeShowStatus("searchShow")),onModalClose:r[1]||(r[1]=e=>c(t).changeShowStatus("searchShow"))},{default:N((()=>[P(b,{"search-client":c(p),future:{preserveSharedStateOnUnmount:!0},"index-name":"stoma",onStateChange:g},{default:N((()=>[P(i,{hitsPerPage:8}),P(s,{placeholder:"æƒ³è¦æœç‚¹ä»€ä¹ˆ",autofocus:""}),c(m)?(a(),$(l,{key:0},{default:N((({items:e})=>[P(x,{name:"fade",mode:"out-in"},{default:N((()=>{var i;return[(null==(i=y(e))?void 0:i.length)?(a(),o("div",iv,[(a(!0),o(f,null,F(y(e),((e,r)=>(a(),o("div",{key:r,class:"search-item s-card hover",onClick:r=>{return i=e.url,t.changeShowStatus("searchShow"),void n.go(i);var i}},[h("p",{class:"title",innerHTML:e.title},null,8,av),(null==e?void 0:e.anchor)?(a(),o("p",{key:0,class:"anchor",innerHTML:e.anchor},null,8,ov)):d("",!0),(null==e?void 0:e.content)?(a(),o("p",{key:1,class:"content s-card",innerHTML:e.content},null,8,cv)):d("",!0)],8,sv)))),128))])):(a(),o("div",lv,r[2]||(r[2]=[h("i",{class:"iconfont icon-search-empty"},null,-1),h("span",{class:"text"},"æœç´¢ç»“æœä¸ºç©º",-1)])))]})),_:2},1024)])),_:1})):d("",!0),c(m)?(a(),$(u,{key:1})):d("",!0),P(v,null,{default:N((({processingTimeMS:e})=>[h("div",uv,[c(m)?(a(),o("span",hv," æœ¬æ¬¡ç”¨æ—¶ "+C(e)+" æ¯«ç§’ ",1)):d("",!0)]),r[3]||(r[3]=h("a",{class:"power",href:"https://www.algolia.com/",target:"_blank"},[h("i",{class:"iconfont icon-algolia"}),h("span",{class:"name"},"Algolia")],-1))])),_:1})])),_:1},8,["search-client"])])),_:1},8,["show"])}}},fv={class:"mobile-menu"},pv={class:"menu-content s-card"},mv={class:"menu-list"},gv={class:"link-title"},yv={key:0,class:"link-child"},vv=["onClick"],bv={class:"name"},Ev={class:"tags-list menu-item"},Tv={class:"link-child"},Sv=["onClick"],Av={class:"name"},_v={class:"num"},kv=n({__name:"MobileMenu",setup(e){const t=Ie(),n=B(),{theme:r}=R(),{nav:i,tagsData:s}=r.value,l=e=>{if(!e)return!1;t.changeShowStatus("mobileMenuShow"),n.go(e)};return(e,n)=>(a(),$(Y,{to:"body"},[P(x,{name:"fade",mode:"out-in"},{default:N((()=>[U(h("div",fv,[h("div",{class:"menu-mask",onClick:n[0]||(n[0]=e=>c(t).changeShowStatus("mobileMenuShow"))}),P(x,{name:"toLeft",mode:"out-in"},{default:N((()=>[U(h("div",pv,[h("div",{class:"close-control",onClick:n[1]||(n[1]=e=>c(t).changeShowStatus("mobileMenuShow"))},n[2]||(n[2]=[h("i",{class:"iconfont icon-close"},null,-1)])),h("div",mv,[(a(!0),o(f,null,F(c(i),((e,t)=>(a(),o("div",{key:t,class:"menu-item"},[h("span",gv,C(e.text),1),e.items?(a(),o("div",yv,[(a(!0),o(f,null,F(e.items,((e,t)=>(a(),o("div",{key:t,class:"link-child-btn",onClick:t=>l(e.link)},[e.icon?(a(),o("i",{key:0,class:D(`iconfont icon-${e.icon}`)},null,2)):d("",!0),h("span",bv,C(e.text),1)],8,vv)))),128))])):d("",!0)])))),128))]),n[4]||(n[4]=h("hr",null,null,-1)),h("div",Ev,[n[3]||(n[3]=h("span",{class:"link-title"}," æ ‡ç­¾",-1)),h("div",Tv,[(a(!0),o(f,null,F(c(s),((e,t,n)=>(a(),o("div",{key:n,class:"link-child-btn",onClick:e=>l(`/pages/tags/${t}`)},[h("span",Av,C(t),1),h("sup",_v,C(e.count),1)],8,Sv)))),128))])])],512),[[Z,c(t).mobileMenuShow]])])),_:1})],512),[[Z,c(t).mobileMenuShow]])])),_:1})]))}},[["__scopeId","data-v-82f96e05"]]),wv={class:"main-header"},Ov={class:"nav-all"},Iv={class:"left-nav"},Rv={class:"more-menu nav-btn",title:"æ›´å¤šå†…å®¹"},Cv={class:"more-card s-card"},Pv={class:"more-name"},Nv={class:"more-list"},xv=["href"],Dv=["src","alt"],Lv={class:"link-name"},Mv={class:"nav-center"},Fv={class:"site-menu"},jv={class:"link-btn"},$v={key:0,class:"link-child"},Bv=["onClick"],Uv={class:"right-nav"},Hv={class:"to-top-btn"},qv=n({__name:"Nav",setup(e){const t=B(),n=Ie(),{scrollData:r}=Oe(n),{site:i,theme:s,frontmatter:l,page:u}=R();return(e,p)=>{const m=kv,g=dv,y=K("ClientOnly");return a(),o("header",wv,[h("nav",{class:D(["main-nav",c(r).direction,{top:0===c(r).height}])},[h("div",Ov,[h("div",Iv,[h("div",Rv,[p[7]||(p[7]=h("i",{class:"iconfont icon-menu"},null,-1)),h("div",Cv,[(a(!0),o(f,null,F(c(s).navMore,((e,t)=>(a(),o("div",{key:t,class:"more-item"},[h("span",Pv,C(e.name),1),h("div",Nv,[(a(!0),o(f,null,F(e.list,((e,t)=>(a(),o("a",{key:t,href:e.url,class:"more-link",target:"_blank"},[h("img",{class:"link-icon",src:e.icon,alt:e.name},null,8,Dv),h("span",Lv,C(e.name),1)],8,xv)))),128))])])))),128))])]),h("div",{class:"site-name",onClick:p[0]||(p[0]=e=>c(t).go("/"))},C(c(i).title),1)]),h("div",Mv,[h("div",Fv,[(a(!0),o(f,null,F(c(s).nav,((e,n)=>(a(),o("div",{key:n,class:"menu-item"},[h("span",jv,C(e.text),1),e.items?(a(),o("div",$v,[(a(!0),o(f,null,F(e.items,((e,n)=>(a(),o("span",{key:n,class:"link-child-btn",onClick:n=>c(t).go(e.link)},[e.icon?(a(),o("i",{key:0,class:D(`iconfont icon-${e.icon}`)},null,2)):d("",!0),L(" "+C(e.text),1)],8,Bv)))),128))])):d("",!0)])))),128))]),h("span",{class:"site-title",onClick:p[1]||(p[1]=(...e)=>c(dt)&&c(dt)(...e))},C((c(l).home?c(i).description:c(u).title)||c(i).description),1)]),h("div",Uv,[h("div",{class:"menu-btn nav-btn",title:"éšæœºå‰å¾€ä¸€ç¯‡æ–‡ç« ",onClick:p[2]||(p[2]=e=>c(t).go(c(gt)(c(s).postData)))},p[8]||(p[8]=[h("i",{class:"iconfont icon-shuffle"},null,-1)])),c(s).search.enable?(a(),o("div",{key:0,class:"menu-btn nav-btn",title:"å…¨ç«™æœç´¢",onClick:p[3]||(p[3]=e=>c(n).changeShowStatus("searchShow"))},p[9]||(p[9]=[h("i",{class:"iconfont icon-search"},null,-1)]))):d("",!0),h("div",{id:"open-control",class:"menu-btn nav-btn pc",title:"æ‰“å¼€ä¸­æ§å°",onClick:p[4]||(p[4]=e=>c(n).changeShowStatus("controlShow"))},p[10]||(p[10]=[h("i",{class:"iconfont icon-dashboard"},null,-1)])),h("div",{class:D(["to-top","menu-btn",{hidden:0===c(r).height,long:c(r).percentage>90}]),title:"è¿”å›é¡¶éƒ¨",onClick:p[5]||(p[5]=(...e)=>c(dt)&&c(dt)(...e))},[h("div",Hv,[P(x,{name:"fade",mode:"out-in"},{default:N((()=>[(a(),o("span",{key:c(r).percentage>90,class:"num"},C(c(r).percentage<=90?c(r).percentage:"è¿”å›é¡¶éƒ¨"),1))])),_:1}),p[11]||(p[11]=h("i",{class:"iconfont icon-up"},null,-1))])],2),h("div",{class:"menu-btn nav-btn mobile",title:"æ‰“å¼€èœå•",onClick:p[6]||(p[6]=e=>c(n).changeShowStatus("mobileMenuShow"))},p[12]||(p[12]=[h("i",{class:"iconfont icon-toc"},null,-1)]))])])],2),P(m),P(y,null,{default:N((()=>[c(s).search.enable?(a(),$(g,{key:0})):d("",!0)])),_:1})])}}},[["__scopeId","data-v-ac969711"]]),Gv={class:"menu"},Wv=n({__name:"Control",setup(e){const t=Ie(),n=r(null),i=()=>{O().then((()=>{const e=document.querySelector("#open-control");if(e&&n.value){const{top:t,left:r}=e.getBoundingClientRect();n.value.style.top=`${t}px`,n.value.style.left=`${r}px`,n.value.style.opacity="1"}}))},s=()=>{t.useRightMenu=!t.useRightMenu,$message.info((t.useRightMenu?"å·²å¼€å¯":"å·²å…³é—­")+"è‡ªå®šä¹‰å³é”®èœå•")};return(e,r)=>(a(),$(Y,{to:"body"},[P(x,{name:"fade",mode:"out-in",onBeforeEnter:i},{default:N((()=>[c(t).controlShow?(a(),o("div",{key:0,class:"control",onClick:r[4]||(r[4]=e=>c(t).changeShowStatus("controlShow"))},[h("div",{ref_key:"closeControlRef",ref:n,class:"close-control"},r[5]||(r[5]=[h("i",{class:"iconfont icon-close"},null,-1)]),512),r[9]||(r[9]=h("div",{class:"control-mask"},null,-1)),h("div",{class:"control-content",onClick:r[3]||(r[3]=G((()=>{}),["stop"]))},[h("div",Gv,[h("div",{class:"menu-item open",title:"æ˜¾ç¤ºæ¨¡å¼åˆ‡æ¢",onClick:r[0]||(r[0]=G(((...e)=>c(t).changeThemeType&&c(t).changeThemeType(...e)),["stop"]))},[h("i",{class:D(`iconfont icon-${c(t).themeType}`)},null,2)]),h("div",{class:D(["menu-item",{open:c(t).useRightMenu}]),title:"å³é”®èœå•å¼€å…³",onClick:G(s,["stop"])},r[6]||(r[6]=[h("i",{class:"iconfont icon-list"},null,-1)]),2),h("div",{class:D(["menu-item",{open:c(t).playerShow}]),title:"æ’­æ”¾å™¨å¼€å…³",onClick:r[1]||(r[1]=G((e=>c(t).playerShow=!c(t).playerShow),["stop"]))},r[7]||(r[7]=[h("i",{class:"iconfont icon-music"},null,-1)]),2),h("div",{class:D(["menu-item",{open:c(t).backgroundBlur}]),title:"èƒŒæ™¯æ¨¡ç³Šå¼€å…³",onClick:r[2]||(r[2]=G((e=>c(t).changeShowStatus("backgroundBlur")),["stop"]))},r[8]||(r[8]=[h("i",{class:"iconfont icon-blur"},null,-1)]),2)])])])):d("",!0)])),_:1})]))}},[["__scopeId","data-v-b01c7bbe"]]),Qv=["src"],Vv=n({__name:"Loading",setup(e){const t=Ie(),{theme:n}=R(),{loadingStatus:i}=Oe(t),l=r(!1),u=r(null);return y((()=>i.value),(e=>{e?u.value=setTimeout((()=>{l.value=!0}),3e3):(l.value=!1,clearTimeout(u.value))})),s((()=>{clearTimeout(u.value)})),(e,t)=>(a(),$(Y,{to:"body"},[P(x,{name:"fade",mode:"out-in"},{default:N((()=>[c(i)?(a(),o("div",{key:0,class:"loading",onClick:t[0]||(t[0]=e=>i.value=!1)},[h("img",{src:c(n).siteMeta.logo,class:"logo",alt:"loading-logo"},null,8,Qv),h("span",{class:D(["tip",{show:c(l)}])}," ä¸€ç›´æ˜¾ç¤ºï¼Ÿç‚¹å‡»ä»»æ„åŒºåŸŸå³å¯å…³é—­ ",2)])):d("",!0)])),_:1})]))}},[["__scopeId","data-v-437cca71"]]),Yv=["src"],zv={__name:"Background",setup(e){const t=Ie(),{backgroundType:n,backgroundUrl:r,themeValue:i}=Oe(t),s=e=>{e.target.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' version='1.1' width='100%25' height='100%25'%3E%3C/svg%3E",$message.error("èƒŒæ™¯å›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œè¯·é‡æ–°è®¾ç½®")},l=e=>{e.target.classList.add("loaded")};return(e,t)=>(a(),$(Y,{to:"body"},["close"!==c(n)?(a(),o("div",{key:0,class:D(["background",c(n),c(i)])},["image"===c(n)?(a(),o("img",{key:0,src:c(r),id:"background-cover",class:"cover",alt:"background",onError:s,onLoad:l},null,40,Yv)):d("",!0)],2)):d("",!0)]))}},Kv=n(zv,[["__scopeId","data-v-7b47f65a"]]),Xv={__name:"App",setup(e){const t=j(),n=Ie(),{frontmatter:l,page:u,theme:p}=R(),{loadingStatus:m,footerIsShow:g,themeValue:v,themeType:b,backgroundType:E,fontFamily:T,fontSize:S}=Oe(n),_=r(null),k=A((()=>decodeURIComponent(t.path).includes("/posts/")));let w=null;const I=async()=>{var e;if(!k.value||u.value.isNotFound||m.value)return;await O();document.getElementById("artalk")&&(w&&(null==(e=w.destroy)||e.call(w),w=null),w=Im.init({el:"#artalk",server:"https://comment.rinyuki.com",site:"rinyuki.com",pageKey:decodeURIComponent(t.path),pageTitle:document.title}))},C=()=>{var e;w&&(null==(e=w.destroy)||e.call(w),w=null)},N=e=>{var t;null==(t=_.value)||t.openRightMenu(e)},x=()=>{window.getSelection().toString().trim().length>0&&"undefined"!=typeof $message&&$message.success("å¤åˆ¶æˆåŠŸï¼Œåœ¨è½¬è½½æ—¶è¯·æ ‡æ³¨æœ¬æ–‡åœ°å€")},L=()=>{const e={dark:"dark",light:"light",auto:"auto"},t=document.documentElement;if(b.value,Object.values(e).forEach((e=>{t.classList.remove(e)})),"auto"===b.value){const n=window.matchMedia("(prefers-color-scheme: dark)").matches?e.dark:e.light;t.classList.add(n),v.value=n}else e[b.value]&&(t.classList.add(e[b.value]),v.value=e[b.value]);"image"===E.value?t.classList.add("image"):t.classList.remove("image")},M=()=>{try{const e=document.documentElement;e.classList.remove("lxgw","hmos"),e.classList.add(T.value),e.style.fontSize=S.value+"px"}catch(e){console.error("åˆ‡æ¢ç³»ç»Ÿå­—ä½“æ ·å¼å¤±è´¥",e)}};return y((()=>[b.value,E.value]),(()=>L())),y((()=>T.value),(()=>M())),y((()=>t.path),(async()=>{C(),await I()})),y((()=>m.value),(async e=>{e||await I()})),i((()=>{l.value,u.value,p.value,(()=>{const e=new Date,t=`${e.getMonth()+1}-${e.getDate()}`,n=[{date:"4-4",name:"æ¸…æ˜èŠ‚"},{date:"5-12",name:"æ±¶å·å¤§åœ°éœ‡çºªå¿µæ—¥"},{date:"7-7",name:"ä¸­å›½äººæ°‘æŠ—æ—¥æˆ˜äº‰çºªå¿µæ—¥"},{date:"9-18",name:"ä¹Â·ä¸€å…«äº‹å˜çºªå¿µæ—¥"},{date:"12-13",name:"å—äº¬å¤§å± æ€æ­»éš¾è€…å›½å®¶å…¬ç¥­æ—¥"}].find((e=>e.date===t));n&&(document.documentElement.classList.add("gray"),"undefined"!=typeof $message&&$message.info(`ä»Šå¤©æ˜¯${n.name}ï¼Œç‰¹æ­¤é»˜å“€`,{duration:8e3,close:!0}))})(),L(),M(),window.addEventListener("scroll",ht),window.addEventListener("contextmenu",N),window.addEventListener("copy",x),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",L),I()})),s((()=>{window.removeEventListener("scroll",ht),window.removeEventListener("contextmenu",N),C()})),(e,t)=>{const n=Kv,r=Vv,i=Wv,s=qv,p=$y,y=xu,v=My,b=Ng,E=Og,T=pg,S=og,A=Wm,w=Gm,O=sh;return a(),o(f,null,[P(n),P(r),P(i),P(s),h("main",{class:D(["mian-layout",{loading:c(m),"is-post":c(k)}])},[c(u).isNotFound?(a(),$(p,{key:0})):d("",!0),"home"===c(l).layout?(a(),$(y,{key:1,showHeader:""})):(a(),o(f,{key:2},[c(k)?(a(),$(v,{key:0})):c(u).isNotFound?d("",!0):(a(),$(b,{key:1}))],64))],2),U(P(E,{showBar:c(k)&&!c(u).isNotFound},null,8,["showBar"]),[[Z,!c(m)]]),U(P(T,null,null,512),[[Z,!c(m)]]),(a(),$(Y,{to:"body"},[h("div",{class:D(["left-menu",{hidden:c(g)}])},[P(S),P(A)],2)])),P(w,{ref_key:"rightMenuRef",ref:_},null,512),P(O)],64)}}},Jv=n(Xv,[["__scopeId","data-v-b4b6d209"]]);var Zv=function(e){var t=e.name;return{props:{classNames:{type:Object,default:void 0}},methods:{suit:function(e,n){var r=function(e,t,n){if(!e)throw new Error("You need to provide `widgetName` in your data");var r=["ais-"+e];return t&&r.push("-"+t),n&&r.push("--"+n),r.join("")}(t,e,n),i=this.classNames&&this.classNames[r];return i?[r,i].join(" "):r}}}};function eb(e){for(var t=arguments,n=1;n<arguments.length;n++){var r=null!=t[n]?t[n]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){tb(e,t,r[t])}))}return e}function tb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nb(e){function t(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];var i=n.length>0?n:void 0;if("object"==typeof t&&(t.attrs||t.props||t.scopedSlots||t.on)){var s=Object.keys(t.on||{}),a=Object.assign({},t,t.attrs,t.props,s.reduce((function(e,n){return e["on"+n[0].toUpperCase()+n.slice(1)]=t.on[n],e}),{}));return delete a.attrs,delete a.props,delete a.scopedSlots,s.forEach((function(e){return delete a.on[e]})),a.on&&0===Object.keys(a.on).length&&delete a.on,ee(e,a,t.scopedSlots?Object.assign({default:function(){return i}},t.scopedSlots):i)}return ee(e,t,i)}return function(){return e.call(this,t)}}function rb(e){var t=e.$slots||e.slots;return"function"==typeof t.default?t.default():t.default}function ib(e,t){return(e.$slots||e.slots||{})[t]}var sb=new Set;function ab(e){sb.has(e)||(sb.add(e),console.warn(e))}var ob=function(e,t){var n;void 0===e&&(e={});var r=e.connector;return void 0===t&&(t={}),(n={inject:{instantSearchInstance:{from:"$_ais_instantSearchInstance",default:function(){var e=this.$options._componentTag;throw new TypeError('It looks like you forgot to wrap your Algolia search component "<'+e+'>" inside of an "<ais-instant-search>" component.')}},getParentIndex:{from:"$_ais_getParentIndex",default:function(){var e=this;return function(){return e.instantSearchInstance.mainIndex}}}},data:function(){return{state:null}},created:function(){if("function"==typeof r){if(this.factory=r(this.updateState,(function(){})),this.widget=eb(this.factory(this.widgetParams),t),this.getParentIndex().addWidgets([this.widget]),this.instantSearchInstance._initialResults&&!this.instantSearchInstance.started){if("function"!=typeof this.instantSearchInstance.__forceRender)throw new Error("You are using server side rendering with <ais-instant-search> instead of <ais-instant-search-ssr>.");this.instantSearchInstance.__forceRender(this.widget,this.getParentIndex())}}else!0!==r&&ab("You are using the InstantSearch widget mixin, but didn't provide a connector.\nWhile this is technically possible, and will give you access to the Helper,\nit's not the recommended way of making custom components.\n\nIf you want to disable this message, pass { connector: true } to the mixin.\n\nRead more on using connectors: https://alg.li/vue-custom")}}).beforeUnmount=function(){this.widget&&this.getParentIndex().removeWidgets([this.widget])},n.watch={widgetParams:{handler:function(e){this.state=null,this.getParentIndex().removeWidgets([this.widget]),this.widget=eb(this.factory(e),t),this.getParentIndex().addWidgets([this.widget])},deep:!0}},n.methods={updateState:function(e,t){void 0===e&&(e={}),t||(this.state=e)}},n},cb=0;function lb(){}var ub=function(e,t){return e};function hb(e,t){if(void 0===e||"function"!=typeof e)throw new Error("The render function is not valid (received type ".concat((n=e,Object.prototype.toString.call(n).slice(8,-1)),").\n\n").concat(t));var n}function db(e){var t=e.helper,n=e.attributesToClear,r=void 0===n?[]:n,i=t.state.setPage(0);return i=r.reduce((function(e,t){return i.isNumericRefined(t)?e.removeNumericRefinement(t):i.isHierarchicalFacet(t)?e.removeHierarchicalFacetRefinement(t):i.isDisjunctiveFacet(t)?e.removeDisjunctiveFacetRefinement(t):i.isConjunctiveFacet(t)?e.removeFacetRefinement(t):e}),i),-1!==r.indexOf("query")&&(i=i.setQuery("")),i}var fb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},pb=/[&<>"']/g,mb=RegExp(pb.source);var gb={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},yb=/&(amp|quot|lt|gt|#39);/g,vb=RegExp(yb.source);function bb(e){return e&&vb.test(e)?e.replace(yb,(function(e){return gb[e]})):e}function Eb(e){return(Eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tb(e){if(!function(e){return"object"===Eb(e)&&null!==e}(e)||"[object Object]"!==function(e){return null===e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Sb(e){return(Sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ab.apply(this,arguments)}function _b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_b(Object(n),!0).forEach((function(t){wb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wb(e,t,n){var r;return r=function(e,t){if("object"!=Sb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Sb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Sb(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ob={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},Ib="<mark>",Rb="</mark>";function Cb(e){return function(e){return e&&mb.test(e)?e.replace(pb,(function(e){return fb[e]})):e}(e).replace(new RegExp(Ob.highlightPreTag,"g"),Ib).replace(new RegExp(Ob.highlightPostTag,"g"),Rb)}function Pb(e){return Tb(e)&&"string"!=typeof e.value?Object.keys(e).reduce((function(t,n){return kb(kb({},t),{},wb({},n,Pb(e[n])))}),{}):Array.isArray(e)?e.map(Pb):kb(kb({},e),{},{value:Cb(e.value)})}function Nb(e){return void 0===e.__escaped&&((e=e.map((function(e){var t=Ab({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return t._highlightResult&&(t._highlightResult=Pb(t._highlightResult)),t._snippetResult&&(t._snippetResult=Pb(t._snippetResult)),t}))).__escaped=!0),e}function xb(e){var t=Ib,n=Rb;return e.map((function(e){return e.isHighlighted?t+e.value+n:e.value})).join("")}function Db(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Db(Object(n),!0).forEach((function(t){Mb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Db(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mb(e,t,n){var r;return r=function(e,t){if("object"!=Fb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Fb(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fb(e){return(Fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],c=!0,l=!1;try{if(s=(n=n.call(e)).next,0===t);else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bb(e){var t=e.instantSearchInstance,n=e.helper,r=e.attribute,i=e.widgetType;return function(){for(var e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];var o=s[1],c=s[2],l=void 0===c?"Filter Applied":c,u=s[3],h=void 0===u?{}:u,d=jb(s[0].split(":"),2),f=d[0],p=d[1],m="string"==typeof r?r:r(o);1===s.length&&"object"===Fb(s[0])?t.sendEventToInsights(s[0]):"click"===f&&s.length>=2&&s.length<=4&&(function(e,t,n){return e.state.isHierarchicalFacet(t)?e.state.isHierarchicalFacetRefined(t,n):e.state.isConjunctiveFacet(t)?e.state.isFacetRefined(t,n):e.state.isDisjunctiveFacetRefined(t,n)}(n,m,o)||t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:i,eventType:f,eventModifier:p,payload:Lb({eventName:l,index:n.getIndex(),filters:["".concat(m,":").concat(o)]},h),attribute:m}))}}function Ub(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function Hb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hb(Object(n),!0).forEach((function(t){Gb(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gb(e,t,n){var r;return r=function(e,t){if("object"!=Vb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Vb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Vb(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],c=!0,l=!1;try{if(s=(n=n.call(e)).next,0===t);else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vb(e){return(Vb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yb(e){var t=e.getIndex,n=e.widgetType;e.methodName;var r=e.args,i=e.instantSearchInstance;if(1===r.length&&"object"===Vb(r[0]))return[r[0]];var s=Wb(r[0].split(":"),2),a=s[0],o=s[1],c=r[1],l=r[2],u=r[3]||{};if(!c)return[];if(("click"===a||"conversion"===a)&&!l)return[];var h=Array.isArray(c)?c:[c];if(0===h.length)return[];var d=h[0].__queryID,f=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=[],r=0;r<Math.ceil(e.length/t);r++)n.push(e.slice(r*t,(r+1)*t));return n}(h),p=f.map((function(e){return e.map((function(e){return e.objectID}))})),m=f.map((function(e){return e.map((function(e){return e.__position}))}));return"view"===a?"idle"!==i.status?[]:f.map((function(e,r){return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:a,payload:qb({eventName:l||"Hits Viewed",index:t(),objectIDs:p[r]},u),hits:e,eventModifier:o}})):"click"===a?f.map((function(e,r){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:a,payload:qb({eventName:l||"Hit Clicked",index:t(),queryID:d,objectIDs:p[r],positions:m[r]},u),hits:e,eventModifier:o}})):"conversion"===a?f.map((function(e,r){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:a,payload:qb({eventName:l||"Hit Converted",index:t(),queryID:d,objectIDs:p[r]},u),hits:e,eventModifier:o}})):[]}function zb(e){var t=e.instantSearchInstance,n=e.getIndex,r=e.widgetType,i={},s=void 0;return function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];Yb({widgetType:r,getIndex:n,methodName:"sendEvent",args:a,instantSearchInstance:t}).forEach((function(e){"click"===e.eventType&&"internal"===e.eventModifier&&i[e.eventType]||(i[e.eventType]=!0,t.sendEventToInsights(e))})),clearTimeout(s),s=setTimeout((function(){i={}}),0)}}function Kb(e){var t=e.getIndex,n=e.widgetType,r=e.instantSearchInstance;return function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];var a=Yb({widgetType:n,getIndex:t,methodName:"bindEvent",args:i,instantSearchInstance:r});return a.length?"data-insights-event=".concat(Ub(a)):""}}function Xb(e){return"ais.index"===e.$$type}function Jb(e,t){var n=e[t.getIndexId()]||{};t.getHelper().setState(t.getWidgetSearchParameters(t.getHelper().state,{uiState:n})),t.getWidgets().filter(Xb).forEach((function(t){return Jb(e,t)}))}var Zb=Promise.resolve();function eE(e){var t=null,n=!1,r=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];null===t&&(t=Zb.then((function(){t=null,n?n=!1:e.apply(void 0,i)})))};return r.wait=function(){if(null===t)throw new Error("The deferred function should be called before calling `wait()`");return t},r.cancel=function(){null!==t&&(n=!0)},r}function tE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map((function(e){return n=(t=e).name,r=t.connector,["https://www.algolia.com/doc/api-reference/widgets/",n,"/js/",void 0!==r&&r?"#connector":""].join("");var t,n,r})).join(", ");return function(e){return[e,"See documentation: ".concat(r)].filter(Boolean).join("\n\n")}}function nE(e){return"number"==typeof e&&e<0||"string"==typeof e?String(e).replace(/^-/,"\\-"):e}function rE(e,t){for(var n,r=0;r<e.length;r++)if(t(n=e[r],r,e))return n}function iE(e){var t=Rb,n=Ib,r=e.split(n),i=r.shift(),s=i?[{value:i,isHighlighted:!1}]:[];return r.forEach((function(e){var n=e.split(t);s.push({value:n[0],isHighlighted:!0}),""!==n[1]&&s.push({value:n[1],isHighlighted:!1})})),s}var sE=new RegExp(/\w/i);function aE(e,t){var n,r,i=e[t],s=(null===(n=e[t+1])||void 0===n?void 0:n.isHighlighted)||!0,a=(null===(r=e[t-1])||void 0===r?void 0:r.isHighlighted)||!0;return sE.test(bb(i.value))||a!==s?i.isHighlighted:a}function oE(e,t){return(Array.isArray(t)?t:t.split(".")).reduce((function(e,t){return e&&e[t]}),e)}function cE(e,t,n,r){var i,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a={type:t,attribute:n,name:r,escapedValue:nE(r)},o=rE(s,(function(e){return e.name===n}));if("hierarchical"===t){for(var c=e.getHierarchicalFacetByName(n),l=r.split(c.separator),u=function(e){var t;o=o&&o.data&&rE(Object.keys(o.data).map((t=o.data,function(e){return t[e]})),(function(t){return t.name===l[e]}))},h=0;void 0!==o&&h<l.length;++h)u(h);i=o&&o.count}else i=o&&o.data&&o.data[a.name];return void 0!==i&&(a.count=i),o&&void 0!==o.exhaustive&&(a.exhaustive=o.exhaustive),a}function lE(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e||{},i=[],s=t.facetsRefinements,a=void 0===s?{}:s,o=t.facetsExcludes,c=void 0===o?{}:o,l=t.disjunctiveFacetsRefinements,u=void 0===l?{}:l,h=t.hierarchicalFacetsRefinements,d=void 0===h?{}:h,f=t.numericRefinements,p=void 0===f?{}:f,m=t.tagRefinements,g=void 0===m?[]:m;return Object.keys(a).forEach((function(e){a[e].forEach((function(n){i.push(cE(t,"facet",e,n,r.facets))}))})),Object.keys(c).forEach((function(e){c[e].forEach((function(t){i.push({type:"exclude",attribute:e,name:t,exclude:!0})}))})),Object.keys(u).forEach((function(e){u[e].forEach((function(n){var s;i.push(cE(t,"disjunctive",e,"string"==typeof(s=n)?s.replace(/^\\-/,"-"):s,r.disjunctiveFacets))}))})),Object.keys(d).forEach((function(e){d[e].forEach((function(n){i.push(cE(t,"hierarchical",e,n,r.hierarchicalFacets))}))})),Object.keys(p).forEach((function(e){var t=p[e];Object.keys(t).forEach((function(n){var r=n,s=t[r];(Array.isArray(s)?s:[s]).forEach((function(t){i.push({type:"numeric",attribute:e,name:"".concat(t),numericValue:t,operator:r})}))}))})),g.forEach((function(e){i.push({type:"tag",attribute:"_tags",name:e})})),n&&t.query&&t.query.trim()&&i.push({attribute:"query",type:"query",name:t.query,query:t.query}),i}function uE(e){return(uE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hE(Object(n),!0).forEach((function(t){fE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fE(e,t,n){var r;return r=function(e,t){if("object"!=uE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==uE(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pE(e,t,n){return e.map((function(e,r){return dE(dE({},e),{},{__position:n*t+r+1})}))}function mE(e){return(mE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gE(Object(n),!0).forEach((function(t){vE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vE(e,t,n){var r;return r=function(e,t){if("object"!=mE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==mE(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bE(e,t){return t?e.map((function(e){return yE(yE({},e),{},{__queryID:t})})):e}function EE(e){return(EE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TE(Object(n),!0).forEach((function(t){AE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function AE(e,t,n){var r;return r=function(e,t){if("object"!=EE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=EE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==EE(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _E(e){return(_E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],c=!0,l=!1;try{if(s=(n=n.call(e)).next,0===t);else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function OE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OE(Object(n),!0).forEach((function(t){RE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RE(e,t,n){var r;return r=function(e,t){if("object"!=_E(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==_E(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CE(e){return Object.keys(e).map((function(t){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0;return e.replace(/%s/g,(function(){return encodeURIComponent(n[i++])}))}("%s=%s",t,(n=e[t],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(e[t]):e[t]));var n})).join("&")}function PE(e){return e!==Object(e)}function NE(e,t){if(e===t)return!0;if(PE(e)||PE(t)||"function"==typeof e||"function"==typeof t)return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!(i in t))return!1;if(!NE(e[i],t[i]))return!1}return!0}function xE(e){return"number"==typeof e&&isFinite(e)}function DE(e,t){t(e),e.getWidgets().forEach((function(e){Xb(e)&&DE(e,t)}))}function LE(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))}function ME(e){return(ME="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var FE=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function jE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jE(Object(n),!0).forEach((function(t){BE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BE(e,t,n){var r;return r=function(e,t){if("object"!=ME(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ME(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ME(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UE(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var HE=function(e,t){return e.setQueryParameters({hierarchicalFacets:t.hierarchicalFacets.reduce((function(e,t){var n=function(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(e,(function(e){return e.name===t.name}));if(-1===n)return e.concat(t);var r=e.slice();return r.splice(n,1,t),r}),e.hierarchicalFacets)})},qE=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){var n=function(e,t){return e.setQueryParameters({hierarchicalFacetsRefinements:$E($E({},e.hierarchicalFacetsRefinements),t.hierarchicalFacetsRefinements)})}(e,t),r=function(e,t){return t.tagRefinements.reduce((function(e,t){return e.addTagRefinement(t)}),e)}(HE(n,t),t),i=function(e,t){return e.setQueryParameters({numericRefinements:$E($E({},e.numericRefinements),t.numericRefinements)})}(r,t),s=function(e,t){return e.setQueryParameters({disjunctiveFacetsRefinements:$E($E({},e.disjunctiveFacetsRefinements),t.disjunctiveFacetsRefinements)})}(i,t),a=function(e,t){return e.setQueryParameters({facetsExcludes:$E($E({},e.facetsExcludes),t.facetsExcludes)})}(s,t),o=function(e,t){return e.setQueryParameters({facetsRefinements:$E($E({},e.facetsRefinements),t.facetsRefinements)})}(a,t),c=function(e,t){return t.disjunctiveFacets.reduce((function(e,t){return e.addDisjunctiveFacet(t)}),e)}(o,t),l=function(e,t){var n=LE([].concat(e.ruleContexts).concat(t.ruleContexts).filter(Boolean));return n.length>0?e.setQueryParameters({ruleContexts:n}):e}(c,t),u=function(e,t){return t.facets.reduce((function(e,t){return e.addFacet(t)}),e)}(l,t);return function(e,t){t.facets,t.disjunctiveFacets,t.facetsRefinements,t.facetsExcludes,t.disjunctiveFacetsRefinements,t.numericRefinements,t.tagRefinements,t.hierarchicalFacets,t.hierarchicalFacetsRefinements,t.ruleContexts;var n=UE(t,FE);return e.setQueryParameters(n)}(u,t)}))};function GE(e){return function(e){if(Array.isArray(e))return WE(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return WE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WE(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QE(e){var t=e.start,n=void 0===t?0:t,r=e.end,i=e.step,s=void 0===i?1:i,a=0===s?1:s,o=Math.round((r-n)/a);return GE(Array(o)).map((function(e,t){return n+t*a}))}function VE(e,t,n){var r=t.getHelper();return{uiState:n,helper:r,parent:t,instantSearchInstance:e,state:r.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:"stalled"===e.status},status:e.status,error:e.error}}function YE(e,t,n){var r=t.getResultsForWidget(n),i=t.getHelper();return{helper:i,parent:t,instantSearchInstance:e,results:r,scopedResults:t.getScopedResults(),state:r&&"_state"in r?r._state:i.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:"stalled"===e.status},status:e.status,error:e.error}}function zE(e){return(zE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KE(Object(n),!0).forEach((function(t){JE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JE(e,t,n){var r;return r=function(e,t){if("object"!=zE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==zE(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZE(e){return e.some((function(e){return e.isHighlighted}))?e.map((function(t,n){return XE(XE({},t),{},{isHighlighted:!aE(e,n)})})):e.map((function(e){return XE(XE({},e),{},{isHighlighted:!1})}))}function eT(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fallback:function(){}}).fallback;return"undefined"==typeof window?t():e({window:window})}function tT(e){return Array.isArray(e)?e:[e]}function nT(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}tE({name:"answers",connector:!0});var rT=nT;function iT(e){return"function"==typeof e}function sT(e){return"object"==typeof e&&null!==e}function aT(e){return void 0===e}nT.prototype._events=void 0,nT.prototype._maxListeners=void 0,nT.defaultMaxListeners=10,nT.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},nT.prototype.emit=function(e){var t,n,r,i,s,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||sT(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var o=new Error('Uncaught, unspecified "error" event. ('+t+")");throw o.context=t,o}if(aT(n=this._events[e]))return!1;if(iT(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(sT(n))for(i=Array.prototype.slice.call(arguments,1),r=(a=n.slice()).length,s=0;s<r;s++)a[s].apply(this,i);return!0},nT.prototype.addListener=function(e,t){var n;if(!iT(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,iT(t.listener)?t.listener:t),this._events[e]?sT(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,sT(this._events[e])&&!this._events[e].warned&&(n=aT(this._maxListeners)?nT.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},nT.prototype.on=nT.prototype.addListener,nT.prototype.once=function(e,t){if(!iT(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},nT.prototype.removeListener=function(e,t){var n,r,i,s;if(!iT(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(n=this._events[e]).length,r=-1,n===t||iT(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(sT(n)){for(s=i;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},nT.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(iT(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},nT.prototype.listeners=function(e){return this._events&&this._events[e]?iT(this._events[e])?[this._events[e]]:this._events[e].slice():[]},nT.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(iT(t))return 1;if(t)return t.length}return 0},nT.listenerCount=function(e,t){return e.listenerCount(t)};const oT=ti(rT);var cT=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})};function lT(e,t,n){this.main=e,this.fn=t,this.recommendFn=n,this.lastResults=null,this.lastRecommendResults=null}cT(lT,rT),lT.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},lT.prototype.getModifiedState=function(e){return this.fn(e)},lT.prototype.getModifiedRecommendState=function(e){return this.recommendFn(e)};var uT=lT;var hT={escapeFacetValue:function(e){return"string"!=typeof e?e:String(e).replace(/^-/,"\\-")},unescapeFacetValue:function(e){return"string"!=typeof e?e:e.replace(/^\\-/,"-")}};function dT(e){return"function"==typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}function fT(e,t){if(e===t)return e;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&"__proto__"!==n&&"constructor"!==n){var r=t[n],i=e[n];void 0!==i&&void 0===r||(dT(i)&&dT(r)?e[n]=fT(i,r):e[n]="object"==typeof(s=r)&&null!==s?fT(Array.isArray(s)?[]:{},s):s)}var s;return e}var pT=function(e){dT(e)||(e={});for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];dT(r)&&fT(e,r)}return e};var mT=function(e){return e&&Object.keys(e).length>0};var gT=function(e,t){if(null===e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i};function yT(e){e=e||{},this.params=e.params||[]}yT.prototype={constructor:yT,addParams:function(e){var t=this.params.slice();return t.push(e),new yT({params:t})},removeParams:function(e){return new yT({params:this.params.filter((function(t){return t.$$id!==e}))})},addFrequentlyBoughtTogether:function(e){return this.addParams(Object.assign({},e,{model:"bought-together"}))},addRelatedProducts:function(e){return this.addParams(Object.assign({},e,{model:"related-products"}))},addTrendingItems:function(e){return this.addParams(Object.assign({},e,{model:"trending-items"}))},addTrendingFacets:function(e){return this.addParams(Object.assign({},e,{model:"trending-facets"}))},addLookingSimilar:function(e){return this.addParams(Object.assign({},e,{model:"looking-similar"}))},_buildQueries:function(e,t){return this.params.filter((function(e){return void 0===t[e.$$id]})).map((function(t){var n=Object.assign({},t,{indexName:e,threshold:t.threshold||0});return delete n.$$id,n}))}};var vT=yT;function bT(e,t){this._state=e,this._rawResults={};var n=this;e.params.forEach((function(e){var r=e.$$id;n[r]=t[r],n._rawResults[r]=t[r]}))}bT.prototype={constructor:bT};var ET=bT,TT=pT;function ST(e){return Object.keys(e).sort().reduce((function(t,n){return t[n]=e[n],t}),{})}var AT={_getQueries:function(e,t){var n=[];return n.push({indexName:e,params:AT._getHitsSearchParams(t)}),t.getRefinedDisjunctiveFacets().forEach((function(r){n.push({indexName:e,params:AT._getDisjunctiveFacetSearchParams(t,r)})})),t.getRefinedHierarchicalFacets().forEach((function(r){var i=t.getHierarchicalFacetByName(r),s=t.getHierarchicalRefinement(r),a=t._getHierarchicalFacetSeparator(i);if(s.length>0&&s[0].split(a).length>1){var o=s[0].split(a).slice(0,-1).reduce((function(e,t,n){return e.concat({attribute:i.attributes[n],value:0===n?t:[e[e.length-1].value,t].join(a)})}),[]);o.forEach((function(r,s){var a=AT._getDisjunctiveFacetSearchParams(t,r.attribute,0===s);function c(e){return i.attributes.some((function(t){return t===e.split(":")[0]}))}var l=(a.facetFilters||[]).reduce((function(e,t){if(Array.isArray(t)){var n=t.filter((function(e){return!c(e)}));n.length>0&&e.push(n)}return"string"!=typeof t||c(t)||e.push(t),e}),[]),u=o[s-1];s>0?a.facetFilters=l.concat(u.attribute+":"+u.value):l.length>0?a.facetFilters=l:delete a.facetFilters,n.push({indexName:e,params:a})}))}})),n},_getCompositionQueries:function(e){return[{compositionID:e.index,requestBody:{params:AT._getCompositionHitsSearchParams(e)}}]},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(AT._getHitsHierarchicalFacetsAttributes(e)).sort(),n=AT._getFacetFilters(e),r=AT._getNumericFilters(e),i=AT._getTagFilters(e),s={};return t.length>0&&(s.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(s.tagFilters=i),n.length>0&&(s.facetFilters=n),r.length>0&&(s.numericFilters=r),ST(TT({},e.getQueryParams(),s))},_getCompositionHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets.map((function(e){return"disjunctive("+e+")"}))).concat(AT._getHitsHierarchicalFacetsAttributes(e)).sort(),n=AT._getFacetFilters(e),r=AT._getNumericFilters(e),i=AT._getTagFilters(e),s={};t.length>0&&(s.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(s.tagFilters=i),n.length>0&&(s.facetFilters=n),r.length>0&&(s.numericFilters=r);var a=e.getQueryParams();return delete a.highlightPreTag,delete a.highlightPostTag,delete a.index,ST(TT({},a,s))},_getDisjunctiveFacetSearchParams:function(e,t,n){var r=AT._getFacetFilters(e,t,n),i=AT._getNumericFilters(e,t),s=AT._getTagFilters(e),a={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};s.length>0&&(a.tagFilters=s);var o=e.getHierarchicalFacetByName(t);return a.facets=o?AT._getDisjunctiveHierarchicalFacetAttribute(e,o,n):t,i.length>0&&(a.numericFilters=i),r.length>0&&(a.facetFilters=r),ST(TT({},e.getQueryParams(),a))},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var n=[];return Object.keys(e.numericRefinements).forEach((function(r){var i=e.numericRefinements[r]||{};Object.keys(i).forEach((function(e){var s=i[e]||[];t!==r&&s.forEach((function(t){if(Array.isArray(t)){var i=t.map((function(t){return r+e+t}));n.push(i)}else n.push(r+e+t)}))}))})),n},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var r=[],i=e.facetsRefinements||{};Object.keys(i).sort().forEach((function(e){(i[e]||[]).slice().sort().forEach((function(t){r.push(e+":"+t)}))}));var s=e.facetsExcludes||{};Object.keys(s).sort().forEach((function(e){(s[e]||[]).sort().forEach((function(t){r.push(e+":-"+t)}))}));var a=e.disjunctiveFacetsRefinements||{};Object.keys(a).sort().forEach((function(e){var n=a[e]||[];if(e!==t&&n&&0!==n.length){var i=[];n.slice().sort().forEach((function(t){i.push(e+":"+t)})),r.push(i)}}));var o=e.hierarchicalFacetsRefinements||{};return Object.keys(o).sort().forEach((function(i){var s=(o[i]||[])[0];if(void 0!==s){var a,c,l=e.getHierarchicalFacetByName(i),u=e._getHierarchicalFacetSeparator(l),h=e._getHierarchicalRootPath(l);if(t===i){if(-1===s.indexOf(u)||!h&&!0===n||h&&h.split(u).length===s.split(u).length)return;h?(c=h.split(u).length-1,s=h):(c=s.split(u).length-2,s=s.slice(0,s.lastIndexOf(u))),a=l.attributes[c]}else c=s.split(u).length-1,a=l.attributes[c];a&&r.push([a+":"+s])}})),r},_getHitsHierarchicalFacetsAttributes:function(e){return e.hierarchicalFacets.reduce((function(t,n){var r=e.getHierarchicalRefinement(n.name)[0];if(!r)return t.push(n.attributes[0]),t;var i=e._getHierarchicalFacetSeparator(n),s=r.split(i).length,a=n.attributes.slice(0,s+1);return t.concat(a)}),[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(!0===n){var i=e._getHierarchicalRootPath(t),s=0;return i&&(s=i.split(r).length),[t.attributes[s]]}var a=(e.getHierarchicalRefinement(t.name)[0]||"").split(r).length-1;return t.attributes.slice(0,a+1)},getSearchForFacetQuery:function(e,t,n,r){var i=r.isDisjunctiveFacet(e)?r.clearRefinements(e):r,s={facetQuery:t,facetName:e};return"number"==typeof n&&(s.maxFacetHits=n),ST(TT({},AT._getHitsSearchParams(i),s))}},_T=AT,kT=function(){return Array.prototype.slice.call(arguments).reduceRight((function(e,t){return Object.keys(Object(t)).forEach((function(n){void 0!==t[n]&&(void 0!==e[n]&&delete e[n],e[n]=t[n])})),e}),{})},wT=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]};var OT=function e(t){if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")},IT=kT,RT=mT,CT=gT,PT={addRefinement:function(e,t,n){if(PT.isRefined(e,t,n))return e;var r=""+n,i=e[t]?e[t].concat(r):[r],s={};return s[t]=i,IT(s,e)},removeRefinement:function(e,t,n){if(void 0===n)return PT.clearRefinement(e,(function(e,n){return t===n}));var r=""+n;return PT.clearRefinement(e,(function(e,n){return t===n&&r===e}))},toggleRefinement:function(e,t,n){if(void 0===n)throw new Error("toggleRefinement should be used with a value");return PT.isRefined(e,t,n)?PT.removeRefinement(e,t,n):PT.addRefinement(e,t,n)},clearRefinement:function(e,t,n){if(void 0===t)return RT(e)?{}:e;if("string"==typeof t)return CT(e,[t]);if("function"==typeof t){var r=!1,i=Object.keys(e).reduce((function(i,s){var a=e[s]||[],o=a.filter((function(e){return!t(e,s,n)}));return o.length!==a.length&&(r=!0),i[s]=o,i}),{});return r?i:e}},isRefined:function(e,t,n){var r=Boolean(e[t])&&e[t].length>0;if(void 0===n||!r)return r;var i=""+n;return-1!==e[t].indexOf(i)}},NT=kT,xT=wT,DT=function(e,t){return e.filter((function(n,r){return t.indexOf(n)>-1&&e.indexOf(n)===r}))},LT=pT,MT=mT,FT=gT,jT=OT,$T=function(e){return null!==e&&/^[a-zA-Z0-9_-]{1,64}$/.test(e)},BT=PT;function UT(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((function(e,n){return UT(t[n],e)})):e===t}function HT(e){var t=e?HT._parseNumbers(e):{};void 0===t.userToken||$T(t.userToken)||console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var n=this;Object.keys(t).forEach((function(e){var r=-1!==HT.PARAMETERS.indexOf(e),i=void 0!==t[e];!r&&i&&(n[e]=t[e])}))}HT.PARAMETERS=Object.keys(new HT),HT._parseNumbers=function(e){if(e instanceof HT)return e;var t={};if(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach((function(n){var r=e[n];if("string"==typeof r){var i=parseFloat(r);t[n]=isNaN(i)?r:i}})),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map((function(e){return Array.isArray(e)?e.map((function(e){return parseFloat(e)})):e}))),e.numericRefinements){var n={};Object.keys(e.numericRefinements).forEach((function(t){var r=e.numericRefinements[t]||{};n[t]={},Object.keys(r).forEach((function(e){var i=r[e].map((function(e){return Array.isArray(e)?e.map((function(e){return"string"==typeof e?parseFloat(e):e})):"string"==typeof e?parseFloat(e):e}));n[t][e]=i}))})),t.numericRefinements=n}return LT(e,t)},HT.make=function(e){var t=new HT(e);return(e.hierarchicalFacets||[]).forEach((function(e){if(e.rootPath){var n=t.getHierarchicalRefinement(e.name);n.length>0&&0!==n[0].indexOf(e.rootPath)&&(t=t.clearRefinements(e.name)),0===(n=t.getHierarchicalRefinement(e.name)).length&&(t=t.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}})),t},HT.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&MT(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):MT(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},HT.prototype={constructor:HT,clearRefinements:function(e){var t={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:BT.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:BT.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:BT.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:BT.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return t.numericRefinements===this.numericRefinements&&t.facetsRefinements===this.facetsRefinements&&t.facetsExcludes===this.facetsExcludes&&t.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&t.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(t)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,n){var r=jT(n);if(this.isNumericRefined(e,t,r))return this;var i=LT({},this.numericRefinements);return i[e]=LT({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(r)):i[e][t]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(e,t,n){var r=n;return void 0!==r?this.isNumericRefined(e,t,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(n,i){return i===e&&n.op===t&&UT(n.val,jT(r))}))}):this:void 0!==t?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(n,r){return r===e&&n.op===t}))}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(t,n){return n===e}))}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){if(void 0===e)return MT(this.numericRefinements)?{}:this.numericRefinements;if("string"==typeof e)return FT(this.numericRefinements,[e]);if("function"==typeof e){var t=!1,n=this.numericRefinements,r=Object.keys(n).reduce((function(r,i){var s=n[i],a={};return s=s||{},Object.keys(s).forEach((function(n){var r=s[n]||[],o=[];r.forEach((function(t){e({val:t,op:n},i,"numeric")||o.push(t)})),o.length!==r.length&&(t=!0),a[n]=o})),r[i]=a,r}),{});return t?r:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return BT.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:BT.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return BT.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:BT.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return BT.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:BT.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter((function(t){return t!==e}))}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter((function(t){return t!==e}))}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter((function(t){return t.name!==e}))}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return BT.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:BT.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return BT.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:BT.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return BT.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:BT.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.filter((function(t){return t!==e}))};return this.setQueryParameters(t)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:BT.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:BT.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:BT.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r={};return void 0!==this.hierarchicalFacetsRefinements[e]&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+n))?-1===t.indexOf(n)?r[e]=[]:r[e]=[t.slice(0,t.lastIndexOf(n))]:r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:NT(r,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:NT(n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:NT(t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&BT.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&BT.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&BT.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))return!1;var n=this.getHierarchicalRefinement(e);return t?-1!==n.indexOf(t):n.length>0},isNumericRefined:function(e,t,n){if(void 0===n&&void 0===t)return Boolean(this.numericRefinements[e]);var r=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t];if(void 0===n||!r)return r;var i,s,a=jT(n),o=void 0!==(i=this.numericRefinements[e][t],s=a,xT(i,(function(e){return UT(e,s)})));return r&&o},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var e=this,t=DT(Object.keys(this.numericRefinements).filter((function(t){return Object.keys(e.numericRefinements[t]).length>0})),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter((function(t){return e.disjunctiveFacetsRefinements[t].length>0})).concat(t).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var e=this;return DT(this.hierarchicalFacets.map((function(e){return e.name})),Object.keys(this.hierarchicalFacetsRefinements).filter((function(t){return e.hierarchicalFacetsRefinements[t].length>0}))).sort()},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter((function(t){return-1===e.indexOf(t)}))},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,t={},n=this;return Object.keys(this).forEach((function(r){var i=n[r];-1===e.indexOf(r)&&void 0!==i&&(t[r]=i)})),t},setQueryParameter:function(e,t){if(this[e]===t)return this;var n={};return n[e]=t,this.setQueryParameters(n)},setQueryParameters:function(e){if(!e)return this;var t=HT.validate(this,e);if(t)throw t;var n=this,r=HT._parseNumbers(e),i=Object.keys(this).reduce((function(e,t){return e[t]=n[t],e}),{}),s=Object.keys(r).reduce((function(e,t){var n=void 0!==e[t],i=void 0!==r[t];return n&&!i?FT(e,[t]):(i&&(e[t]=r[t]),e)}),i);return new this.constructor(s)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return xT(this.hierarchicalFacets,(function(t){return t.name===e}))},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e));return t.split(n).map((function(e){return e.trim()}))},toString:function(){return JSON.stringify(this,null,2)}};var qT=HT,GT=wT,WT=function(e,t){var n=(t||[]).map((function(e){return e.split(":")}));return e.reduce((function(e,t){var r=t.split(":"),i=GT(n,(function(e){return e[0]===r[0]}));return r.length>1||!i?(e[0].push(r[0]),e[1].push(r[1]),e):(e[0].push(i[0]),e[1].push(i[1]),e)}),[[],[]])};function QT(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=void 0!==t,s=null===t;if(!s&&e>t||r&&i||!n)return 1;if(!r&&e<t||s&&n||!i)return-1}return 0}var VT=function(e,t,n){if(!Array.isArray(e))return[];Array.isArray(n)||(n=[]);var r=e.map((function(e,n){return{criteria:t.map((function(t){return e[t]})),index:n,value:e}}));return r.sort((function(e,t){for(var r=-1;++r<e.criteria.length;){var i=QT(e.criteria[r],t.criteria[r]);if(i)return r>=n.length?i:"desc"===n[r]?-i:i}return e.index-t.index})),r.map((function(e){return e.value}))},YT=function(e){return function(t,n){var r=e.hierarchicalFacets[n],i=e.hierarchicalFacetsRefinements[r.name]&&e.hierarchicalFacetsRefinements[r.name][0]||"",s=e._getHierarchicalFacetSeparator(r),a=e._getHierarchicalRootPath(r),o=e._getHierarchicalShowParentLevel(r),c=KT(e._getHierarchicalFacetSortBy(r)),l=t.every((function(e){return e.exhaustive})),u=function(e,t,n,r,i){return function(s,a,o){var c=s;if(o>0){var l=0;for(c=s;l<o;){var u=c&&Array.isArray(c.data)?c.data:[];c=zT(u,(function(e){return e.isRefined})),l++}}if(c){var h=Object.keys(a.data).map((function(e){return[e,a.data[e]]})).filter((function(e){return function(e,t,n,r,i,s){if(i&&(0!==e.indexOf(i)||i===e))return!1;return!i&&-1===e.indexOf(r)||i&&e.split(r).length-i.split(r).length==1||-1===e.indexOf(r)&&-1===n.indexOf(r)||0===n.indexOf(e)||0===e.indexOf(t+r)&&(s||0===e.indexOf(n))}(e[0],c.path||n,i,t,n,r)}));c.data=XT(h.map((function(e){var n=e[0];return function(e,t,n,r,i){var s=t.split(n);return{name:s[s.length-1].trim(),path:t,escapedValue:JT(t),count:e,isRefined:r===t||0===r.indexOf(t+n),exhaustive:i,data:null}}(e[1],n,t,ZT(i),a.exhaustive)})),e[0],e[1])}return s}}(c,s,a,o,i),h=t;return a&&(h=t.slice(a.split(s).length)),h.reduce(u,{name:e.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:l,data:null})}},zT=wT,KT=WT,XT=VT,JT=hT.escapeFacetValue,ZT=hT.unescapeFacetValue;var eS=function(e){return Array.isArray(e)?e.filter(Boolean):[]},tS=kT,nS=wT,rS=function(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},iS=WT,sS=VT,aS=hT.escapeFacetValue,oS=hT.unescapeFacetValue,cS=YT;function lS(e){var t={};return e.forEach((function(e,n){t[e]=n})),t}function uS(e,t,n){t&&t[n]&&(e.stats=t[n])}function hS(e,t,n){var r=t[0]||{};this._rawResults=t;var i=this;Object.keys(r).forEach((function(e){i[e]=r[e]}));var s=tS(n,{persistHierarchicalRootCount:!1});Object.keys(s).forEach((function(e){i[e]=s[e]})),this.processingTimeMS=t.reduce((function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS}),0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map((function(){return[]})),this.facets=[];var a=e.getRefinedDisjunctiveFacets(),o=lS(e.facets),c=lS(e.disjunctiveFacets),l=1,u=r.facets||{};Object.keys(u).forEach((function(t){var n,s,a=u[t],l=(n=e.hierarchicalFacets,s=t,nS(n,(function(e){return(e.attributes||[]).indexOf(s)>-1})));if(l){var h=l.attributes.indexOf(t),d=rS(e.hierarchicalFacets,(function(e){return e.name===l.name}));i.hierarchicalFacets[d][h]={attribute:t,data:a,exhaustive:r.exhaustiveFacetsCount}}else{var f,p=-1!==e.disjunctiveFacets.indexOf(t),m=-1!==e.facets.indexOf(t);p&&(f=c[t],i.disjunctiveFacets[f]={name:t,data:a,exhaustive:r.exhaustiveFacetsCount},uS(i.disjunctiveFacets[f],r.facets_stats,t)),m&&(f=o[t],i.facets[f]={name:t,data:a,exhaustive:r.exhaustiveFacetsCount},uS(i.facets[f],r.facets_stats,t))}})),this.hierarchicalFacets=eS(this.hierarchicalFacets),a.forEach((function(n){var s=t[l],a=s&&s.facets?s.facets:{},o=e.getHierarchicalFacetByName(n);Object.keys(a).forEach((function(t){var n,l=a[t];if(o){n=rS(e.hierarchicalFacets,(function(e){return e.name===o.name}));var u=rS(i.hierarchicalFacets[n],(function(e){return e.attribute===t}));if(-1===u)return;i.hierarchicalFacets[n][u].data=i.persistHierarchicalRootCount?tS(i.hierarchicalFacets[n][u].data,l):tS(l,i.hierarchicalFacets[n][u].data)}else{n=c[t];var h=r.facets&&r.facets[t]||{};i.disjunctiveFacets[n]={name:t,data:tS(h,l),exhaustive:s.exhaustiveFacetsCount},uS(i.disjunctiveFacets[n],s.facets_stats,t),e.disjunctiveFacetsRefinements[t]&&e.disjunctiveFacetsRefinements[t].forEach((function(r){!i.disjunctiveFacets[n].data[r]&&e.disjunctiveFacetsRefinements[t].indexOf(oS(r))>-1&&(i.disjunctiveFacets[n].data[r]=0)}))}})),l++})),e.getRefinedHierarchicalFacets().forEach((function(n){var r=e.getHierarchicalFacetByName(n),s=e._getHierarchicalFacetSeparator(r),a=e.getHierarchicalRefinement(n);0===a.length||a[0].split(s).length<2||t.slice(l).forEach((function(t){var n=t&&t.facets?t.facets:{};Object.keys(n).forEach((function(t){var o=n[t],c=rS(e.hierarchicalFacets,(function(e){return e.name===r.name})),l=rS(i.hierarchicalFacets[c],(function(e){return e.attribute===t}));if(-1!==l){var u={};if(a.length>0&&!i.persistHierarchicalRootCount){var h=a[0].split(s)[0];u[h]=i.hierarchicalFacets[c][l].data[h]}i.hierarchicalFacets[c][l].data=tS(u,o,i.hierarchicalFacets[c][l].data)}})),l++}))})),Object.keys(e.facetsExcludes).forEach((function(t){var n=e.facetsExcludes[t],s=o[t];i.facets[s]={name:t,data:u[t],exhaustive:r.exhaustiveFacetsCount},n.forEach((function(e){i.facets[s]=i.facets[s]||{name:t},i.facets[s].data=i.facets[s].data||{},i.facets[s].data[e]=0}))})),this.hierarchicalFacets=this.hierarchicalFacets.map(cS(e)),this.facets=eS(this.facets),this.disjunctiveFacets=eS(this.disjunctiveFacets),this._state=e}function dS(e,t){function n(e){return e.name===t}if(e._state.isConjunctiveFacet(t)){var r=nS(e.facets,n);return r?Object.keys(r.data).map((function(n){var i=aS(n);return{name:n,escapedValue:i,count:r.data[n],isRefined:e._state.isFacetRefined(t,i),isExcluded:e._state.isExcludeRefined(t,n)}})):[]}if(e._state.isDisjunctiveFacet(t)){var i=nS(e.disjunctiveFacets,n);return i?Object.keys(i.data).map((function(n){var r=aS(n);return{name:n,escapedValue:r,count:i.data[n],isRefined:e._state.isDisjunctiveFacetRefined(t,r)}})):[]}if(e._state.isHierarchicalFacet(t)){var s=nS(e.hierarchicalFacets,n);if(!s)return s;var a=e._state.getHierarchicalFacetByName(t),o=e._state._getHierarchicalFacetSeparator(a),c=oS(e._state.getHierarchicalRefinement(t)[0]||"");0===c.indexOf(a.rootPath)&&(c=c.replace(a.rootPath+o,""));var l=c.split(o);return l.unshift(t),fS(s,l,0),s}}function fS(e,t,n){e.isRefined=e.name===(t[n]&&t[n].trim()),e.data&&e.data.forEach((function(e){fS(e,t,n+1)}))}function pS(e,t,n,r){if(r=r||0,Array.isArray(t))return e(t,n[r]);if(!t.data||0===t.data.length)return t;var i=t.data.map((function(t){return pS(e,t,n,r+1)})),s=e(i,n[r]);return tS({data:s},t)}function mS(e,t){var n=nS(e,(function(e){return e.name===t}));return n&&n.stats}function gS(e,t,n,r,i){var s=nS(i,(function(e){return e.name===n})),a=s&&s.data&&s.data[r]?s.data[r]:0,o=s&&s.exhaustive||!1;return{type:t,attributeName:n,name:r,count:a,exhaustive:o}}hS.prototype.getFacetByName=function(e){function t(t){return t.name===e}return nS(this.facets,t)||nS(this.disjunctiveFacets,t)||nS(this.hierarchicalFacets,t)},hS.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],hS.prototype.getFacetValues=function(e,t){var n=dS(this,e);if(n){var r,i=tS(t,{sortBy:hS.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),s=this;if(Array.isArray(n))r=[e];else r=s._state.getHierarchicalFacetByName(n.name).attributes;return pS((function(e,t){if(i.facetOrdering){var n=function(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}(s,t);if(n)return function(e,t){var n=[],r=[],i=t.hide||[],s=(t.order||[]).reduce((function(e,t,n){return e[t]=n,e}),{});e.forEach((function(e){var t=e.path||e.name,a=i.indexOf(t)>-1;a||void 0===s[t]?a||r.push(e):n[s[t]]=e})),n=n.filter((function(e){return e}));var a,o=t.sortRemainingBy;return"hidden"===o?n:(a="alpha"===o?[["path","name"],["asc","asc"]]:[["count"],["desc"]],n.concat(sS(r,a[0],a[1])))}(e,n)}if(Array.isArray(i.sortBy)){var r=iS(i.sortBy,hS.DEFAULT_SORT);return sS(e,r[0],r[1])}if("function"==typeof i.sortBy)return function(e,t){return t.sort(e)}(i.sortBy,e);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")}),n,r)}},hS.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?mS(this.facets,e):this._state.isDisjunctiveFacet(e)?mS(this.disjunctiveFacets,e):void 0},hS.prototype.getRefinements=function(){var e=this._state,t=this,n=[];return Object.keys(e.facetsRefinements).forEach((function(r){e.facetsRefinements[r].forEach((function(i){n.push(gS(e,"facet",r,i,t.facets))}))})),Object.keys(e.facetsExcludes).forEach((function(r){e.facetsExcludes[r].forEach((function(i){n.push(gS(e,"exclude",r,i,t.facets))}))})),Object.keys(e.disjunctiveFacetsRefinements).forEach((function(r){e.disjunctiveFacetsRefinements[r].forEach((function(i){n.push(gS(e,"disjunctive",r,i,t.disjunctiveFacets))}))})),Object.keys(e.hierarchicalFacetsRefinements).forEach((function(r){e.hierarchicalFacetsRefinements[r].forEach((function(i){n.push(function(e,t,n,r){var i=e.getHierarchicalFacetByName(t),s=e._getHierarchicalFacetSeparator(i),a=n.split(s),o=nS(r,(function(e){return e.name===t})),c=a.reduce((function(e,t){var n=e&&nS(e.data,(function(e){return e.name===t}));return void 0!==n?n:e}),o),l=c&&c.count||0,u=c&&c.exhaustive||!1,h=c&&c.path||"";return{type:"hierarchical",attributeName:t,name:h,count:l,exhaustive:u}}(e,r,i,t.hierarchicalFacets))}))})),Object.keys(e.numericRefinements).forEach((function(t){var r=e.numericRefinements[t];Object.keys(r).forEach((function(e){r[e].forEach((function(r){n.push({type:"numeric",attributeName:t,name:r,numericValue:r,operator:e})}))}))})),e.tagRefinements.forEach((function(e){n.push({type:"tag",attributeName:"_tags",name:e})})),n};var yS=hS,vS=wT,bS=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])};var ES="3.23.0",TS=uT,SS=hT.escapeFacetValue,AS=pT,_S=mT,kS=gT,wS=vT,OS=ET,IS=_T,RS=qT,CS=yS,PS=function(e){var t={};return e.forEach((function(e){e.forEach((function(e,n){t[e.objectID]?t[e.objectID]={indexSum:t[e.objectID].indexSum+n,count:t[e.objectID].count+1}:t[e.objectID]={indexSum:n,count:1}}))})),function(e,t){var n=[];return Object.keys(e).forEach((function(r){e[r].count<2&&(e[r].indexSum+=100),n.push({objectID:r,avgOfIndices:e[r].indexSum/t})})),n.sort((function(e,t){return e.avgOfIndices>t.avgOfIndices?1:-1}))}(t,e.length).reduce((function(t,n){var r=vS(bS(e),(function(e){return e.objectID===n.objectID}));return r?t.concat(r):t}),[])},NS=ES;function xS(e,t,n,r){"function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+NS+")"),this.setClient(e);var i=n||{};i.index=t,this.state=RS.make(i),this.recommendState=new wS({params:i.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=r,this._recommendCache={}}function DS(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function LS(){return this.state.page}cT(xS,rT),xS.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},xS.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},xS.prototype.searchWithComposition=function(){return this._runComposition({onlyWithDerivedHelpers:!0}),this},xS.prototype.recommend=function(){return this._recommend(),this},xS.prototype.getQuery=function(){var e=this.state;return IS._getHitsSearchParams(e)},xS.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=IS._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),!t)return this.client.search(r).then((function(e){return i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),{content:new CS(n,e.results),state:n,_originalResponse:e}}),(function(e){throw i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e}));this.client.search(r).then((function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(null,new CS(n,e.results),n)})).catch((function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(e,null,n)}))},xS.prototype.findAnswers=function(e){console.warn("[algoliasearch-helper] answers is no longer supported");var t=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(t),i=AS({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:kS(IS._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),s="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!=typeof this.client.initIndex)throw new Error(s);var a=this.client.initIndex(r.index);if("function"!=typeof a.findAnswers)throw new Error(s);return a.findAnswers(r.query,e.queryLanguages,i)},xS.prototype.searchForFacetValues=function(e,t,n,r){var i="function"==typeof this.client.searchForFacetValues&&"function"!=typeof this.client.searchForFacets,s="function"==typeof this.client.initIndex;if(!i&&!s&&"function"!=typeof this.client.search)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var a=this.state.setQueryParameters(r||{}),o=a.isDisjunctiveFacet(e),c=IS.getSearchForFacetQuery(e,t,n,a);this._currentNbQueries++;var l,u=this;return i?l=this.client.searchForFacetValues([{indexName:a.index,params:c}]):s?l=this.client.initIndex(a.index).searchForFacetValues(c):(delete c.facetName,l=this.client.search([{type:"facet",facet:e,indexName:a.index,params:c}]).then((function(e){return e.results[0]}))),this.emit("searchForFacetValues",{state:a,facet:e,query:t}),l.then((function(t){return u._currentNbQueries--,0===u._currentNbQueries&&u.emit("searchQueueEmpty"),(t=Array.isArray(t)?t[0]:t).facetHits.forEach((function(t){t.escapedValue=SS(t.value),t.isRefined=o?a.isDisjunctiveFacetRefined(e,t.escapedValue):a.isFacetRefined(e,t.escapedValue)})),t}),(function(e){throw u._currentNbQueries--,0===u._currentNbQueries&&u.emit("searchQueueEmpty"),e}))},xS.prototype.searchForCompositionFacetValues=function(e,t,n,r){if("function"!=typeof this.client.searchForFacetValues)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues");var i=this.state.setQueryParameters(r||{}),s=i.isDisjunctiveFacet(e);this._currentNbQueries++;var a,o=this;return a=this.client.searchForFacetValues({compositionID:i.index,facetName:e,searchForFacetValuesRequest:{params:{query:t,maxFacetHits:n,searchQuery:IS._getCompositionHitsSearchParams(i)}}}),this.emit("searchForFacetValues",{state:i,facet:e,query:t}),a.then((function(t){return o._currentNbQueries--,0===o._currentNbQueries&&o.emit("searchQueueEmpty"),(t=t.results[0]).facetHits.forEach((function(t){t.escapedValue=SS(t.value),t.isRefined=s?i.isDisjunctiveFacetRefined(e,t.escapedValue):i.isFacetRefined(e,t.escapedValue)})),t}),(function(e){throw o._currentNbQueries--,0===o._currentNbQueries&&o.emit("searchQueueEmpty"),e}))},xS.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},xS.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},xS.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},xS.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},xS.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},xS.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},xS.prototype.addNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,n),isPageReset:!0}),this},xS.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},xS.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},xS.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},xS.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},xS.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},xS.prototype.addFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(e)}),this},xS.prototype.addRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.addRelatedProducts(e)}),this},xS.prototype.addTrendingItems=function(e){return this._recommendChange({state:this.recommendState.addTrendingItems(e)}),this},xS.prototype.addTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.addTrendingFacets(e)}),this},xS.prototype.addLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.addLookingSimilar(e)}),this},xS.prototype.removeNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,n),isPageReset:!0}),this},xS.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},xS.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},xS.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},xS.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},xS.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},xS.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},xS.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},xS.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},xS.prototype.removeFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},xS.prototype.removeRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},xS.prototype.removeTrendingItems=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},xS.prototype.removeTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},xS.prototype.removeLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},xS.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},xS.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},xS.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},xS.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},xS.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},xS.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},xS.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)},xS.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)},xS.prototype.setCurrentPage=DS,xS.prototype.setPage=DS,xS.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},xS.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},xS.prototype.setState=function(e){return this._change({state:RS.make(e),isPageReset:!1}),this},xS.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new RS(e),this},xS.prototype.hasRefinements=function(e){return!!_S(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},xS.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},xS.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},xS.prototype.hasTag=function(e){return this.state.isTagRefined(e)},xS.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},xS.prototype.getIndex=function(){return this.state.index},xS.prototype.getCurrentPage=LS,xS.prototype.getPage=LS,xS.prototype.getTags=function(){return this.state.tagRefinements},xS.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e))this.state.getConjunctiveRefinements(e).forEach((function(e){t.push({value:e,type:"conjunctive"})})),this.state.getExcludeRefinements(e).forEach((function(e){t.push({value:e,type:"exclude"})}));else if(this.state.isDisjunctiveFacet(e)){this.state.getDisjunctiveRefinements(e).forEach((function(e){t.push({value:e,type:"disjunctive"})}))}var n=this.state.getNumericRefinements(e);return Object.keys(n).forEach((function(e){var r=n[e];t.push({value:r,operator:e,type:"numeric"})})),t},xS.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},xS.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},xS.prototype._search=function(e){var t=this.state,n=[],r=[];e.onlyWithDerivedHelpers||(r=IS._getQueries(t.index,t),n.push({state:t,queriesCount:r.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map((function(e){var r=e.getModifiedState(t),i=r.index?IS._getQueries(r.index,r):[];return n.push({state:r,queriesCount:i.length,helper:e}),e.emit("search",{state:r,results:e.lastResults}),i})),s=Array.prototype.concat.apply(r,i),a=this._queryId++;if(this._currentNbQueries++,!s.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,n,a));try{this.client.search(s).then(this._dispatchAlgoliaResponse.bind(this,n,a)).catch(this._dispatchAlgoliaError.bind(this,a))}catch(o){this.emit("error",{error:o})}},xS.prototype._runComposition=function(){var e=this.state,t=[],n=this.derivedHelpers.map((function(n){var r=n.getModifiedState(e),i=IS._getCompositionQueries(r);return t.push({state:r,queriesCount:i.length,helper:n}),n.emit("search",{state:r,results:n.lastResults}),i})),r=Array.prototype.concat.apply([],n),i=this._queryId++;if(this._currentNbQueries++,!r.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,t,i));if(r.length>1)throw new Error("Only one query is allowed when using a composition.");var s=r[0];try{this.client.search(s).then(this._dispatchAlgoliaResponse.bind(this,t,i)).catch(this._dispatchAlgoliaError.bind(this,i))}catch(a){this.emit("error",{error:a})}},xS.prototype._recommend=function(){var e=this.state,t=this.recommendState,n=this.getIndex(),r=[{state:t,index:n,helper:this}],i=t.params.map((function(e){return e.$$id}));this.emit("fetch",{recommend:{state:t,results:this.lastRecommendResults}});var s=this._recommendCache,a=this.derivedHelpers.map((function(t){var n=t.getModifiedState(e).index;if(!n)return[];var a=t.getModifiedRecommendState(new wS);return r.push({state:a,index:n,helper:t}),i=Array.prototype.concat.apply(i,a.params.map((function(e){return e.$$id}))),t.emit("fetch",{recommend:{state:a,results:t.lastRecommendResults}}),a._buildQueries(n,s)})),o=Array.prototype.concat.apply(this.recommendState._buildQueries(n,s),a);if(0!==o.length)if(o.length>0&&void 0===this.client.getRecommendations)console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");else{var c=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(o).then(this._dispatchRecommendResponse.bind(this,c,r,i)).catch(this._dispatchRecommendError.bind(this,c))}catch(l){this.emit("error",{error:l})}}},xS.prototype._dispatchAlgoliaResponse=function(e,t,n){var r=this;if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var i=n.results.slice();e.forEach((function(e){var t=e.state,n=e.queriesCount,s=e.helper,a=i.splice(0,n);t.index?(s.lastResults=new CS(t,a,r._searchResultsOptions),s.emit("result",{results:s.lastResults,state:t})):s.emit("result",{results:null,state:t})}))}},xS.prototype._dispatchRecommendResponse=function(e,t,n,r){if(!(e<this._lastRecommendQueryIdReceived)){this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,0===this._currentNbRecommendQueries&&this.emit("recommendQueueEmpty");var i=this._recommendCache,s={};n.filter((function(e){return void 0===i[e]})).forEach((function(e,t){s[e]||(s[e]=[]),s[e].push(t)})),Object.keys(s).forEach((function(e){var t=s[e],n=r.results[t[0]];1!==t.length?i[e]=Object.assign({},n,{hits:PS(t.map((function(e){return r.results[e].hits})))}):i[e]=n}));var a={};n.forEach((function(e){a[e]=i[e]})),t.forEach((function(e){var t=e.state,n=e.helper;e.index?(n.lastRecommendResults=new OS(t,a),n.emit("recommend:result",{recommend:{results:n.lastRecommendResults,state:t}})):n.emit("recommend:result",{results:null,state:t})}))}},xS.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},xS.prototype._dispatchRecommendError=function(e,t){e<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbRecommendQueries&&this.emit("recommendQueueEmpty"))},xS.prototype.containsRefinement=function(e,t,n,r){return e||0!==t.length||0!==n.length||0!==r.length},xS.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},xS.prototype._change=function(e){var t=e.state,n=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))},xS.prototype._recommendChange=function(e){var t=e.state;t!==this.recommendState&&(this.recommendState=t,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))},xS.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},xS.prototype.setClient=function(e){return this.client===e||("function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+NS+")"),this.client=e),this},xS.prototype.getClient=function(){return this.client},xS.prototype.derive=function(e,t){var n=new TS(this,e,t);return this.derivedHelpers.push(n),n},xS.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},xS.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var MS=xS,FS=vT,jS=ET,$S=qT,BS=yS;function US(e,t,n,r){return new MS(e,t,n,r)}US.version=ES,US.AlgoliaSearchHelper=MS,US.SearchParameters=$S,US.RecommendParameters=FS,US.SearchResults=BS,US.RecommendResults=jS;const HS=ti(US);function qS(e){return(qS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GS(Object(n),!0).forEach((function(t){QS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QS(e,t,n){var r;return r=function(e,t){if("object"!=qS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==qS(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var VS=tE({name:"configure",connector:!0});function YS(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce((function(e,t){return WS(WS({},e),{},QS({},t,void 0))}),{}))}var zS=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lb,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;return function(n){if(!n||!Tb(n.searchParameters))throw new Error(VS("The `searchParameters` option expects an object."));var r={};return{$$type:"ais.configure",init:function(t){var n=t.instantSearchInstance;e(WS(WS({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(WS(WS({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var r=e.state;return t(),YS(r,n)},getRenderState:function(e,t){var n,r=this.getWidgetRenderState(t);return WS(WS({},e),{},{configure:WS(WS({},r),{},{widgetParams:WS(WS({},r.widgetParams),{},{searchParameters:qE(new HS.SearchParameters(null===(n=e.configure)||void 0===n?void 0:n.widgetParams.searchParameters),new HS.SearchParameters(r.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(e){var t=e.helper;return r.refine||(r.refine=function(e){return function(t){var r=YS(e.state,n),i=qE(r,new HS.SearchParameters(t));n.searchParameters=t,e.setState(i).search()}}(t)),{refine:r.refine,widgetParams:n}},getWidgetSearchParameters:function(e,t){var r=t.uiState;return qE(e,new HS.SearchParameters(WS(WS({},r.configure),n.searchParameters)))},getWidgetUiState:function(e){return WS(WS({},e),{},{configure:WS(WS({},e.configure),n.searchParameters)})}}}};function KS(e){return(KS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XS(Object(n),!0).forEach((function(t){ZS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ZS(e,t,n){var r;return r=function(e,t){if("object"!=KS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==KS(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eA(e){return function(e){if(Array.isArray(e))return tA(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return tA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nA=tE({name:"configure-related-items",connector:!0});function rA(e){var t=e.attributeName,n=e.attributeValue,r=e.attributeScore;return"".concat(t,":").concat(n,"<score=").concat(r||1,">")}function iA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iA(Object(n),!0).forEach((function(t){aA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aA(e,t,n){var r;return r=function(e,t){if("object"!=oA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==oA(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oA(e){return(oA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var cA=tE({name:"dynamic-widgets",connector:!0});function lA(e){return(lA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uA(e){return function(e){if(Array.isArray(e))return hA(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return hA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dA(Object(n),!0).forEach((function(t){pA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pA(e,t,n){var r;return r=function(e,t){if("object"!=lA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==lA(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mA=tE({name:"clear-refinements",connector:!0});function gA(e){return(gA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yA(e){return function(e){if(Array.isArray(e))return vA(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return vA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bA(Object(n),!0).forEach((function(t){TA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TA(e,t,n){var r;return r=function(e,t){if("object"!=gA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==gA(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var SA=tE({name:"current-refinements",connector:!0});function AA(e){var t=e.results,n=e.helper,r=e.indexId,i=e.includedAttributes,s=e.excludedAttributes,a=-1!==(i||[]).indexOf("query")||-1===(s||[]).indexOf("query"),o=i?function(e){return-1!==i.indexOf(e.attribute)}:function(e){return-1===s.indexOf(e.attribute)},c=lE(t,n.state,a).map(wA).filter(o);return c.reduce((function(e,t){return[].concat(yA(e.filter((function(e){return e.attribute!==t.attribute}))),[{indexName:n.state.index,indexId:r,attribute:t.attribute,label:t.attribute,refinements:c.filter((function(e){return e.attribute===t.attribute})).sort((function(e,t){return"numeric"===e.type?e.value-t.value:0})),refine:function(e){return kA(n,e)}}])}),[])}function _A(e,t){switch(e=e.resetPage(),t.type){case"facet":return e.removeFacetRefinement(t.attribute,String(t.value));case"disjunctive":return e.removeDisjunctiveFacetRefinement(t.attribute,String(t.value));case"hierarchical":return e.removeHierarchicalFacetRefinement(t.attribute);case"exclude":return e.removeExcludeRefinement(t.attribute,String(t.value));case"numeric":return e.removeNumericRefinement(t.attribute,t.operator,String(t.value));case"tag":return e.removeTagRefinement(String(t.value));case"query":return e.setQueryParameter("query","");default:return e}}function kA(e,t){e.setState(_A(e.state,t)).search()}function wA(e){var t=function(e){if("numeric"===e.type)return Number(e.name);if("escapedValue"in e)return e.escapedValue;return e.name}(e),n=e.operator?"".concat(function(e){switch(e){case">=":return"â‰¥";case"<=":return"â‰¤";default:return e}}(e.operator)," ").concat(e.name):e.name,r={attribute:e.attribute,type:e.type,value:t,label:n};return void 0!==e.operator&&(r.operator=e.operator),void 0!==e.count&&(r.count=e.count),void 0!==e.exhaustive&&(r.exhaustive=e.exhaustive),r}function OA(e){return(OA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var IA=["name","escapedValue","data","path"];function RA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RA(Object(n),!0).forEach((function(t){PA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PA(e,t,n){var r;return r=function(e,t){if("object"!=OA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=OA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==OA(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],c=!0,l=!1;try{if(s=(n=n.call(e)).next,0===t);else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return DA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var LA=tE({name:"hierarchical-menu",connector:!0}),MA=["name:asc"];function FA(e){return(FA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jA(Object(n),!0).forEach((function(t){BA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BA(e,t,n){var r;return r=function(e,t){if("object"!=FA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=FA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==FA(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var UA=tE({name:"hits",connector:!0});function HA(e){return(HA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qA(Object(n),!0).forEach((function(t){WA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function WA(e,t,n){var r;return r=function(e,t){if("object"!=HA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=HA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==HA(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QA=function(e){var t=e.method,n=e.results,r=e.hits,i=e.objectIDs,s=n.index,a=function(e,t){return t.map((function(t){var n=rE(e,(function(e){return e.objectID===t}));if(void 0===n)throw new Error('Could not find objectID "'.concat(t,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return n}))}(r,i),o=function(e){var t=LE(e.map((function(e){return e.__queryID})));if(t.length>1)throw new Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");var n=t[0];if("string"!=typeof n)throw new Error("Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\n\nSee: https://alg.li/lNiZZ7");return n}(a);switch(t){case"clickedObjectIDsAfterSearch":var c=function(e){return e.map((function(e){return e.__position}))}(a);return{index:s,queryID:o,objectIDs:i,positions:c};case"convertedObjectIDsAfterSearch":return{index:s,queryID:o,objectIDs:i};default:throw new Error('Unsupported method passed to insights: "'.concat(t,'".'))}};function VA(e){return function(t,n){return e((function(e,n){var r=e.results,i=e.hits,s=e.instantSearchInstance;if(r&&i&&s){var a=function(e,t,n){return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];var o=s[0];if(!e){var c=tE({name:"instantsearch"});throw new Error(c("The `insightsClient` option has not been provided to `instantsearch`."))}if(!Array.isArray(o.objectIDs))throw new TypeError("Expected `objectIDs` to be an array.");var l=QA({method:r,results:t,hits:n,objectIDs:o.objectIDs});e(r,GA(GA({},l),o))}}(s.insightsClient,r,i);return t(GA(GA({},e),{},{insights:a}),n)}return t(e,n)}),n)}}function YA(e){return(YA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zA(e,t){return function(e){var t,n=e.method,r=e.payload;if("object"!==YA(r))throw new Error("The insights helper expects the payload to be an object.");try{t=Ub(r)}catch(i){throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(n,'" data-insights-payload="').concat(t,'"')}({method:e,payload:t})}var KA=VA((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;return hb(e,UA()),function(n){var r,i,s=n||{},a=s.escapeHTML,o=void 0===a||a,c=s.transformItems,l=void 0===c?function(e){return e}:c;return{$$type:"ais.hits",init:function(t){e($A($A({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var n=this.getWidgetRenderState(t);e($A($A({},n),{},{instantSearchInstance:t.instantSearchInstance}),!1),n.sendEvent("view:internal",n.items)},getRenderState:function(e,t){return $A($A({},e),{},{hits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,s,a,c=e.results,u=e.helper,h=e.instantSearchInstance;if(r||(r=zb({instantSearchInstance:h,getIndex:function(){return u.getIndex()},widgetType:this.$$type})),i||(i=Kb({getIndex:function(){return u.getIndex()},widgetType:this.$$type,instantSearchInstance:h})),!c)return{hits:[],items:[],results:void 0,banner:void 0,sendEvent:r,bindEvent:i,widgetParams:n};o&&c.hits.length>0&&(c.hits=Nb(c.hits));var d=bE(pE(c.hits,c.page,c.hitsPerPage),c.queryID),f=l(d,{results:c});return{hits:f,items:f,results:c,banner:null===(t=c.renderingContent)||void 0===t||null===(s=t.widgets)||void 0===s||null===(a=s.banners)||void 0===a?void 0:a[0],sendEvent:r,bindEvent:i,widgetParams:n}},dispose:function(e){var n=e.state;return t(),o?n.setQueryParameters(Object.keys(Ob).reduce((function(e,t){return $A($A({},e),{},BA({},t,void 0))}),{})):n},getWidgetSearchParameters:function(e,t){return o?e.setQueryParameters(Ob):e}}}}));function XA(e){return(XA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JA(e){return function(e){if(Array.isArray(e))return ZA(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ZA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function e_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e_(Object(n),!0).forEach((function(t){n_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function n_(e,t,n){var r;return r=function(e,t){if("object"!=XA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=XA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==XA(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r_=tE({name:"hits-per-page",connector:!0});function i_(e){return(i_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s_=["page"],a_=["clickAnalytics","userToken"];function o_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o_(Object(n),!0).forEach((function(t){l_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l_(e,t,n){var r;return r=function(e,t){if("object"!=i_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==i_(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u_(e){return function(e){if(Array.isArray(e))return h_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h_(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var f_=tE({name:"infinite-hits",connector:!0});function p_(e){var t=e||{};return t.page,d_(t,s_)}function m_(e){var t=e||{};return t.clickAnalytics,t.userToken,d_(t,a_)}var g_=VA((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;return hb(e,f_()),function(n){var r,i,s,a,o,c,l=n||{},u=l.escapeHTML,h=void 0===u||u,d=l.transformItems,f=void 0===d?function(e){return e}:d,p=l.cache,m=void 0===p?(r=null,i=null,{read:function(e){var t=e.state;return NE(i,p_(t))?r:null},write:function(e){var t=e.state,n=e.hits;i=p_(t),r=n}}):p,g=function(e,t){var n=e.page,r=void 0===n?0:n,i=Object.keys(t).map(Number);return 0===i.length?r:Math.min.apply(Math,[r].concat(u_(i)))},y=function(e,t){var n=e.page,r=void 0===n?0:n,i=Object.keys(t).map(Number);return 0===i.length?r:Math.max.apply(Math,[r].concat(u_(i)))};return{$$type:"ais.infiniteHits",init:function(t){e(c_(c_({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var n=t.instantSearchInstance,r=this.getWidgetRenderState(t);e(c_(c_({},r),{},{instantSearchInstance:n}),!1),o("view:internal",r.currentPageHits)},getRenderState:function(e,t){return c_(c_({},e),{},{infiniteHits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,r,i,l,u=e.results,d=e.helper,p=e.parent,v=e.state,b=e.instantSearchInstance,E=[],T=p.getPreviousState()||v,S=m.read({state:m_(T)})||{},A=null==u||null===(t=u.renderingContent)||void 0===t||null===(r=t.widgets)||void 0===r||null===(i=r.banners)||void 0===i?void 0:i[0];if(u){var _,k,w=T.page,O=void 0===w?0:w;h&&u.hits.length>0&&(u.hits=Nb(u.hits));var I=bE(pE(u.hits,u.page,u.hitsPerPage),u.queryID),R=f(I,{results:u}),C=!1;DE(b.mainIndex,(function(e){!C&&e.getWidgets().some((function(e){return"ais.dynamicWidgets"===e.$$type}))&&(C=!0)}));var P=!(null!==(_=T.disjunctiveFacets)&&void 0!==_&&_.length||(T.facets||[]).filter((function(e){return"*"!==e})).length||null!==(k=T.hierarchicalFacets)&&void 0!==k&&k.length);void 0!==S[O]||u.__isArtificial||"idle"!==b.status||C&&P||(S[O]=R,m.write({state:m_(T),hits:S})),E=R,l=0===g(T,S)}else s=function(e){return function(){e.overrideStateWithoutTriggeringChangeEvent(c_(c_({},e.state),{},{page:g(e.state,m.read({state:m_(e.state)})||{})-1})).searchWithoutTriggeringOnStateChange()}}(d),a=function(e){return function(){e.setPage(y(e.state,m.read({state:m_(e.state)})||{})+1).search()}}(d),o=zb({instantSearchInstance:b,getIndex:function(){return d.getIndex()},widgetType:this.$$type}),c=Kb({getIndex:function(){return d.getIndex()},widgetType:this.$$type,instantSearchInstance:b}),l=void 0===T.page||0===g(T,S);var N=function(e){return Object.keys(e).map(Number).sort((function(e,t){return e-t})).reduce((function(t,n){return t.concat(e[n])}),[])}(S),x=!u||u.nbPages<=y(T,S)+1;return{hits:N,items:N,currentPageHits:E,sendEvent:o,bindEvent:c,banner:A,results:u||void 0,showPrevious:s,showMore:a,isFirstPage:l,isLastPage:x,widgetParams:n}},dispose:function(e){var n=e.state;t();var r=n.setQueryParameter("page",void 0);return h?r.setQueryParameters(Object.keys(Ob).reduce((function(e,t){return c_(c_({},e),{},l_({},t,void 0))}),{})):r},getWidgetUiState:function(e,t){var n=t.searchParameters.page||0;return n?c_(c_({},e),{},{page:n+1}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=e;h&&(r=e.setQueryParameters(Ob));var i=n.page?n.page-1:0;return r.setQueryParameter("page",i)}}}})),y_=["name","escapedValue","path"];function v_(e){return(v_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b_(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function E_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],c=!0,l=!1;try{if(s=(n=n.call(e)).next,0===t);else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S_(Object(n),!0).forEach((function(t){__(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function __(e,t,n){var r;return r=function(e,t){if("object"!=v_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==v_(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k_=tE({name:"menu",connector:!0}),w_=["isRefined","name:asc"],O_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;return hb(e,k_()),function(n){var r,i,s,a=n||{},o=a.attribute,c=a.limit,l=void 0===c?10:c,u=a.showMore,h=void 0!==u&&u,d=a.showMoreLimit,f=void 0===d?20:d,p=a.sortBy,m=void 0===p?w_:p,g=a.transformItems,y=void 0===g?function(e){return e}:g;if(!o)throw new Error(k_("The `attribute` option is required."));if(!0===h&&f<=l)throw new Error(k_("The `showMoreLimit` option must be greater than `limit`."));var v=!1,b=function(){};function E(){b()}function T(){return v?f:l}return{$$type:"ais.menu",init:function(t){var n=t.instantSearchInstance;e(A_(A_({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(A_(A_({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.removeHierarchicalFacet(o).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(e,t){return A_(A_({},e),{},{menu:A_(A_({},e.menu),{},__({},o,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=this,a=e.results,c=e.createURL,l=e.instantSearchInstance,u=e.helper,d=[],f=!1;if(r||(r=Bb({instantSearchInstance:l,helper:u,attribute:o,widgetType:this.$$type})),i||(i=function(e){return c((function(n){return t.getWidgetUiState(n,{searchParameters:u.state.resetPage().toggleFacetRefinement(o,e),helper:u})}))}),s||(s=function(e){var t=E_(u.getHierarchicalFacetBreadcrumb(o),1)[0];r("click:internal",e||t),u.toggleFacetRefinement(o,e||t).search()}),e.results&&(b=function(e,t){return function(){v=!v,t.render(e)}}(e,this)),a){var p=a.getFacetValues(o,{sortBy:m,facetOrdering:m===w_}),g=p&&!Array.isArray(p)&&p.data?p.data:[];f=h&&(v||g.length>T()),d=y(g.slice(0,T()).map((function(e){var t=e.name,n=e.escapedValue;return e.path,A_(A_({},b_(e,y_)),{},{label:t,value:n})})),{results:a})}return{items:d,createURL:i,refine:s,sendEvent:r,canRefine:d.length>0,widgetParams:n,isShowingMore:v,toggleShowMore:E,canToggleShowMore:f}},getWidgetUiState:function(e,t){var n=E_(t.searchParameters.getHierarchicalFacetBreadcrumb(o),1)[0];return function(e,t){if(!e.menu)return e;void 0===e.menu[t]&&delete e.menu[t];0===Object.keys(e.menu).length&&delete e.menu;return e}(A_(A_({},e),{},{menu:A_(A_({},e.menu),{},__({},o,n))}),o)},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=n.menu&&n.menu[o];if(e.isConjunctiveFacet(o)||e.isDisjunctiveFacet(o))return e;var i=e.removeHierarchicalFacet(o).addHierarchicalFacet({name:o,attributes:[o]}),s=i.maxValuesPerFacet||0,a=Math.max(s,h?f:l),c=i.setQueryParameter("maxValuesPerFacet",a);return r?c.addHierarchicalFacetRefinement(o,r):c.setQueryParameters({hierarchicalFacetsRefinements:A_(A_({},c.hierarchicalFacetsRefinements),{},__({},o,[]))})}}}};function I_(e){return(I_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],c=!0,l=!1;try{if(s=(n=n.call(e)).next,0===t);else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return o}}(e,t)||C_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C_(e,t){if(e){if("string"==typeof e)return P_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P_(e,t):void 0}}function P_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N_(Object(n),!0).forEach((function(t){D_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D_(e,t,n){var r;return r=function(e,t){if("object"!=I_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=I_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==I_(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L_=tE({name:"numeric-menu",connector:!0});function M_(e,t,n){var r=e.getNumericRefinements(t);return void 0!==n.start&&void 0!==n.end?n.start===n.end?j_(r,"=",n.start):j_(r,">=",n.start)&&j_(r,"<=",n.end):void 0!==n.start?j_(r,">=",n.start):void 0!==n.end?j_(r,"<=",n.end):void 0===n.start&&void 0===n.end&&Object.keys(r).every((function(e){return 0===(r[e]||[]).length}))}function F_(e,t,n){var r=e,i=JSON.parse(decodeURI(n)),s=r.getNumericRefinements(t);if(void 0===i.start&&void 0===i.end)return r.removeNumericRefinement(t);if(M_(r,t,i)||(r=r.removeNumericRefinement(t)),void 0!==i.start&&void 0!==i.end){if(i.start>i.end)throw new Error("option.start should be > to option.end");if(i.start===i.end)return r=j_(s,"=",i.start)?r.removeNumericRefinement(t,"=",i.start):r.addNumericRefinement(t,"=",i.start)}return void 0!==i.start&&(j_(s,">=",i.start)&&(r=r.removeNumericRefinement(t,">=",i.start)),r=r.addNumericRefinement(t,">=",i.start)),void 0!==i.end&&(j_(s,"<=",i.end)&&(r=r.removeNumericRefinement(t,"<=",i.end)),r=r.addNumericRefinement(t,"<=",i.end)),"number"==typeof r.page&&(r.page=0),r}function j_(e,t,n){return void 0!==e[t]&&e[t].includes(n)}function $_(e){return($_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B_(e,t,n){return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,H_(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function U_(e,t,n){return(t=H_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H_(e){var t=function(e,t){if("object"!=$_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$_(t)?t:String(t)}var q_=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),U_(this,"currentPage",void 0),U_(this,"total",void 0),U_(this,"padding",void 0),this.currentPage=t.currentPage,this.total=t.total,this.padding=t.padding}return B_(e,[{key:"pages",value:function(){var e=this.total,t=this.currentPage,n=this.padding;if(0===e)return[0];var r=this.nbPagesDisplayed(n,e);if(r===e)return QE({end:e});var i=this.calculatePaddingLeft(t,n,e,r);return QE({start:t-i,end:t+(r-i)})}},{key:"nbPagesDisplayed",value:function(e,t){return Math.min(2*e+1,t)}},{key:"calculatePaddingLeft",value:function(e,t,n,r){return e<=t?e:e>=n-t?r-(n-e):t}},{key:"isLastPage",value:function(){return this.currentPage>=this.total-1}},{key:"isFirstPage",value:function(){return this.currentPage<=0}}]),e}();function G_(e){return(G_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W_(Object(n),!0).forEach((function(t){V_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V_(e,t,n){var r;return r=function(e,t){if("object"!=G_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=G_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==G_(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y_=tE({name:"pagination",connector:!0});function z_(e){return(z_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K_(Object(n),!0).forEach((function(t){J_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J_(e,t,n){var r;return r=function(e,t){if("object"!=z_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=z_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==z_(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],c=!0,l=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ek(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ek(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ek(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tk=tE({name:"range-input",connector:!0},{name:"range-slider",connector:!0});function nk(e){var t=e.min,n=e.max,r=e.precision,i=Math.pow(10,r);return{min:t?Math.floor(t*i)/i:t,max:n?Math.ceil(n*i)/i:n}}function rk(e){return(rk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ik=["name","escapedValue"],sk=["escapedValue","value"];function ak(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ok(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ak(Object(n),!0).forEach((function(t){ck(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ck(e,t,n){var r;return r=function(e,t){if("object"!=rk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==rk(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lk(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var uk=tE({name:"refinement-list",connector:!0}),hk=["isRefined","count:desc","name:asc"];function dk(e){return(dk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fk(Object(n),!0).forEach((function(t){mk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mk(e,t,n){var r;return r=function(e,t){if("object"!=dk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==dk(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gk=tE({name:"search-box",connector:!0}),yk=function(e,t){return t(e)};function vk(e){return(vk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ek(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bk(Object(n),!0).forEach((function(t){Tk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tk(e,t,n){var r;return r=function(e,t){if("object"!=vk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==vk(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sk=tE({name:"sort-by",connector:!0});function Ak(e){return(Ak="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _k(e){return function(e){if(Array.isArray(e))return Ck(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Rk(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kk(Object(n),!0).forEach((function(t){Ok(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ok(e,t,n){var r;return r=function(e,t){if("object"!=Ak(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ak(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ak(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ik(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],c=!0,l=!1;try{if(s=(n=n.call(e)).next,0===t);else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return o}}(e,t)||Rk(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rk(e,t){if(e){if("string"==typeof e)return Ck(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ck(e,t):void 0}}function Ck(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pk=tE({name:"rating-menu",connector:!0}),Nk="ais.ratingMenu";function xk(e){return(xk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dk(Object(n),!0).forEach((function(t){Mk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mk(e,t,n){var r;return r=function(e,t){if("object"!=xk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==xk(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fk=tE({name:"stats",connector:!0});function jk(e){return(jk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$k(Object(n),!0).forEach((function(t){Uk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uk(e,t,n){var r;return r=function(e,t){if("object"!=jk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==jk(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],c=!0,l=!1;try{if(s=(n=n.call(e)).next,0===t);else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gk=tE({name:"toggle-refinement",connector:!0}),Wk="ais.toggleRefinement";function Qk(e){return(Qk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vk(Object(n),!0).forEach((function(t){zk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zk(e,t,n){var r;return r=function(e,t){if("object"!=Qk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Qk(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],c=!0,l=!1;try{if(s=(n=n.call(e)).next,0===t);else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jk=tE({name:"breadcrumb",connector:!0});function Zk(e){return e.reduce((function(e,t){return t.isRefined&&(e.push({label:t.name,value:t.escapedValue}),Array.isArray(t.data)&&(e=e.concat(Zk(t.data)))),e}),[])}function ew(e){return(ew="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tw(Object(n),!0).forEach((function(t){rw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rw(e,t,n){var r;return r=function(e,t){if("object"!=ew(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ew(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ew(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iw=tE({name:"autocomplete",connector:!0});function sw(e){return(sw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ow(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aw(Object(n),!0).forEach((function(t){cw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cw(e,t,n){var r;return r=function(e,t){if("object"!=sw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==sw(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lw(e){return function(e){if(Array.isArray(e))return uw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return uw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uw(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hw=tE({name:"query-rules",connector:!0});function dw(e){var t=this.helper,n=this.initialRuleContexts,r=this.trackedFilters,i=this.transformRuleContexts,s=e.state,a=s.ruleContexts||[],o=function(e){var t=e.helper,n=e.sharedHelperState,r=e.trackedFilters;return Object.keys(r).reduce((function(e,i){var s=lE(t.lastResults||{},n,!0).filter((function(e){return e.attribute===i})).map((function(e){return e.numericValue||e.name})),a=(0,r[i])(s);return[].concat(lw(e),lw(s.filter((function(e){return a.includes(e)})).map((function(e){return"ais-".concat(i,"-").concat(e).replace(/[^a-z0-9-_]+/gi,"_")}))))}),[])}({helper:t,sharedHelperState:s,trackedFilters:r}),c=i([].concat(lw(n),lw(o))).slice(0,10);NE(a,c)||t.overrideStateWithoutTriggeringChangeEvent(ow(ow({},s),{},{ruleContexts:c}))}var fw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;return hb(e,hw()),function(n){var r=n||{},i=r.trackedFilters,s=void 0===i?{}:i,a=r.transformRuleContexts,o=void 0===a?function(e){return e}:a,c=r.transformItems,l=void 0===c?function(e){return e}:c;Object.keys(s).forEach((function(e){if("function"!=typeof s[e])throw new Error(hw("'The \"".concat(e,'" filter value in the `trackedFilters` option expects a function.')))}));var u,h=Object.keys(s).length>0,d=[];return{$$type:"ais.queryRules",init:function(t){var r=t.helper,i=t.state,a=t.instantSearchInstance;d=i.ruleContexts||[],u=dw.bind({helper:r,initialRuleContexts:d,trackedFilters:s,transformRuleContexts:o}),h&&((function(e){return[e.disjunctiveFacetsRefinements,e.facetsRefinements,e.hierarchicalFacetsRefinements,e.numericRefinements].some((function(e){return Boolean(e&&Object.keys(e).length>0)}))}(i)||Boolean(n.transformRuleContexts))&&u({state:i}),r.on("change",u)),e(ow(ow({},this.getWidgetRenderState(t)),{},{instantSearchInstance:a}),!0)},render:function(t){var n=t.instantSearchInstance;e(ow(ow({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},getWidgetRenderState:function(e){var t=e.results,r=(t||{}).userData;return{items:l(void 0===r?[]:r,{results:t}),widgetParams:n}},getRenderState:function(e,t){return ow(ow({},e),{},{queryRules:this.getWidgetRenderState(t)})},dispose:function(e){var n=e.helper,r=e.state;return t(),h?(n.removeListener("change",u),r.setQueryParameter("ruleContexts",d)):r}}}};function pw(e){return(pw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mw(Object(n),!0).forEach((function(t){yw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yw(e,t,n){var r;return r=function(e,t){if("object"!=pw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==pw(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vw=function(e){var t,n=e.searchAsYouSpeak,r=e.language,i=e.onQueryChange,s=e.onStateChange,a=window.webkitSpeechRecognition||window.SpeechRecognition,o=function(e){return{status:e,transcript:"",isSpeechFinal:!1,errorCode:void 0}},c=o("initial"),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c=gw(gw({},c),e),s()},u=function(){l(o(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial"))},h=function(){l({status:"waiting"})},d=function(e){l({status:"error",errorCode:e.error})},f=function(e){l({status:"recognizing",transcript:e.results[0]&&e.results[0][0]&&e.results[0][0].transcript||"",isSpeechFinal:e.results[0]&&e.results[0].isFinal}),n&&c.transcript&&i(c.transcript)},p=function(){c.errorCode||!c.transcript||n||i(c.transcript),"error"!==c.status&&l({status:"finished"})},m=function(){t&&(t.stop(),t.removeEventListener("start",h),t.removeEventListener("error",d),t.removeEventListener("result",f),t.removeEventListener("end",p),t=void 0)};return{getState:function(){return c},isBrowserSupported:function(){return Boolean(a)},isListening:function(){return"askingPermission"===c.status||"waiting"===c.status||"recognizing"===c.status},startListening:function(){(t=new a)&&(u("askingPermission"),t.interimResults=!0,r&&(t.lang=r),t.addEventListener("start",h),t.addEventListener("error",d),t.addEventListener("result",f),t.addEventListener("end",p),t.start())},stopListening:function(){m(),u("finished")},dispose:m}};function bw(e){return(bw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ew(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ew(Object(n),!0).forEach((function(t){Sw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ew(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sw(e,t,n){var r;return r=function(e,t){if("object"!=bw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==bw(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Aw=tE({name:"voice-search",connector:!0});function _w(e){return(_w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ww(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kw(Object(n),!0).forEach((function(t){Ow(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ow(e,t,n){var r;return r=function(e,t){if("object"!=_w(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==_w(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Iw=ub((function(e,t){return function(n){var r=n||{},i=r.hit,s=r.matchingPatterns,a=r.transformSearchParameters,o=void 0===a?function(e){return e}:a;if(!i)throw new Error(nA("The `hit` option is required."));if(!s)throw new Error(nA("The `matchingPatterns` option is required."));var c=Object.keys(s).reduce((function(e,t){var n=s[t],r=oE(i,t),a=n.score;return Array.isArray(r)?[].concat(eA(e),[r.map((function(e){return rA({attributeName:t,attributeValue:e,attributeScore:a})}))]):"string"==typeof r?[].concat(eA(e),[rA({attributeName:t,attributeValue:r,attributeScore:a})]):e}),[]),l=JS({},o(new HS.SearchParameters({sumOrFiltersScores:!0,facetFilters:["objectID:-".concat(i.objectID)],optionalFilters:c})));return JS(JS({},zS(e,t)({searchParameters:l})),{},{$$type:"ais.configureRelatedItems"})}}));const Rw={name:"AisAutocomplete",mixins:[ob({connector:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;return hb(e,iw()),function(n){var r=(n||{}).escapeHTML,i=void 0===r||r,s={};return{$$type:"ais.autocomplete",init:function(t){var n=t.instantSearchInstance;e(nw(nw({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance,r=this.getWidgetRenderState(t);r.indices.forEach((function(e){(0,e.sendEvent)("view:internal",e.hits)})),e(nw(nw({},r),{},{instantSearchInstance:n}),!1)},getRenderState:function(e,t){return nw(nw({},e),{},{autocomplete:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=this,r=e.helper,a=e.state,o=e.scopedResults,c=e.instantSearchInstance;s.refine||(s.refine=function(e){r.setQuery(e).search()});var l=o.map((function(e){var n,r;e.results&&(e.results.hits=i?Nb(e.results.hits):e.results.hits);var s=zb({instantSearchInstance:c,getIndex:function(){var t;return(null===(t=e.results)||void 0===t?void 0:t.index)||""},widgetType:t.$$type});return{indexId:e.indexId,indexName:(null===(n=e.results)||void 0===n?void 0:n.index)||"",hits:(null===(r=e.results)||void 0===r?void 0:r.hits)||[],results:e.results||{},sendEvent:s}}));return{currentRefinement:a.query||"",indices:l,refine:s.refine,widgetParams:n}},getWidgetUiState:function(e,t){var n=t.searchParameters.query||"";return""===n||e&&e.query===n?e:nw(nw({},e),{},{query:n})},getWidgetSearchParameters:function(e,t){var n={query:t.uiState.query||""};return i?e.setQueryParameters(nw(nw({},n),Ob)):e.setQueryParameters(n)},dispose:function(e){var n=e.state;t();var r=n.setQueryParameter("query",void 0);return i?r.setQueryParameters(Object.keys(Ob).reduce((function(e,t){return nw(nw({},e),{},rw({},t,void 0))}),{})):r}}}}},{$$widgetType:"ais.autocomplete"}),Zv({name:"Autocomplete"})],props:{escapeHTML:{type:Boolean,required:!1,default:!0}},computed:{widgetParams:function(){return{escapeHTML:this.escapeHTML}}}};var Cw=h("p",null," This widget doesn't render anything without a filled in default slot. ",-1),Pw=h("p",null,"query, function to refine and results are provided.",-1),Nw=h("pre",null,"refine: Function",-1),xw=h("summary",null,[h("code",null,"indices"),L(":")],-1);Rw.render=function(e,t,n,r,i,s){return e.state?(a(),o("div",{key:0,class:D(e.suit())},[u(e.$slots,"default",{refine:e.state.refine,currentRefinement:e.state.currentRefinement,indices:e.state.indices},(function(){return[Cw,Pw,Nw,h("pre",null,'currentRefinement: "'+C(e.state.currentRefinement)+'"',1),h("details",null,[xw,h("pre",null,C(e.state.indices),1)])]}))],2)):d("",!0)};var Dw=function(e){void 0===e&&(e={});var t=e.mapStateToCanRefine;return void 0===t&&(t=function(e){return Boolean(e.canRefine)}),{inject:{emitter:{from:"instantSearchPanelEmitter",default:function(){return{emit:function(){}}}}},data:function(){return{state:null,hasAlreadyEmitted:!1}},watch:{state:{immediate:!0,handler:function(e,n){if(e){var r=t(n||{}),i=t(e);this.hasAlreadyEmitted&&r===i||(this.emitter.emit("PANEL_CHANGE_EVENT",i),this.hasAlreadyEmitted=!0)}}}}}};const Lw={name:"AisBreadcrumb",mixins:[ob({connector:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;hb(e,Jk());var n={};return function(r){var i=r||{},s=i.attributes,a=i.separator,o=void 0===a?" > ":a,c=i.rootPath,l=void 0===c?null:c,u=i.transformItems,h=void 0===u?function(e){return e}:u;if(!s||!Array.isArray(s)||0===s.length)throw new Error(Jk("The `attributes` option expects an array of strings."));var d=Kk(s,1)[0];function f(e,t){if(!t){var n=e.getHierarchicalFacetBreadcrumb(d);return 0===n.length?e:e.resetPage().toggleFacetRefinement(d,n[0])}return e.resetPage().toggleFacetRefinement(d,t)}return{$$type:"ais.breadcrumb",init:function(t){e(Yk(Yk({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){e(Yk(Yk({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)},dispose:function(){t()},getRenderState:function(e,t){return Yk(Yk({},e),{},{breadcrumb:Yk(Yk({},e.breadcrumb),{},zk({},d,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=this,i=e.helper,s=e.createURL,a=e.results,o=e.state;var c=function(){if(!a||0===o.hierarchicalFacets.length)return[];var e,t=Kk(o.hierarchicalFacets,1)[0].name,n=a.getFacetValues(t,{}),r=n&&!Array.isArray(n)&&n.data?n.data:[];return h((e=Zk(r)).map((function(t,n){return{label:t.label,value:n+1===e.length?null:e[n+1].value}})),{results:a})}();return n.createURL||(n.createURL=function(e){return s((function(n){return t.getWidgetUiState(n,{searchParameters:f(i.state,e),helper:i})}))}),n.refine||(n.refine=function(e){i.setState(f(i.state,e)).search()}),{canRefine:c.length>0,createURL:n.createURL,items:c,refine:n.refine,widgetParams:r}},getWidgetUiState:function(e,t){var n=t.searchParameters.getHierarchicalFacetBreadcrumb(d);return function(e,t){if(!e.hierarchicalMenu)return e;e.hierarchicalMenu[t]&&e.hierarchicalMenu[t].length||delete e.hierarchicalMenu[t];0===Object.keys(e.hierarchicalMenu).length&&delete e.hierarchicalMenu;return e}(Yk(Yk({},e),{},{hierarchicalMenu:Yk(Yk({},e.hierarchicalMenu),{},zk({},d,n))}),d)},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=n.hierarchicalMenu&&n.hierarchicalMenu[d];if(e.isConjunctiveFacet(d)||e.isDisjunctiveFacet(d))return e;e.isHierarchicalFacet(d)&&e.getHierarchicalFacetByName(d);var i=e.removeHierarchicalFacet(d).addHierarchicalFacet({name:d,attributes:s,separator:o,rootPath:l});return r?i.addHierarchicalFacetRefinement(d,r.join(o)):i.setQueryParameters({hierarchicalFacetsRefinements:Yk(Yk({},i.hierarchicalFacetsRefinements),{},zk({},d,[]))})}}}}},{$$widgetType:"ais.breadcrumb"}),Dw(),Zv({name:"Breadcrumb"})],props:{attributes:{type:Array,required:!0},separator:{type:String,default:void 0},rootPath:{type:String,default:void 0},transformItems:{type:Function,default:void 0}},computed:{widgetParams:function(){return{attributes:this.attributes,separator:this.separator,rootPath:this.rootPath,transformItems:this.transformItems}}},methods:{isLastItem:function(e){return this.state.items.length-1===e}}};var Mw=["href"],Fw=["href"],jw=["href","onClick"];Lw.render=function(e,t,n,r,i,s){return e.state?(a(),o("div",{key:0,class:D([e.suit(),!e.state.canRefine&&e.suit("","noRefinement")])},[u(e.$slots,"default",{items:e.state.items,canRefine:e.state.canRefine,refine:e.state.refine,createURL:e.state.createURL},(function(){return[h("ul",{class:D(e.suit("list"))},[h("li",{class:D([e.suit("item"),!e.state.items.length&&e.suit("item","selected")])},[Boolean(e.state.items.length)?(a(),o("a",{key:0,href:e.state.createURL(),class:D(e.suit("link")),onClick:t[0]||(t[0]=G((function(t){return e.state.refine()}),["exact","left","prevent"]))},[u(e.$slots,"rootLabel",{},(function(){return[L("Home")]}))],10,Mw)):(a(),o("a",{key:1,href:e.state.createURL(null),class:D(e.suit("link")),onClick:t[1]||(t[1]=G((function(t){return e.state.refine(null)}),["exact","left","prevent"]))},[u(e.$slots,"rootLabel",{},(function(){return[L("Home")]}))],10,Fw))],2),(a(!0),o(f,null,F(e.state.items,(function(t,n){return a(),o("li",{key:t.label,class:D([e.suit("item"),s.isLastItem(n)&&e.suit("item","selected")])},[h("span",{class:D(e.suit("separator")),"aria-hidden":"true"},[u(e.$slots,"separator",{},(function(){return[L(">")]}))],2),s.isLastItem(n)?(a(),o(f,{key:1},[L(C(t.label),1)],64)):(a(),o("a",{key:0,href:e.state.createURL(t.value),class:D(e.suit("link")),onClick:G((function(n){return e.state.refine(t.value)}),["exact","left","prevent"])},C(t.label),11,jw))],2)})),128))],2)]}))],2)):d("",!0)};const $w={name:"AisClearRefinements",mixins:[ob({connector:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;return hb(e,mA()),function(n){var r=n||{},i=r.includedAttributes,s=void 0===i?[]:i,a=r.excludedAttributes,o=void 0===a?["query"]:a,c=r.transformItems,l=void 0===c?function(e){return e}:c;if(n&&n.includedAttributes&&n.excludedAttributes)throw new Error(mA("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var u={refine:lb,createURL:function(){return""},attributesToClear:[]},h=function(){return u.refine()},d=function(){return u.createURL()};return{$$type:"ais.clearRefinements",init:function(t){var n=t.instantSearchInstance;e(fA(fA({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(fA(fA({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(){t()},getRenderState:function(e,t){return fA(fA({},e),{},{clearRefinements:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.createURL,r=e.scopedResults,i=e.results;u.attributesToClear=r.reduce((function(e,t){return e.concat(function(e){var t=e.scopedResult,n=e.includedAttributes,r=e.excludedAttributes,i=e.transformItems,s=e.results,a=-1!==n.indexOf("query")||-1===r.indexOf("query");return{helper:t.helper,items:i(LE(lE(t.results,t.helper.state,a).map((function(e){return e.attribute})).filter((function(e){return 0===n.length||-1!==n.indexOf(e)})).filter((function(e){return"query"===e&&a||-1===r.indexOf(e)}))),{results:s})}}({scopedResult:t,includedAttributes:s,excludedAttributes:o,transformItems:l,results:i}))}),[]),u.refine=function(){u.attributesToClear.forEach((function(e){var t=e.helper,n=e.items;t.setState(db({helper:t,attributesToClear:n})).search()}))},u.createURL=function(){return t(qE.apply(void 0,uA(u.attributesToClear.map((function(e){return db({helper:e.helper,attributesToClear:e.items})})))))};var a=u.attributesToClear.some((function(e){return e.items.length>0}));return{canRefine:a,hasRefinements:a,refine:h,createURL:d,widgetParams:n}}}}}},{$$widgetType:"ais.clearRefinements"}),Dw(),Zv({name:"ClearRefinements"})],props:{excludedAttributes:{type:Array,default:void 0},includedAttributes:{type:Array,default:void 0},transformItems:{type:Function,default:void 0}},computed:{widgetParams:function(){return{includedAttributes:this.includedAttributes,excludedAttributes:this.excludedAttributes,transformItems:this.transformItems}},canRefine:function(){return this.state.hasRefinements}}};var Bw=["disabled"];$w.render=function(e,t,n,r,i,s){return e.state?(a(),o("div",{key:0,class:D(e.suit())},[u(e.$slots,"default",{canRefine:s.canRefine,refine:e.state.refine,createURL:e.state.createURL},(function(){return[h("button",{type:"reset",class:D([e.suit("button"),!s.canRefine&&e.suit("button","disabled")]),disabled:!s.canRefine,onClick:t[0]||(t[0]=G((function(){for(var t,n=[],r=arguments.length;r--;)n[r]=arguments[r];return e.state.refine&&(t=e.state).refine.apply(t,n)}),["prevent"]))},[u(e.$slots,"resetLabel",{},(function(){return[L(" Clear refinements ")]}))],10,Bw)]}))],2)):d("",!0)};const Uw={inheritAttrs:!1,name:"AisConfigure",mixins:[Zv({name:"Configure"}),ob({connector:zS},{$$widgetType:"ais.configure"})],computed:{widgetParams:function(){return{searchParameters:Object.assign({},this.$attrs)}}},render:nb((function(e){var t=this.$slots.default;return this.state&&t?e("div",{class:this.suit()},[t({refine:this.state.refine,searchParameters:this.state.widgetParams.searchParameters})]):null}))},Hw={inheritAttrs:!1,name:"AisExperimentalConfigureRelatedItems",mixins:[ob({connector:Iw},{$$widgetType:"ais.configureRelatedItems"})],props:{hit:{type:Object,required:!0},matchingPatterns:{type:Object,required:!0},transformSearchParameters:{type:Function,required:!1}},computed:{widgetParams:function(){return{hit:this.hit,matchingPatterns:this.matchingPatterns,transformSearchParameters:this.transformSearchParameters}}},render:function(){return null}},qw={name:"AisCurrentRefinements",mixins:[Zv({name:"CurrentRefinements"}),ob({connector:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;return hb(e,SA()),function(n){if((n||{}).includedAttributes&&(n||{}).excludedAttributes)throw new Error(SA("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var r=n||{},i=r.includedAttributes,s=r.excludedAttributes,a=void 0===s?["query"]:s,o=r.transformItems,c=void 0===o?function(e){return e}:o;return{$$type:"ais.currentRefinements",init:function(t){var n=t.instantSearchInstance;e(EA(EA({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(EA(EA({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(){t()},getRenderState:function(e,t){return EA(EA({},e),{},{currentRefinements:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,r=e.scopedResults,s=e.createURL,o=e.helper;var l=t?r.reduce((function(e,n){return e.concat(c(AA({results:n.results,helper:n.helper,indexId:n.indexId,includedAttributes:i,excludedAttributes:a}),{results:t}))}),[]):c(AA({results:null,helper:o,indexId:o.state.index,includedAttributes:i,excludedAttributes:a}),{results:t});return{items:l,canRefine:l.length>0,refine:function(e){return kA(o,e)},createURL:function(e){return s(_A(o.state,e))},widgetParams:n}}}}}},{$$widgetType:"ais.currentRefinements"}),Dw()],props:{includedAttributes:{type:Array,default:void 0},excludedAttributes:{type:Array,default:void 0},transformItems:{type:Function,default:void 0}},computed:{noRefinement:function(){return this.state&&0===this.state.items.length},widgetParams:function(){return{includedAttributes:this.includedAttributes,excludedAttributes:this.excludedAttributes,transformItems:this.transformItems}}},methods:{createItemKey:function(e){var t=e.attribute,n=e.value;return[t,e.type,n,e.operator].join(":")},capitalize:function(e){return e?e.toString().charAt(0).toLocaleUpperCase()+e.toString().slice(1):""}}};var Gw={key:0},Ww=["onClick"];qw.render=function(e,t,n,r,i,s){return e.state?(a(),o("div",{key:0,class:D([e.suit(),s.noRefinement&&e.suit("","noRefinement")])},[u(e.$slots,"default",{refine:e.state.refine,items:e.state.items,createURL:e.state.createURL},(function(){return[h("ul",{class:D(e.suit("list"))},[(a(!0),o(f,null,F(e.state.items,(function(t){return a(),o("li",{key:t.attribute,class:D(e.suit("item"))},[u(e.$slots,"item",{refine:t.refine,item:t,createURL:e.state.createURL},(function(){return[h("span",{class:D(e.suit("label"))},C(s.capitalize(t.label))+": ",3),(a(!0),o(f,null,F(t.refinements,(function(n){return a(),o("span",{key:s.createItemKey(n),class:D(e.suit("category"))},[u(e.$slots,"refinement",{refine:t.refine,refinement:n,createURL:e.state.createURL},(function(){return[h("span",{class:D(e.suit("categoryLabel"))},["query"===n.attribute?(a(),o("q",Gw,C(n.label),1)):(a(),o(f,{key:1},[L(C(n.label),1)],64))],2),h("button",{class:D(e.suit("delete")),type:"button",onClick:G((function(e){return t.refine(n)}),["left","exact"])}," âœ• ",10,Ww)]}))],2)})),128))]}))],2)})),128))],2)]}))],2)):d("",!0)};const Qw={name:"HierarchicalMenuList",props:{items:{type:Array,required:!0},level:{type:Number,required:!0},refine:{type:Function,required:!0},createURL:{type:Function,required:!0},suit:{type:Function,required:!0}}};var Vw=["href","onClick"];Qw.render=function(e,t,n,r,i,s){var c=K("hierarchical-menu-list",!0);return n.items.length>0?(a(),o("ul",{key:0,class:D([n.suit("list"),n.level>0&&n.suit("list","child"),n.suit("list","lvl"+n.level)])},[(a(!0),o(f,null,F(n.items,(function(e){return a(),o("li",{key:e.value,class:D([n.suit("item"),e.isRefined&&n.suit("item","selected"),e.data&&e.data.length>0&&n.suit("item","parent")])},[h("a",{href:n.createURL(e.value),class:D([n.suit("link"),e.isRefined&&n.suit("link","selected")]),onClick:G((function(t){return n.refine(e.value)}),["exact","left","prevent"])},[h("span",{class:D(n.suit("label"))},C(e.label),3),h("span",{class:D(n.suit("count"))},C(e.count),3)],10,Vw),e.data?(a(),$(c,{key:0,items:e.data,level:n.level+1,refine:n.refine,createURL:n.createURL,suit:n.suit},null,8,["items","level","refine","createURL","suit"])):d("",!0)],2)})),128))],2)):d("",!0)};const Yw={name:"AisHierarchicalMenu",mixins:[Zv({name:"HierarchicalMenu"}),ob({connector:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;return hb(e,LA()),function(n){var r=n||{},i=r.attributes,s=r.separator,a=void 0===s?" > ":s,o=r.rootPath,c=void 0===o?null:o,l=r.showParentLevel,u=void 0===l||l,h=r.limit,d=void 0===h?10:h,f=r.showMore,p=void 0!==f&&f,m=r.showMoreLimit,g=void 0===m?20:m,y=r.sortBy,v=void 0===y?MA:y,b=r.transformItems,E=void 0===b?function(e){return e}:b;if(!i||!Array.isArray(i)||0===i.length)throw new Error(LA("The `attributes` option expects an array of strings."));if(!0===p&&g<=d)throw new Error(LA("The `showMoreLimit` option must be greater than `limit`."));var T,S,A=xA(i,1)[0],_=function(){};function k(){_()}var w=!1;function O(){return w?g:d}function I(e){return e.slice(0,O()).map((function(e){var t=e.name,n=e.escapedValue,r=e.data;e.path;var i=CA(CA({},NA(e,IA)),{},{value:n,label:t,data:null});return Array.isArray(r)&&(i.data=I(r)),i}))}return{$$type:"ais.hierarchicalMenu",init:function(t){var n=t.instantSearchInstance;e(CA(CA({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;_=function(e,t){return function(){w=!w,t.render(e)}}(t,this),e(CA(CA({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.removeHierarchicalFacet(A).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(e,t){return CA(CA({},e),{},{hierarchicalMenu:CA(CA({},e.hierarchicalMenu),{},PA({},A,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=this,r=e.results,s=e.state,o=e.createURL,c=e.instantSearchInstance,l=e.helper,u=[],h=!1;if(T||(T=Bb({instantSearchInstance:c,helper:l,attribute:function(e){var t=e.split(a).length-1;return i[t]},widgetType:this.$$type})),S||(S=function(e){T("click:internal",e),l.toggleFacetRefinement(A,e).search()}),r){var d=r.getFacetValues(A,{sortBy:v,facetOrdering:v===MA}),f=d&&!Array.isArray(d)&&d.data?d.data:[],m=(s.maxValuesPerFacet||0)>O()?f.length<=O():f.length<O();h=p&&(w||!m),u=E(I(f),{results:r})}return{items:u,refine:S,canRefine:u.length>0,createURL:function(e){return o((function(n){return t.getWidgetUiState(n,{searchParameters:s.resetPage().toggleFacetRefinement(A,e),helper:l})}))},sendEvent:T,widgetParams:n,isShowingMore:w,toggleShowMore:k,canToggleShowMore:h}},getWidgetUiState:function(e,t){var n=t.searchParameters.getHierarchicalFacetBreadcrumb(A);return function(e,t){if(!e.hierarchicalMenu)return e;e.hierarchicalMenu[t]&&0!==e.hierarchicalMenu[t].length||delete e.hierarchicalMenu[t];0===Object.keys(e.hierarchicalMenu).length&&delete e.hierarchicalMenu;return e}(CA(CA({},e),{},{hierarchicalMenu:CA(CA({},e.hierarchicalMenu),{},PA({},A,n))}),A)},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=n.hierarchicalMenu&&n.hierarchicalMenu[A];if(e.isConjunctiveFacet(A)||e.isDisjunctiveFacet(A))return e;e.isHierarchicalFacet(A)&&e.getHierarchicalFacetByName(A);var s=e.removeHierarchicalFacet(A).addHierarchicalFacet({name:A,attributes:i,separator:a,rootPath:c,showParentLevel:u}),o=s.maxValuesPerFacet||0,l=Math.max(o,p?g:d),h=s.setQueryParameter("maxValuesPerFacet",l);return r?h.addHierarchicalFacetRefinement(A,r.join(a)):h.setQueryParameters({hierarchicalFacetsRefinements:CA(CA({},h.hierarchicalFacetsRefinements),{},PA({},A,[]))})}}}}},{$$widgetType:"ais.hierarchicalMenu"}),Dw()],components:{HierarchicalMenuList:Qw},props:{attributes:{type:Array,required:!0},limit:{type:Number,default:void 0},showMoreLimit:{type:Number,default:void 0},showMore:{type:Boolean,default:!1},sortBy:{type:[Array,Function],default:void 0},separator:{type:String,default:void 0},rootPath:{type:String,default:void 0},showParentLevel:{type:Boolean,default:void 0},transformItems:{type:Function,default:void 0}},computed:{widgetParams:function(){return{attributes:this.attributes,limit:this.limit,showMore:this.showMore,showMoreLimit:this.showMoreLimit,separator:this.separator,rootPath:this.rootPath,showParentLevel:this.showParentLevel,sortBy:this.sortBy,transformItems:this.transformItems}}}};var zw=["disabled"];function Kw(){return Kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kw.apply(null,arguments)}function Xw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return Array.isArray(t)?e.concat(t):e.concat([t])}),[]).filter(Boolean).join(" ")}Yw.render=function(e,t,n,r,i,s){var c=K("hierarchical-menu-list");return e.state?(a(),o("div",{key:0,class:D([e.suit(),!e.state.canRefine&&e.suit("","noRefinement")])},[u(e.$slots,"default",{items:e.state.items,canRefine:e.state.canRefine,canToggleShowMore:e.state.canToggleShowMore,isShowingMore:e.state.isShowingMore,refine:e.state.refine,createURL:e.state.createURL,toggleShowMore:e.state.toggleShowMore,sendEvent:e.state.sendEvent},(function(){return[P(c,{items:e.state.items,level:0,refine:e.state.refine,createURL:e.state.createURL,suit:e.suit},null,8,["items","refine","createURL","suit"]),n.showMore?(a(),o("button",{key:0,class:D([e.suit("showMore"),!e.state.canToggleShowMore&&e.suit("showMore","disabled")]),disabled:!e.state.canToggleShowMore,onClick:t[0]||(t[0]=G((function(){for(var t,n=[],r=arguments.length;r--;)n[r]=arguments[r];return e.state.toggleShowMore&&(t=e.state).toggleShowMore.apply(t,n)}),["prevent"]))},[u(e.$slots,"showMoreLabel",{isShowingMore:e.state.isShowingMore},(function(){return[L(C(e.state.isShowingMore?"Show less":"Show more"),1)]}))],10,zw)):d("",!0)]}))],2)):d("",!0)};var Zw=["parts","highlightedTagName","nonHighlightedTagName","separator","className","classNames"];var eO=["classNames","hits","itemComponent","sendEvent","emptyComponent","banner","bannerComponent"];function tO(e){var t=e.createElement,n=e.Fragment,r=function(e){var t=e.createElement;return function(e){var n=e.classNames,r=e.banner;return r.image.urls[0].url?t("aside",{className:Jw("ais-Hits-banner",n.bannerRoot)},r.link?t("a",{className:Jw("ais-Hits-banner-link",n.bannerLink),href:r.link.url,target:r.link.target},t("img",{className:Jw("ais-Hits-banner-image",n.bannerImage),src:r.image.urls[0].url,alt:r.image.title})):t("img",{className:Jw("ais-Hits-banner-image",n.bannerImage),src:r.image.urls[0].url,alt:r.image.title})):null}}({createElement:t,Fragment:n});return function(e){var n=e.classNames,i=void 0===n?{}:n,s=e.hits,a=e.itemComponent,o=e.sendEvent,c=e.emptyComponent,l=e.banner,u=e.bannerComponent,h=Xw(e,eO);return t("div",Kw({},h,{className:Jw("ais-Hits",i.root,0===s.length&&Jw("ais-Hits--empty",i.emptyRoot),h.className)}),l&&(u?t(u,{className:Jw("ais-Hits-banner",i.bannerRoot),banner:l}):t(r,{classNames:i,banner:l})),0===s.length&&c?t(c,null):t("ol",{className:Jw("ais-Hits-list",i.list)},s.map((function(e,n){return t(a,{key:e.objectID,hit:e,index:n,className:Jw("ais-Hits-item",i.item),onClick:function(){o("click:internal",e,"Hit Clicked")},onAuxClick:function(){o("click:internal",e,"Hit Clicked")}})}))))}}var nO,rO,iO,sO,aO=function(e,t,n){if(!n)return ee(e,t);if(e===f)return ee(e,Array.isArray(n)?n:[n]);var r="string"==typeof n?{default:function(){return n}}:n,i="string"==typeof e?t:Object.assign(t,{children:n});return ee(e,i,r)},oO=(rO=(nO={createElement:aO,Fragment:f}).createElement,iO=nO.Fragment,sO=function(e){var t=e.createElement;return function(e){var n=e.classNames,r=e.children,i=e.highlightedTagName,s=e.isHighlighted,a=e.nonHighlightedTagName;return t(s?i:a,{className:s?n.highlighted:n.nonHighlighted},r)}}({createElement:rO,Fragment:iO}),function(e){var t=e.parts,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.nonHighlightedTagName,s=void 0===i?"span":i,a=e.separator,o=void 0===a?", ":a,c=e.className,l=e.classNames,u=void 0===l?{}:l,h=Xw(e,Zw);return rO("span",Kw({},h,{className:Jw(u.root,c)}),t.map((function(e,n){var i=n===t.length-1;return rO(iO,{key:n},e.map((function(e,t){return rO(sO,{key:t,classNames:u,highlightedTagName:r,nonHighlightedTagName:s,isHighlighted:e.isHighlighted},e.value)})),!i&&rO("span",{className:u.separator},o))})))});const cO={name:"AisHighlighter",props:{hit:{type:Object,required:!0},attribute:{type:String,required:!0},highlightedTagName:{type:String,default:"mark"},suit:{type:Function,required:!0},highlightProperty:{type:String,required:!0},preTag:{type:String,required:!0},postTag:{type:String,required:!0}},render:function(){var e=oE(this.hit[this.highlightProperty],this.attribute)||[],t=(Array.isArray(e)?e:[e]).map((function(e){return iE(bb(e.value||"")).map((function(e){var t=e.value;return{value:" "===t?"  ":t,isHighlighted:e.isHighlighted}}))}));return aO(oO,{classNames:{root:this.suit(),highlighted:this.suit("highlighted")},highlightedTagName:this.highlightedTagName,nonHighlightedTagName:f,parts:t})}},lO={name:"AisHighlight",mixins:[Zv({name:"Highlight"})],components:{AisHighlighter:cO},props:{hit:{type:Object,required:!0},attribute:{type:String,required:!0},highlightedTagName:{type:String,default:"mark"}}};lO.render=function(e,t,n,r,i,s){var o=K("ais-highlighter");return a(),$(o,{hit:n.hit,attribute:n.attribute,"highlighted-tag-name":n.highlightedTagName,suit:e.suit,"highlight-property":"_highlightResult","pre-tag":"<mark>","post-tag":"</mark>"},null,8,["hit","attribute","highlighted-tag-name","suit"])};const uO={name:"AisHits",mixins:[ob({connector:KA},{$$widgetType:"ais.hits"}),Zv({name:"Hits"})],props:{showBanner:{type:Boolean,default:!0},escapeHTML:{type:Boolean,default:!0},transformItems:{type:Function,default:void 0}},computed:{widgetParams:function(){return{showBanner:this.showBanner,escapeHTML:this.escapeHTML,transformItems:this.transformItems}}},render:nb((function(e){var t=this;if(!this.state)return null;var n=ib(this,"default"),r=ib(this,"item"),i=ib(this,"banner");return r||i||!n?e(tO({createElement:e}),{hits:this.state.items,itemComponent:function(n){var i=n.hit,s=n.index,a=n.onClick,o=n.onAuxClick,c=(n.key,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}(n,["hit","index","onClick","onAuxClick","key"]));return e("li",{key:i.objectID,attrs:c,on:{click:a,auxclick:o}},[r&&r({item:i,index:s,insights:t.state.insights,sendEvent:t.state.sendEvent})||"objectID: "+i.objectID+", index: "+s])},banner:this.showBanner?this.state.banner:void 0,bannerComponent:i,sendEvent:this.state.sendEvent,classNames:this.classNames&&{root:this.classNames["ais-Hits"],list:this.classNames["ais-Hits-list"],item:this.classNames["ais-Hits-item"],bannerRoot:this.classNames["ais-Hits-banner"],bannerImage:this.classNames["ais-Hits-banner-image"],bannerLink:this.classNames["ais-Hits-banner-link"]}}):e("div",{attrs:{class:this.suit()}},[n({banner:this.state.banner,items:this.state.items,insights:this.state.insights,sendEvent:this.state.sendEvent})])}))},hO={name:"AisHitsPerPage",mixins:[Zv({name:"HitsPerPage"}),ob({connector:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;return hb(e,r_()),function(n){var r=n||{},i=r.items,s=r.transformItems,a=void 0===s?function(e){return e}:s;if(!Array.isArray(i))throw new Error(r_("The `items` option expects an array of objects."));var o=i,c=o.filter((function(e){return!0===e.default}));if(0===c.length)throw new Error(r_("A default value must be specified in `items`."));if(c.length>1)throw new Error(r_("More than one default value is specified in `items`."));var l=c[0],u=function(e){return function(t){return t||0===t?e.setQueryParameter("hitsPerPage",t).search():e.setQueryParameter("hitsPerPage",void 0).search()}},h=function(e){var t=e.state,n=e.createURL,r=e.getWidgetUiState,i=e.helper;return function(e){return n((function(n){return r(n,{searchParameters:t.resetPage().setQueryParameter("hitsPerPage",e||0===e?e:void 0),helper:i})}))}};return{$$type:"ais.hitsPerPage",init:function(t){var n=t.state,r=t.instantSearchInstance;o.some((function(e){return Number(n.hitsPerPage)===Number(e.value)}))||(o=[{value:"",label:""}].concat(JA(o))),e(t_(t_({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var n=t.instantSearchInstance;e(t_(t_({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.setQueryParameter("hitsPerPage",void 0)},getRenderState:function(e,t){return t_(t_({},e),{},{hitsPerPage:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,r,i=e.state,s=e.results,c=e.createURL,l=e.helper,d=!!s&&s.nbHits>0;return{items:a((t=i,r=t.hitsPerPage,o.map((function(e){return t_(t_({},e),{},{isRefined:Number(e.value)===Number(r)})}))),{results:s}),refine:u(l),createURL:h({state:i,createURL:c,getWidgetUiState:this.getWidgetUiState,helper:l}),hasNoResults:!d,canRefine:d,widgetParams:n}},getWidgetUiState:function(e,t){var n=t.searchParameters.hitsPerPage;return void 0===n||n===l.value?e:t_(t_({},e),{},{hitsPerPage:n})},getWidgetSearchParameters:function(e,t){var n=t.uiState;return e.setQueryParameters({hitsPerPage:n.hitsPerPage||l.value})}}}}},{$$widgetType:"ais.hitsPerPage"}),Dw()],props:{items:{type:Array,required:!0},transformItems:{type:Function,default:void 0}},computed:{widgetParams:function(){return{items:this.items,transformItems:this.transformItems}}}};var dO=["value","selected"];function fO(e){return(fO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}hO.render=function(e,t,n,r,i,s){return e.state?(a(),o("div",{key:0,class:D(e.suit())},[u(e.$slots,"default",{items:e.state.items,refine:e.state.refine,hasNoResults:e.state.hasNoResults,canRefine:e.state.canRefine,createURL:e.state.createURL},(function(){return[h("select",{class:D(e.suit("select")),onChange:t[0]||(t[0]=function(t){return e.state.refine(Number(t.currentTarget.value))})},[(a(!0),o(f,null,F(e.state.items,(function(t){return a(),o("option",{key:t.value,class:D(e.suit("option")),value:t.value,selected:t.isRefined},C(t.label),11,dO)})),128))],34)]}))],2)):d("",!0)};var pO=["initialSearchParameters"],mO=["initialRecommendParameters"];function gO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gO(Object(n),!0).forEach((function(t){vO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vO(e,t,n){var r;return r=function(e,t){if("object"!=fO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==fO(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bO(e){return function(e){if(Array.isArray(e))return EO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return EO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var SO=tE({name:"index-widget"});function AO(e,t){var n=t.state,r=t.recommendState,i=t.isPageReset,s=t._uiState;n!==e.state&&(e.state=n,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:i,_uiState:s})),r!==e.recommendState&&(e.recommendState=r)}function _O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.reduce((function(e,n){return Xb(n)?e:n.getWidgetUiState||n.getWidgetState?n.getWidgetUiState?n.getWidgetUiState(e,t):n.getWidgetState(e,t):e}),n)}function kO(e,t){var n=t.initialSearchParameters,r=TO(t,pO);return e.reduce((function(e,t){return!t.getWidgetSearchParameters||Xb(t)?e:"search"===t.dependsOn&&t.getWidgetParameters?t.getWidgetParameters(e,r):t.getWidgetSearchParameters(e,r)}),n)}function wO(e,t){var n=t.initialRecommendParameters,r=TO(t,mO);return e.reduce((function(e,t){return!Xb(t)&&"recommend"===t.dependsOn&&t.getWidgetParameters?t.getWidgetParameters(e,r):e}),n)}function OO(e){var t=e.filter(Xb);0!==t.length&&t.forEach((function(e){var t=e.getHelper();AO(t,{state:t.state.resetPage(),recommendState:t.recommendState,isPageReset:!0}),OO(e.getWidgets())}))}function IO(e){return e.filter(Xb).reduce((function(e,t){return e.concat.apply(e,[{indexId:t.getIndexId(),results:t.getResults(),helper:t.getHelper()}].concat(bO(IO(t.getWidgets()))))}),[])}var RO=function(e){if(void 0===e||void 0===e.indexName)throw new Error(SO("The `indexName` option is required."));var t=e.indexName,n=e.indexId,r=void 0===n?t:n,i=[],s={},a=null,o=null,c=null,l=null,u=null,h=!1,d=!1;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return t},getIndexId:function(){return r},getHelper:function(){return c},getResults:function(){var e;return null!==(e=l)&&void 0!==e&&e.lastResults?(l.lastResults._state=c.state,l.lastResults):null},getResultsForWidget:function(e){var t;return"recommend"!==e.dependsOn||Xb(e)||void 0===e.$$id?this.getResults():null!==(t=c)&&void 0!==t&&t.lastRecommendResults?c.lastRecommendResults[e.$$id]:null},getPreviousState:function(){return u},getScopedResults:function(){var e=this.getParent();return IO(e?e.getWidgets():0===t.length?this.getWidgets():[this])},getParent:function(){return o},createURL:function(e){return"function"==typeof e?a._createURL(vO({},r,e(s))):a._createURL(vO({},r,_O(i,{searchParameters:e,helper:c})))},getWidgets:function(){return i},addWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(SO("The `addWidgets` method expects an array of widgets."));if(e.some((function(e){return"function"!=typeof e.init&&"function"!=typeof e.render})))throw new Error(SO("The widget definition expects a `render` and/or an `init` method."));return e.forEach((function(e){Xb(e)||(a&&"recommend"===e.dependsOn?a._hasRecommendWidget=!0:a?a._hasSearchWidget=!0:"recommend"===e.dependsOn?h=!0:d=!0,function(e){"recommend"===e.dependsOn&&(e.$$id=cb++)}(e))})),i=i.concat(e),a&&Boolean(e.length)&&(AO(c,{state:kO(i,{uiState:s,initialSearchParameters:c.state}),recommendState:wO(i,{uiState:s,initialRecommendParameters:c.recommendState}),_uiState:s}),e.forEach((function(e){e.getRenderState&&CO({renderState:e.getRenderState(a.renderState[t.getIndexId()]||{},VE(a,t,a._initialUiState)),instantSearchInstance:a,parent:t})})),e.forEach((function(e){e.init&&e.init(VE(a,t,a._initialUiState))})),a.scheduleSearch()),this},removeWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(SO("The `removeWidgets` method expects an array of widgets."));if(e.some((function(e){return"function"!=typeof e.dispose})))throw new Error(SO("The widget definition expects a `dispose` method."));if((i=i.filter((function(t){return-1===e.indexOf(t)}))).forEach((function(e){Xb(e)||(a&&"recommend"===e.dependsOn?a._hasRecommendWidget=!0:a?a._hasSearchWidget=!0:"recommend"===e.dependsOn?h=!0:d=!0)})),a&&Boolean(e.length)){var n=e.reduce((function(e,n){var r=n.dispose({helper:c,state:e.cleanedSearchState,recommendState:e.cleanedRecommendState,parent:t});return r instanceof HS.RecommendParameters?e.cleanedRecommendState=r:r&&(e.cleanedSearchState=r),e}),{cleanedSearchState:c.state,cleanedRecommendState:c.recommendState}),r=n.cleanedSearchState,o=n.cleanedRecommendState,l=a.future.preserveSharedStateOnUnmount?kO(i,{uiState:s,initialSearchParameters:new HS.SearchParameters({index:this.getIndexName()})}):kO(i,{uiState:_O(i,{searchParameters:r,helper:c}),initialSearchParameters:r});s=_O(i,{searchParameters:l,helper:c}),c.setState(l),c.recommendState=o,i.length&&a.scheduleSearch()}return this},init:function(e){var n,f=this,p=e.instantSearchInstance,m=e.parent,g=e.uiState;if(null===c){a=p,o=m,s=g[r]||{};var y=p.mainHelper,v=kO(i,{uiState:s,initialSearchParameters:new HS.SearchParameters({index:t})}),b=wO(i,{uiState:s,initialRecommendParameters:new HS.RecommendParameters});(c=HS({},v.index,v)).recommendState=b,c.search=function(){return p.onStateChange?(p.onStateChange({uiState:p.mainIndex.getWidgetUiState({}),setUiState:function(e){return p.setUiState(e,!1)}}),y):y.search()},c.searchWithoutTriggeringOnStateChange=function(){return y.search()},c.searchForFacetValues=function(e,t,n,r){var i=c.state.setQueryParameters(r);return y.searchForFacetValues(e,t,n,i)},l=y.derive((function(){return qE.apply(void 0,[y.state].concat(bO(function(e){for(var t=e.getParent(),n=[e.getHelper().state];null!==t;)n=[t.getHelper().state].concat(n),t=t.getParent();return n}(f))))}),(function(){return f.getHelper().recommendState}));var E=null===(n=p._initialResults)||void 0===n?void 0:n[this.getIndexId()];if(null!=E&&E.results){var T=new HS.SearchResults(new HS.SearchParameters(E.state),E.results);l.lastResults=T,c.lastResults=T}if(null!=E&&E.recommendResults){var S=new HS.RecommendResults(new HS.RecommendParameters({params:E.recommendResults.params}),E.recommendResults.results);l.lastRecommendResults=S,c.lastRecommendResults=S}c.on("change",(function(e){e.isPageReset&&OO(i)})),l.on("search",(function(){p.scheduleStalledRender()})),l.on("result",(function(e){var t=e.results;p.scheduleRender(),c.lastResults=t,u=null==t?void 0:t._state})),l.on("recommend:result",(function(e){var t=e.recommend;p.scheduleRender(),c.lastRecommendResults=t.results})),i.forEach((function(e){e.getRenderState&&CO({renderState:e.getRenderState(p.renderState[f.getIndexId()]||{},VE(p,f,g)),instantSearchInstance:p,parent:f})})),i.forEach((function(e){e.init&&e.init(VE(p,f,g))})),c.on("change",(function(e){var t=e.state,n=e._uiState;s=_O(i,{searchParameters:t,helper:c},n||{}),p.onStateChange||p.onInternalStateChange()})),E&&p.scheduleRender(),h&&(p._hasRecommendWidget=!0),d&&(p._hasSearchWidget=!0)}},render:function(e){var t,n=this,r=e.instantSearchInstance;"error"===r.status&&!r.mainHelper.hasPendingRequests()&&u&&c.setState(u);var s=this.getResults()||null!==(t=l)&&void 0!==t&&t.lastRecommendResults?i:i.filter(Xb);(s=s.filter((function(e){return!e.shouldRender||e.shouldRender({instantSearchInstance:r})}))).forEach((function(e){e.getRenderState&&CO({renderState:e.getRenderState(r.renderState[n.getIndexId()]||{},YE(r,n,e)),instantSearchInstance:r,parent:n})})),s.forEach((function(e){e.render&&e.render(YE(r,n,e))}))},dispose:function(){var e,t,n=this;i.forEach((function(e){e.dispose&&c&&e.dispose({helper:c,state:c.state,recommendState:c.recommendState,parent:n})})),a=null,o=null,null===(e=c)||void 0===e||e.removeAllListeners(),c=null,null===(t=l)||void 0===t||t.detach(),l=null},getWidgetUiState:function(e){return i.filter(Xb).reduce((function(e,t){return t.getWidgetUiState(e)}),yO(yO({},e),{},vO({},r,yO(yO({},e[r]),s))))},getWidgetState:function(e){return this.getWidgetUiState(e)},getWidgetSearchParameters:function(e,t){var n=t.uiState;return kO(i,{uiState:n,initialSearchParameters:e})},refreshUiState:function(){s=_O(i,{searchParameters:this.getHelper().state,helper:this.getHelper()},s)},setIndexUiState:function(e){var t="function"==typeof e?e(s):e;a.setUiState((function(e){return yO(yO({},e),{},vO({},r,t))}))}}};function CO(e){var t=e.renderState,n=e.instantSearchInstance,r=e.parent,i=r?r.getIndexId():n.mainIndex.getIndexId();n.renderState=yO(yO({},n.renderState),{},vO({},i,yO(yO({},n.renderState[i]),t)))}const PO={name:"AisIndex",mixins:[Zv({name:"Index"}),ob({connector:function(){return RO}},{$$widgetType:"ais.index"})],provide:function(){var e=this;return{$_ais_getParentIndex:function(){return e.widget}}},props:{indexName:{type:String,required:!0},indexId:{type:String,required:!1}},render:nb((function(e){return e("div",{},rb(this))})),computed:{widgetParams:function(){return{indexName:this.indexName,indexId:this.indexId}}}};var NO=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.descendantName,r=t.modifierName,i=n?"-".concat(n):"",s=r?"--".concat(r):"";return"".concat("ais","-").concat(e).concat(i).concat(s)}},xO=NO("Highlight");function DO(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.hit,s=e.cssClasses,a=void 0===s?{}:s,o=(oE(i._highlightResult,t)||{}).value,c=void 0===o?"":o,l=xO({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return c.replace(new RegExp(Ib,"g"),"<".concat(r,' class="').concat(l,'">')).replace(new RegExp(Rb,"g"),"</".concat(r,">"))}var LO=NO("ReverseHighlight");function MO(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.hit,s=e.cssClasses,a=void 0===s?{}:s,o=(oE(i._highlightResult,t)||{}).value,c=void 0===o?"":o,l=LO({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return xb(ZE(iE(c))).replace(new RegExp(Ib,"g"),"<".concat(r,' class="').concat(l,'">')).replace(new RegExp(Rb,"g"),"</".concat(r,">"))}var FO=NO("Snippet");function jO(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.hit,s=e.cssClasses,a=void 0===s?{}:s,o=(oE(i._snippetResult,t)||{}).value,c=void 0===o?"":o,l=FO({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return c.replace(new RegExp(Ib,"g"),"<".concat(r,' class="').concat(l,'">')).replace(new RegExp(Rb,"g"),"</".concat(r,">"))}var $O=NO("ReverseSnippet");function BO(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.hit,s=e.cssClasses,a=void 0===s?{}:s,o=(oE(i._snippetResult,t)||{}).value,c=void 0===o?"":o,l=$O({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return xb(ZE(iE(c))).replace(new RegExp(Ib,"g"),"<".concat(r,' class="').concat(l,'">')).replace(new RegExp(Rb,"g"),"</".concat(r,">"))}function UO(e){return(UO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HO(){return function(e){if("object"===("undefined"==typeof document?"undefined":UO(document))&&"string"==typeof document.cookie)for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}}("_ALGOLIA")}var qO=["page"];function GO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WO(e){var t=e||{};return t.page,GO(t,qO)}function QO(e){return(QO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VO(Object(n),!0).forEach((function(t){zO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zO(e,t,n){var r;return r=function(e,t){if("object"!=QO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=QO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==QO(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],c=!0,l=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return o}}(e,t)||JO(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XO(e){return function(e){if(Array.isArray(e))return ZO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||JO(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JO(e,t){if(e){if("string"==typeof e)return ZO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZO(e,t):void 0}}function ZO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var eI="2.17.2",tI="https://cdn.jsdelivr.net/npm/search-insights@".concat(eI,"/dist/search-insights.min.js");function nI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.insightsClient,n=e.insightsInitParams,r=e.onEvent,i=e.$$internal,s=void 0!==i&&i,a=e.$$automatic,o=void 0!==a&&a,c=t;t||null===t||eT((function(e){var t=e.window,n=t.AlgoliaAnalyticsObject||"aa";"string"==typeof n&&(c=t[n]),c||(t.AlgoliaAnalyticsObject=n,t[n]||(t[n]=function(){t[n].queue||(t[n].queue=[]);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t[n].queue.push(r)},t[n].version=eI,t[n].shouldAddScript=!0),c=t[n])}));var l=c||lb;return function(e){var t=e.instantSearchInstance,i=t.middleware.filter((function(e){return"ais.insights"===e.instance.$$type&&e.instance.$$internal})).map((function(e){return e.creator}));t.unuse.apply(t,XO(i));var a,c,u=KO(function(e){if(e.appId&&e.apiKey)return[e.appId,e.apiKey];if(e.transporter){var t=e.transporter,n=t.headers||t.baseHeaders,r=t.queryParameters||t.baseQueryParameters,i="x-algolia-application-id",s="x-algolia-api-key";return[n[i]||r[i],n[s]||r[s]]}return[e.applicationID,e.apiKey]}(t.client),2),h=u[0],d=u[1],f=void 0,p=void 0,m=void 0,g=l.queue;if(Array.isArray(g)){var y=["setUserToken","init"].map((function(e){var t=rE(g.slice().reverse(),(function(t){return KO(t,1)[0]===e}))||[];return KO(t,2)[1]})),v=KO(y,2);p=v[0],f=v[1]}return l("getUserToken",null,(function(e,t){m=iI(t)})),!n&&rI(l)||l("init",YO({appId:h,apiKey:d,partial:!0},n)),{$$type:"ais.insights",$$internal:s,$$automatic:o,onStateChange:function(){},subscribe:function(){if(l.shouldAddScript){var e="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var n=document.createElement("script");n.async=!0,n.src=tI,n.onerror=function(){t.emit("error",new Error(e))},document.body.appendChild(n),l.shouldAddScript=!1}catch(r){l.shouldAddScript=!1,t.emit("error",new Error(e))}}},started:function(){l("addAlgoliaAgent","insights-middleware"),c=t.mainHelper;var e=l.queue;if(Array.isArray(e)){var i=["setUserToken","init"].map((function(t){var n=rE(e.slice().reverse(),(function(e){return KO(e,1)[0]===t}))||[];return KO(n,2)[1]})),u=KO(i,2);p=u[0],f=u[1]}a=function(e){var t,n,r=(null===(t=e._initialResults)||void 0===t||null===(n=t[e.indexName])||void 0===n?void 0:n.state)||{},i=e.mainHelper.state;return{userToken:r.userToken||i.userToken,clickAnalytics:r.clickAnalytics||i.clickAnalytics}}(t),o||c.overrideStateWithoutTriggeringChangeEvent(YO(YO({},c.state),{},{clickAnalytics:!0})),s||t.scheduleSearch();var g=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=iI(e);if(r){var i=c.state.userToken;n?s():setTimeout(s,0)}function s(){c.overrideStateWithoutTriggeringChangeEvent(YO(YO({},c.state),{},{userToken:r})),i&&i!==e&&t.scheduleSearch()}};function y(e){g(e,!0),l("setUserToken",e)}var v,b=void 0,E=HO();E?b=E:b="anonymous-".concat("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})));var T=a.userToken;if(null!=n&&n.userToken&&(v=n.userToken),v)y(v);else if(T)y(T);else if(m)y(m);else if(p)y(p);else if(b){var S,A;if(y(b),null!=n&&n.useCookie||null!==(S=f)&&void 0!==S&&S.useCookie)!function(e,t){var n=2592e6,r=new Date;r.setTime(r.getTime()+(t||6*n));var i="expires=".concat(r.toUTCString());document.cookie="_ALGOLIA=".concat(e,";").concat(i,";path=/")}(b,(null==n?void 0:n.cookieDuration)||(null===(A=f)||void 0===A?void 0:A.cookieDuration))}l("onUserTokenChange",(function(e){return g(e,!0)}),{immediate:!0});var _=l;rI(l)&&(_=function(e,t){return l(e,t,{headers:{"X-Algolia-Application-Id":h,"X-Algolia-API-Key":d}})});var k,w=new Set;t.mainHelper.derivedHelpers[0].on("result",(function(e){var t=e.results;!t||t.queryID&&t.queryID===k||(k=t.queryID,w.clear())})),t.sendEventToInsights=function(e){if(r)r(e,_);else if(e.insightsMethod){if("viewedObjectIDs"===e.insightsMethod){var t=e.payload,n=t.objectIDs.filter((function(e){return!w.has(e)}));if(0===n.length)return;n.forEach((function(e){return w.add(e)})),t.objectIDs=n}e.payload.algoliaSource=["instantsearch"],o&&e.payload.algoliaSource.push("instantsearch-automatic"),"internal"===e.eventModifier&&e.payload.algoliaSource.push("instantsearch-internal"),_(e.insightsMethod,e.payload)}}},unsubscribe:function(){l("onUserTokenChange",void 0),t.sendEventToInsights=lb,c&&a&&(c.overrideStateWithoutTriggeringChangeEvent(YO(YO({},c.state),a)),t.scheduleSearch())}}}}function rI(e){var t=KO((e.version||"").split(".").map(Number),2),n=t[0],r=t[1];return n>=3||2===n&&r>=6||1===n&&r>=10}function iI(e){if(e)return"number"==typeof e?e.toString():e}function sI(e,t,n){var r=VE(t,t.mainIndex,t._initialUiState);e.forEach((function(e){var i={};if(e.getWidgetRenderState){var s=e.getWidgetRenderState(r);s&&s.widgetParams&&(i=s.widgetParams)}var a=Object.keys(i).filter((function(e){return void 0!==i[e]}));n.widgets.push({type:e.$$type,widgetType:e.$$widgetType,params:a}),"ais.index"===e.$$type&&sI(e.getWidgets(),t,n)}))}function aI(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).$$internal,t=void 0!==e&&e;return function(e){var n=e.instantSearchInstance,r={widgets:[]},i=document.createElement("meta"),s=document.querySelector("head");return i.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:t,onStateChange:function(){},subscribe:function(){setTimeout((function(){var e=n.client;r.ua=e.transporter&&e.transporter.userAgent?e.transporter.userAgent.value:e._ua,sI(n.mainIndex.getWidgets(),n,r),n.middleware.forEach((function(e){return r.widgets.push({middleware:!0,type:e.instance.$$type,internal:e.instance.$$internal})})),i.content=JSON.stringify(r),s.appendChild(i)}),0)},started:function(){},unsubscribe:function(){i.remove()}}}}var oI=String.prototype.replace,cI=/%20/g,lI="RFC3986",uI={default:lI,formatters:{RFC1738:function(e){return oI.call(e,cI,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:lI},hI=uI,dI=Object.prototype.hasOwnProperty,fI=Array.isArray,pI=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),mI=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},gI={arrayToObject:mI,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],s=i.obj[i.prop],a=Object.keys(s),o=0;o<a.length;++o){var c=a[o],l=s[c];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:s,prop:c}),n.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(fI(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(YR){return r}},encode:function(e,t,n,r,i){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var a="",o=0;o<s.length;++o){var c=s.charCodeAt(o);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||i===hI.RFC1738&&(40===c||41===c)?a+=s.charAt(o):c<128?a+=pI[c]:c<2048?a+=pI[192|c>>6]+pI[128|63&c]:c<55296||c>=57344?a+=pI[224|c>>12]+pI[128|c>>6&63]+pI[128|63&c]:(o+=1,c=65536+((1023&c)<<10|1023&s.charCodeAt(o)),a+=pI[240|c>>18]+pI[128|c>>12&63]+pI[128|c>>6&63]+pI[128|63&c])}return a},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(fI(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(fI(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!dI.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var i=t;return fI(t)&&!fI(n)&&(i=mI(t,r)),fI(t)&&fI(n)?(n.forEach((function(n,i){if(dI.call(t,i)){var s=t[i];s&&"object"==typeof s&&n&&"object"==typeof n?t[i]=e(s,n,r):t.push(n)}else t[i]=n})),t):Object.keys(n).reduce((function(t,i){var s=n[i];return dI.call(t,i)?t[i]=e(t[i],s,r):t[i]=s,t}),i)}},yI=gI,vI=uI,bI=Object.prototype.hasOwnProperty,EI={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},TI=Array.isArray,SI=String.prototype.split,AI=Array.prototype.push,_I=function(e,t){AI.apply(e,TI(t)?t:[t])},kI=Date.prototype.toISOString,wI=vI.default,OI={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:yI.encode,encodeValuesOnly:!1,format:wI,formatter:vI.formatters[wI],indices:!1,serializeDate:function(e){return kI.call(e)},skipNulls:!1,strictNullHandling:!1},II=function e(t,n,r,i,s,a,o,c,l,u,h,d,f,p){var m,g=t;if("function"==typeof o?g=o(n,g):g instanceof Date?g=u(g):"comma"===r&&TI(g)&&(g=yI.maybeMap(g,(function(e){return e instanceof Date?u(e):e}))),null===g){if(i)return a&&!f?a(n,OI.encoder,p,"key",h):n;g=""}if("string"==typeof(m=g)||"number"==typeof m||"boolean"==typeof m||"symbol"==typeof m||"bigint"==typeof m||yI.isBuffer(g)){if(a){var y=f?n:a(n,OI.encoder,p,"key",h);if("comma"===r&&f){for(var v=SI.call(String(g),","),b="",E=0;E<v.length;++E)b+=(0===E?"":",")+d(a(v[E],OI.encoder,p,"value",h));return[d(y)+"="+b]}return[d(y)+"="+d(a(g,OI.encoder,p,"value",h))]}return[d(n)+"="+d(String(g))]}var T,S=[];if(void 0===g)return S;if("comma"===r&&TI(g))T=[{value:g.length>0?g.join(",")||null:void 0}];else if(TI(o))T=o;else{var A=Object.keys(g);T=c?A.sort(c):A}for(var _=0;_<T.length;++_){var k=T[_],w="object"==typeof k&&void 0!==k.value?k.value:g[k];if(!s||null!==w){var O=TI(g)?"function"==typeof r?r(n,k):n:n+(l?"."+k:"["+k+"]");_I(S,e(w,O,r,i,s,a,o,c,l,u,h,d,f,p))}}return S},RI=gI,CI=Object.prototype.hasOwnProperty,PI=Array.isArray,NI={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:RI.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},xI=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},DI=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},LI=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,a=n.depth>0&&/(\[[^[\]]*])/.exec(i),o=a?i.slice(0,a.index):i,c=[];if(o){if(!n.plainObjects&&CI.call(Object.prototype,o)&&!n.allowPrototypes)return;c.push(o)}for(var l=0;n.depth>0&&null!==(a=s.exec(i))&&l<n.depth;){if(l+=1,!n.plainObjects&&CI.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+i.slice(a.index)+"]"),function(e,t,n,r){for(var i=r?t:DI(t,n),s=e.length-1;s>=0;--s){var a,o=e[s];if("[]"===o&&n.parseArrays)a=[].concat(i);else{a=n.plainObjects?Object.create(null):{};var c="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,l=parseInt(c,10);n.parseArrays||""!==c?!isNaN(l)&&o!==c&&String(l)===c&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(a=[])[l]=i:"__proto__"!==c&&(a[c]=i):a={0:i}}i=a}return i}(c,t,n,r)}};const MI=ti({formats:uI,parse:function(e,t){var n=function(e){if(!e)return NI;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?NI.charset:e.charset;return{allowDots:void 0===e.allowDots?NI.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:NI.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:NI.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:NI.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:NI.comma,decoder:"function"==typeof e.decoder?e.decoder:NI.decoder,delimiter:"string"==typeof e.delimiter||RI.isRegExp(e.delimiter)?e.delimiter:NI.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:NI.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:NI.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:NI.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:NI.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:NI.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?function(e,t){var n,r={},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,a=i.split(t.delimiter,s),o=-1,c=t.charset;if(t.charsetSentinel)for(n=0;n<a.length;++n)0===a[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===a[n]?c="utf-8":"utf8=%26%2310003%3B"===a[n]&&(c="iso-8859-1"),o=n,n=a.length);for(n=0;n<a.length;++n)if(n!==o){var l,u,h=a[n],d=h.indexOf("]="),f=-1===d?h.indexOf("="):d+1;-1===f?(l=t.decoder(h,NI.decoder,c,"key"),u=t.strictNullHandling?null:""):(l=t.decoder(h.slice(0,f),NI.decoder,c,"key"),u=RI.maybeMap(DI(h.slice(f+1),t),(function(e){return t.decoder(e,NI.decoder,c,"value")}))),u&&t.interpretNumericEntities&&"iso-8859-1"===c&&(u=xI(u)),h.indexOf("[]=")>-1&&(u=PI(u)?[u]:u),CI.call(r,l)?r[l]=RI.combine(r[l],u):r[l]=u}return r}(e,n):e,i=n.plainObjects?Object.create(null):{},s=Object.keys(r),a=0;a<s.length;++a){var o=s[a],c=LI(o,r[o],n,"string"==typeof e);i=RI.merge(i,c,n)}return RI.compact(i)},stringify:function(e,t){var n,r=e,i=function(e){if(!e)return OI;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||OI.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=vI.default;if(void 0!==e.format){if(!bI.call(vI.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=vI.formatters[n],i=OI.filter;return("function"==typeof e.filter||TI(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:OI.addQueryPrefix,allowDots:void 0===e.allowDots?OI.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:OI.charsetSentinel,delimiter:void 0===e.delimiter?OI.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:OI.encode,encoder:"function"==typeof e.encoder?e.encoder:OI.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:OI.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:OI.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:OI.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:OI.strictNullHandling}}(t);"function"==typeof i.filter?r=(0,i.filter)("",r):TI(i.filter)&&(n=i.filter);var s,a=[];if("object"!=typeof r||null===r)return"";s=t&&t.arrayFormat in EI?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var o=EI[s];n||(n=Object.keys(r)),i.sort&&n.sort(i.sort);for(var c=0;c<n.length;++c){var l=n[c];i.skipNulls&&null===r[l]||_I(a,II(r[l],l,o,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset))}var u=a.join(i.delimiter),h=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),u.length>0?h+u:""}});function FI(e){return(FI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jI(e,t,n){return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BI(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $I(e,t,n){return(t=BI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BI(e){var t=function(e,t){if("object"!=FI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=FI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==FI(t)?t:String(t)}var UI=function(e){e&&(window.document.title=e)},HI=function(){function e(t){var n=this,r=t.windowTitle,i=t.writeDelay,s=void 0===i?400:i,a=t.createURL,o=t.parseURL,c=t.getLocation,l=t.start,u=t.dispose,h=t.push,d=t.cleanUrlOnDispose;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$I(this,"$$type","ais.browser"),$I(this,"windowTitle",void 0),$I(this,"writeDelay",void 0),$I(this,"_createURL",void 0),$I(this,"parseURL",void 0),$I(this,"getLocation",void 0),$I(this,"writeTimer",void 0),$I(this,"_onPopState",void 0),$I(this,"inPopState",!1),$I(this,"isDisposed",!1),$I(this,"latestAcknowledgedHistory",0),$I(this,"_start",void 0),$I(this,"_dispose",void 0),$I(this,"_push",void 0),$I(this,"_cleanUrlOnDispose",void 0),this.windowTitle=r,this.writeTimer=void 0,this.writeDelay=s,this._createURL=a,this.parseURL=o,this.getLocation=c,this._start=l,this._dispose=u,this._push=h,this._cleanUrlOnDispose=void 0===d||d,eT((function(e){var t=e.window,r=n.windowTitle&&n.windowTitle(n.read());UI(r),n.latestAcknowledgedHistory=t.history.length}))}return jI(e,[{key:"read",value:function(){return this.parseURL({qsModule:MI,location:this.getLocation()})}},{key:"write",value:function(e){var t=this;eT((function(n){var r=n.window,i=t.createURL(e),s=t.windowTitle&&t.windowTitle(e);t.writeTimer&&clearTimeout(t.writeTimer),t.writeTimer=setTimeout((function(){UI(s),t.shouldWrite(i)&&(t._push?t._push(i):r.history.pushState(e,s||"",i),t.latestAcknowledgedHistory=r.history.length),t.inPopState=!1,t.writeTimer=void 0}),t.writeDelay)}))}},{key:"onUpdate",value:function(e){var t=this;this._start&&this._start((function(){e(t.read())})),this._onPopState=function(){t.writeTimer&&(clearTimeout(t.writeTimer),t.writeTimer=void 0),t.inPopState=!0,e(t.read())},eT((function(e){e.window.addEventListener("popstate",t._onPopState)}))}},{key:"createURL",value:function(e){return this._createURL({qsModule:MI,routeState:e,location:this.getLocation()})}},{key:"dispose",value:function(){var e=this;this._dispose&&this._dispose(),this.isDisposed=!0,eT((function(t){var n=t.window;e._onPopState&&n.removeEventListener("popstate",e._onPopState)})),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(e){var t=this;return eT((function(n){var r=n.window;if(t.isDisposed&&!t._cleanUrlOnDispose)return!1;var i=!(t.isDisposed&&t.latestAcknowledgedHistory!==r.history.length);return!t.inPopState&&i&&e!==r.location.href}))}}]),e}();function qI(e){return(qI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var GI=["configure"];function WI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WI(Object(n),!0).forEach((function(t){VI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VI(e,t,n){var r;return r=function(e,t){if("object"!=qI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==qI(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zI(e){return e.configure,YI(e,GI)}function KI(e){return(KI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XI(Object(n),!0).forEach((function(t){ZI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ZI(e,t,n){var r;return r=function(e,t){if("object"!=KI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==KI(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eR=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.router,n=void 0===t?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createURL,n=void 0===t?function(e){var t=e.qsModule,n=e.routeState,r=e.location,i=r.protocol,s=r.hostname,a=r.port,o=void 0===a?"":a,c=r.pathname,l=r.hash,u=t.stringify(n),h=""===o?"":":".concat(o);return u?"".concat(i,"//").concat(s).concat(h).concat(c,"?").concat(u).concat(l):"".concat(i,"//").concat(s).concat(h).concat(c).concat(l)}:t,r=e.parseURL,i=void 0===r?function(e){var t=e.qsModule,n=e.location;return t.parse(n.search.slice(1),{arrayLimit:99})}:r,s=e.writeDelay,a=void 0===s?400:s,o=e.windowTitle,c=e.getLocation,l=void 0===c?function(){return eT((function(e){return e.window.location}),{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:c,u=e.start,h=e.dispose,d=e.push,f=e.cleanUrlOnDispose;return new HI({createURL:n,parseURL:i,writeDelay:a,windowTitle:o,getLocation:l,start:u,dispose:h,push:d,cleanUrlOnDispose:f})}():t,r=e.stateMapping,i=void 0===r?{$$type:"ais.simple",stateToRoute:function(e){return Object.keys(e).reduce((function(t,n){return QI(QI({},t),{},VI({},n,zI(e[n])))}),{})},routeToState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){return QI(QI({},t),{},VI({},n,zI(e[n])))}),{})}}:r,s=e.$$internal,a=void 0!==s&&s;return function(e){var t=e.instantSearchInstance;t._createURL=function(e){var r=0===t.mainIndex.getWidgets().length?t._initialUiState:t.mainIndex.getWidgetUiState({}),s=Object.keys(e).reduce((function(t,n){return JI(JI({},t),{},ZI({},n,e[n]))}),r),a=i.stateToRoute(s);return n.createURL(a)};var r=void 0,s=t._initialUiState;return{$$type:"ais.router({router:".concat(n.$$type||"__unknown__",", stateMapping:").concat(i.$$type||"__unknown__","})"),$$internal:a,onStateChange:function(e){var t=e.uiState,s=i.stateToRoute(t);void 0!==r&&NE(r,s)||(n.write(s),r=s)},subscribe:function(){t._initialUiState=JI(JI({},s),i.routeToState(n.read())),n.onUpdate((function(e){t.mainIndex.getWidgets().length>0&&t.setUiState(i.routeToState(e))}))},started:function(){var e;null===(e=n.start)||void 0===e||e.call(n)},unsubscribe:function(){n.dispose()}}}};function tR(e){return(tR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nR(Object(n),!0).forEach((function(t){iR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iR(e,t,n){var r;return r=function(e,t){if("object"!=tR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==tR(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sR(e){var t=e.numberLocale;return{formatNumber:function(e,n){return function(e,t){return e.toLocaleString(t)}(Number(n(e)),t)},highlight:function(e,t){try{return t(DO(rR(rR({},JSON.parse(e)),{},{hit:this})))}catch(n){throw new Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseHighlight:function(e,t){try{return t(MO(rR(rR({},JSON.parse(e)),{},{hit:this})))}catch(n){throw new Error('\n  The reverseHighlight helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},snippet:function(e,t){try{return t(jO(rR(rR({},JSON.parse(e)),{},{hit:this})))}catch(n){throw new Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseSnippet:function(e,t){try{return t(BO(rR(rR({},JSON.parse(e)),{},{hit:this})))}catch(n){throw new Error('\n  The reverseSnippet helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},insights:function(e,t){try{var n=JSON.parse(e),r=n.method,i=n.payload;return t(zA(r,rR({objectIDs:[this.objectID]},i)))}catch(s){throw new Error('\nThe insights helper expects a JSON object of the format:\n{ "method": "method-name", "payload": { "eventName": "name of the event" } }')}}}}const aR="4.77.0";function oR(e){return(oR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cR(Object(n),!0).forEach((function(t){mR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uR(e,t,n){return function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gR(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hR(e,t){return(hR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function dR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(YR){return!1}}();return function(){var n,r=pR(e);if(t){var i=pR(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===oR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fR(e)}(this,n)}}function fR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pR(e){return(pR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mR(e,t,n){return(t=gR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gR(e){var t=function(e,t){if("object"!=oR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oR(t)?t:String(t)}var yR=tE({name:"instantsearch"});function vR(){return"#"}var bR={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},ER=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hR(e,t)}(t,oT);var e=dR(t);function t(n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),mR(fR(r=e.call(this)),"client",void 0),mR(fR(r),"indexName",void 0),mR(fR(r),"compositionID",void 0),mR(fR(r),"insightsClient",void 0),mR(fR(r),"onStateChange",null),mR(fR(r),"future",void 0),mR(fR(r),"helper",void 0),mR(fR(r),"mainHelper",void 0),mR(fR(r),"mainIndex",void 0),mR(fR(r),"started",void 0),mR(fR(r),"templatesConfig",void 0),mR(fR(r),"renderState",{}),mR(fR(r),"_stalledSearchDelay",void 0),mR(fR(r),"_searchStalledTimer",void 0),mR(fR(r),"_initialUiState",void 0),mR(fR(r),"_initialResults",void 0),mR(fR(r),"_createURL",void 0),mR(fR(r),"_searchFunction",void 0),mR(fR(r),"_mainHelperSearch",void 0),mR(fR(r),"_hasSearchWidget",!1),mR(fR(r),"_hasRecommendWidget",!1),mR(fR(r),"_insights",void 0),mR(fR(r),"middleware",[]),mR(fR(r),"sendEventToInsights",void 0),mR(fR(r),"status","idle"),mR(fR(r),"error",void 0),mR(fR(r),"scheduleSearch",eE((function(){r.started&&r.mainHelper.search()}))),mR(fR(r),"scheduleRender",eE((function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null!==(e=r.mainHelper)&&void 0!==e&&e.hasPendingRequests()||(clearTimeout(r._searchStalledTimer),r._searchStalledTimer=null,t&&(r.status="idle",r.error=void 0)),r.mainIndex.render({instantSearchInstance:fR(r)}),r.emit("render")}))),mR(fR(r),"onInternalStateChange",eE((function(){var e=r.mainIndex.getWidgetUiState({});r.middleware.forEach((function(t){t.instance.onStateChange({uiState:e})}))}))),r.setMaxListeners(100);var i=n.indexName,s=void 0===i?"":i,a=n.compositionID,o=n.numberLocale,c=n.initialUiState,l=void 0===c?{}:c,u=n.routing,h=void 0===u?null:u,d=n.insights,f=void 0===d?void 0:d,p=n.searchFunction,m=n.stalledSearchDelay,g=void 0===m?200:m,y=n.searchClient,v=void 0===y?null:y,b=n.insightsClient,E=void 0===b?null:b,T=n.onStateChange,S=void 0===T?null:T,A=n.future,_=void 0===A?lR(lR({},bR),n.future||{}):A;if(null===v)throw new Error(yR("The `searchClient` option is required."));if("function"!=typeof v.search)throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof v.addAlgoliaAgent&&v.addAlgoliaAgent("instantsearch.js (".concat(aR,")")),E&&"function"!=typeof E)throw new Error(yR("The `insightsClient` option should be a function."));if(r.client=v,r.future=_,r.insightsClient=E,r.indexName=s,r.compositionID=a,r.helper=null,r.mainHelper=null,r.mainIndex=RO({indexName:r.compositionID||r.indexName}),r.onStateChange=S,r.started=!1,r.templatesConfig={helpers:sR({numberLocale:o}),compileOptions:{}},r._stalledSearchDelay=g,r._searchStalledTimer=null,r._createURL=vR,r._initialUiState=l,r._initialResults=null,r._insights=f,p&&(r._searchFunction=p),r.sendEventToInsights=lb,h){var k="boolean"==typeof h?{}:h;k.$$internal=!0,r.use(eR(k))}if(f){var w="boolean"==typeof f?{}:f;w.$$internal=!0,r.use(nI(w))}return eT((function(e){var t,n;return(null===(t=e.window.navigator)||void 0===t||null===(n=t.userAgent)||void 0===n?void 0:n.indexOf("Algolia Crawler"))>-1}),{fallback:function(){return!1}})&&r.use(aI({$$internal:!0})),r}return uR(t,[{key:"_isSearchStalled",get:function(){return"stalled"===this.status}},{key:"use",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.map((function(t){var n=lR({$$type:"__unknown__",$$internal:!1,subscribe:lb,started:lb,unsubscribe:lb,onStateChange:lb},t({instantSearchInstance:e}));return e.middleware.push({creator:t,instance:n}),n}));return this.started&&i.forEach((function(e){e.subscribe(),e.started()})),this}},{key:"unuse",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.middleware.filter((function(e){return t.includes(e.creator)})).forEach((function(e){return e.instance.unsubscribe()})),this.middleware=this.middleware.filter((function(e){return!t.includes(e.creator)})),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(e){return this.addWidgets([e])}},{key:"addWidgets",value:function(e){if(!Array.isArray(e))throw new Error(yR("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(e.some((function(e){return"function"!=typeof e.init&&"function"!=typeof e.render})))throw new Error(yR("The widget definition expects a `render` and/or an `init` method."));if(this.compositionID&&e.some(Xb))throw new Error(yR("The `index` widget cannot be used with a composition-based InstantSearch implementation."));return this.mainIndex.addWidgets(e),this}},{key:"removeWidget",value:function(e){return this.removeWidgets([e])}},{key:"removeWidgets",value:function(e){if(!Array.isArray(e))throw new Error(yR("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(e.some((function(e){return"function"!=typeof e.dispose})))throw new Error(yR("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(e),this}},{key:"start",value:function(){var e=this;if(this.started)throw new Error(yR("The `start` method has already been called once."));var t,n,r,i=this.mainHelper||HS(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(this.compositionID&&(i.searchForFacetValues=i.searchForCompositionFacetValues.bind(i)),i.search=function(){return e.status="loading",e.scheduleRender(!1),e._hasSearchWidget&&(e.compositionID?i.searchWithComposition():i.searchOnlyWithDerivedHelpers()),e._hasRecommendWidget&&i.recommend(),i},this._searchFunction){var s={search:function(){return new Promise(lb)}};this._mainHelperSearch=i.search.bind(i),i.search=function(){var t=e.mainIndex.getHelper(),n=HS(s,t.state.index,t.state);return n.once("search",(function(n){var r=n.state;t.overrideStateWithoutTriggeringChangeEvent(r),e._mainHelperSearch()})),n.on("change",(function(e){var n=e.state;t.setState(n)})),e._searchFunction(n),i}}if(i.on("error",(function(t){var n=t.error;if(!(n instanceof Error)){var r=n;n=Object.keys(r).reduce((function(e,t){return e[t]=r[t],e}),new Error(r.message))}n.error=n,e.error=n,e.status="error",e.scheduleRender(!1),e.emit("error",n)})),this.mainHelper=i,this.middleware.forEach((function(e){e.instance.subscribe()})),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){!function(e,t){if(t&&("transporter"in e&&!e._cacheHydrated||e._useCache&&"function"==typeof e.addAlgoliaAgent)){var n=[Object.keys(t).reduce((function(e,n){var r=t[n],i=r.state,s=r.requestParams,a=r.results,o=a&&i?a.map((function(e,t){return IE({indexName:i.index||e.index},null!=s&&s[t]||e.params?{params:CE((null==s?void 0:s[t])||(n=e.params,n.split("&").reduce((function(e,t){var n=kE(t.split("="),2),r=n[0],i=n[1];return e[r]=i?decodeURIComponent(i):"",e}),{})))}:{});var n})):[];return e.concat(o)}),[])],r=Object.keys(t).reduce((function(e,n){var r=t[n].results;return r?e.concat(r):e}),[]);if("transporter"in e&&!e._cacheHydrated){e._cacheHydrated=!0;var i=e.search.bind(e);e.search=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];var a=Array.isArray(t)?t.map((function(e){return IE(IE({},e),{},{params:CE(e.params)})})):CE(t.requestBody.params);return e.transporter.responsesCache.get({method:"search",args:[a].concat(r)},(function(){return i.apply(void 0,[t].concat(r))}))},e.transporter.responsesCache.set({method:"search",args:n},{results:r})}if(!("transporter"in e)){var s="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:n}));e.cache=IE(IE({},e.cache),{},RE({},s,JSON.stringify({results:Object.keys(t).map((function(e){return t[e].results}))})))}}}(this.client,this._initialResults),t=this.mainHelper,n=this._initialResults,r=Object.keys(n).reduce((function(e,t){var r=n[t];return r.recommendResults?SE(SE({},e),r.recommendResults.results):e}),{}),t._recommendCache=r;var a=this.scheduleSearch;this.scheduleSearch=eE(lb),eE((function(){e.scheduleSearch=a}))()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach((function(e){e.instance.started()})),void 0===this._insights&&i.derivedHelpers[0].once("result",(function(){e.mainIndex.getScopedResults().some((function(e){var t=e.results;return null==t?void 0:t._automaticInsights}))&&e.use(nI({$$internal:!0,$$automatic:!0}))}))}},{key:"dispose",value:function(){var e;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),null===(e=this.mainHelper)||void 0===e||e.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach((function(e){e.instance.unsubscribe()}))}},{key:"scheduleStalledRender",value:function(){var e=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout((function(){e.status="stalled",e.scheduleRender()}),this._stalledSearchDelay))}},{key:"setUiState",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.mainHelper)throw new Error(yR("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var r="function"==typeof e?e(this.mainIndex.getWidgetUiState({})):e;this.onStateChange&&n?this.onStateChange({uiState:r,setUiState:function(e){Jb("function"==typeof e?e(r):e,t.mainIndex),t.scheduleSearch(),t.onInternalStateChange()}}):(Jb(r,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.started)throw new Error(yR("The `start` method needs to be called before `createURL`."));return this._createURL(e)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(yR("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),t}(),TR=function(e){return new ER(e)};TR.version=aR,TR.createInfiniteHitsSessionStorageCache=ub((function(){var e=["ais.infiniteHits",(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).key].filter(Boolean).join(":");return{read:function(t){var n=t.state,r=eT((function(e){return e.window.sessionStorage}));if(!r)return null;try{var i=JSON.parse(r.getItem(e));return i&&NE(i.state,WO(n))?i.hits:null}catch(s){if(s instanceof SyntaxError)try{r.removeItem(e)}catch(a){}return null}},write:function(t){var n=t.state,r=t.hits,i=eT((function(e){return e.window.sessionStorage}));if(i)try{i.setItem(e,JSON.stringify({state:WO(n),hits:r}))}catch(s){}}}})),TR.highlight=ub(DO),TR.reverseHighlight=ub(MO),TR.snippet=ub(jO),TR.reverseSnippet=ub(BO),TR.insights=zA,TR.getInsightsAnonymousUserToken=function(){return HO()},Object.defineProperty(TR,"widgets",{get:function(){throw new ReferenceError("\"instantsearch.widgets\" are not available from the ES build.\n\nTo import the widgets:\n\nimport { searchBox } from 'instantsearch.js/es/widgets'")}}),Object.defineProperty(TR,"connectors",{get:function(){throw new ReferenceError("\"instantsearch.connectors\" are not available from the ES build.\n\nTo import the connectors:\n\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'")}}),Object.defineProperty(TR,"templates",{get:function(){throw new ReferenceError("\"instantsearch.templates\" are not available from the ES build.\n\nTo import the templates:\n\nimport { carousel } from 'instantsearch.js/es/templates'")}});var SR=function(e){var t;return eb(((t={mixins:[Zv({name:"InstantSearch"})],provide:function(){return{$_ais_instantSearchInstance:this.instantSearchInstance}},watch:{searchClient:function(e){ab(!1),this.instantSearchInstance.helper.setClient(e).search()},indexName:function(e){this.instantSearchInstance.helper.setIndex(e||"").search()},compositionID:function(e){this.instantSearchInstance.helper.setIndex(e||"").search()},stalledSearchDelay:function(e){this.instantSearchInstance._stalledSearchDelay=e},routing:function(){throw new Error("routing configuration can not be changed dynamically at this point.\n\nPlease open a new issue: https://github.com/algolia/instantsearch/discussions/new?category=ideas&labels=triage%2cLibrary%3A+Vue+InstantSearch&title=Feature%20request%3A%20dynamic%20props")},onStateChange:function(){throw new Error("onStateChange configuration can not be changed dynamically at this point.\n\nPlease open a new issue: https://github.com/algolia/instantsearch/discussions/new?category=ideas&labels=triage%2cLibrary%3A+Vue+InstantSearch&title=Feature%20request%3A%20dynamic%20props")},searchFunction:function(e){this.instantSearchInstance._searchFunction=e},middlewares:{immediate:!0,handler:function(e,t){var n=this;(t||[]).filter((function(t){return-1===(e||[]).indexOf(t)})).forEach((function(e){n.instantSearchInstance.unuse(e)})),(e||[]).filter((function(e){return-1===(t||[]).indexOf(e)})).forEach((function(e){n.instantSearchInstance.use(e)}))}},future:function(e){this.instantSearchInstance.future=Object.assign(bR,e)}},created:function(){var e=this.instantSearchInstance.client;"function"==typeof e.addAlgoliaAgent&&(e.addAlgoliaAgent("Vue ("+te+")"),e.addAlgoliaAgent("Vue InstantSearch (4.20.1)"))},mounted:function(){var e=this;this.$nextTick((function(){e.instantSearchInstance.started||e.instantSearchInstance.start()}))}}).beforeUnmount=function(){this.instantSearchInstance.started&&this.instantSearchInstance.dispose(),this.instantSearchInstance.__initialSearchResults=void 0},t),e)},AR="Vue InstantSearch: You used the prop api-key or app-id.\nThese have been replaced by search-client.\n\nSee more info here: https://www.algolia.com/doc/api-reference/widgets/instantsearch/vue/#widget-param-search-client";const _R=SR({name:"AisInstantSearch",props:{searchClient:{type:Object,required:!0},insightsClient:{type:Function,default:void 0},indexName:{type:String,required:!1},compositionID:{type:String,required:!1},routing:{default:void 0,validator:function(e){return!("boolean"==typeof e||!e.router&&!e.stateMapping)||(ab("The `routing` option expects an object with `router` and/or `stateMapping`.\n\nSee https://www.algolia.com/doc/api-reference/widgets/instantsearch/vue/#widget-param-routing"),!1)}},insights:{default:void 0,validator:function(e){return void 0===e||"boolean"==typeof e||"object"==typeof e}},stalledSearchDelay:{type:Number,default:void 0},searchFunction:{type:Function,default:void 0},onStateChange:{type:Function,default:void 0},initialUiState:{type:Object,default:void 0},apiKey:{type:String,default:void 0,validator:function(e){return e&&ab(AR),!1}},appId:{type:String,default:void 0,validator:function(e){return e&&ab(AR),!1}},middlewares:{type:Array,default:null},future:{type:Object,default:void 0}},data:function(){return{instantSearchInstance:TR({searchClient:this.searchClient,insightsClient:this.insightsClient,insights:this.insights,indexName:this.indexName,compositionID:this.compositionID,routing:this.routing,stalledSearchDelay:this.stalledSearchDelay,searchFunction:this.searchFunction,onStateChange:this.onStateChange,initialUiState:this.initialUiState,future:this.future})}},render:nb((function(e){var t;return e("div",{class:(t={},t[this.suit()]=!0,t[this.suit("","ssr")]=!1,t)},rb(this))}))}),kR=SR({name:"AisInstantSearchSsr",inject:{$_ais_ssrInstantSearchInstance:{default:function(){throw new Error("`createServerRootMixin` is required when using SSR.")}}},data:function(){return{instantSearchInstance:this.$_ais_ssrInstantSearchInstance}},render:nb((function(e){var t;return e("div",{class:(t={},t[this.suit()]=!0,t[this.suit("","ssr")]=!0,t)},rb(this))}))}),wR={name:"AisInfiniteHits",mixins:[ob({connector:g_},{$$widgetType:"ais.infiniteHits"}),Zv({name:"InfiniteHits"})],props:{showBanner:{type:Boolean,default:!0},showPrevious:{type:Boolean,default:!1},escapeHTML:{type:Boolean,default:!0},transformItems:{type:Function,default:void 0},cache:{type:Object,default:void 0}},computed:{widgetParams:function(){return{showBanner:this.showBanner,showPrevious:this.showPrevious,escapeHTML:this.escapeHTML,transformItems:this.transformItems,cache:this.cache}}},methods:{refinePrevious:function(){this.state.showPrevious()},refineNext:function(){this.state.showMore()}}};var OR=["disabled"],IR=["href","target"],RR=["src","alt"],CR=["src","alt"],PR=["onClick","onAuxclick"],NR=["disabled"];wR.render=function(e,t,n,r,i,s){return e.state?(a(),o("div",{key:0,class:D(e.suit())},[n.showPrevious?u(e.$slots,"loadPrevious",{key:0,refinePrevious:s.refinePrevious,page:e.state.results.page,isFirstPage:e.state.isFirstPage},(function(){return[h("button",{class:D([e.suit("loadPrevious"),e.state.isFirstPage&&e.suit("loadPrevious","disabled")]),disabled:e.state.isFirstPage,onClick:t[0]||(t[0]=function(e){return s.refinePrevious()})}," Show previous results ",10,OR)]})):d("",!0),u(e.$slots,"default",{items:e.state.items,results:e.state.results,banner:e.state.banner,isLastPage:e.state.isLastPage,refinePrevious:s.refinePrevious,refineNext:s.refineNext,refine:s.refineNext,insights:e.state.insights,sendEvent:e.state.sendEvent},(function(){return[n.showBanner&&e.state.banner&&e.state.banner.image.urls[0].url?u(e.$slots,"banner",{key:0,banner:e.state.banner},(function(){return[h("aside",{class:D(e.suit("banner"))},[e.state.banner.link?(a(),o("a",{key:0,href:e.state.banner.link.url,target:e.state.banner.link.target,class:D(e.suit("banner-link"))},[h("img",{src:e.state.banner.image.urls[0].url,alt:e.state.banner.image.title,class:D(e.suit("banner-image"))},null,10,RR)],10,IR)):(a(),o("img",{key:1,src:e.state.banner.image.urls[0].url,alt:e.state.banner.image.title,class:D(e.suit("banner-image"))},null,10,CR))],2)]})):d("",!0),h("ol",{class:D(e.suit("list"))},[(a(!0),o(f,null,F(e.state.items,(function(t,n){return a(),o("li",{class:D(e.suit("item")),key:t.objectID,onClick:function(n){return e.state.sendEvent("click:internal",t,"Hit Clicked")},onAuxclick:function(n){return e.state.sendEvent("click:internal",t,"Hit Clicked")}},[u(e.$slots,"item",{item:t,index:n,insights:e.state.insights,sendEvent:e.state.sendEvent},(function(){return[L(" objectID: "+C(t.objectID)+", index: "+C(n),1)]}))],42,PR)})),128))],2),u(e.$slots,"loadMore",{refineNext:s.refineNext,refine:s.refineNext,page:e.state.results.page,isLastPage:e.state.isLastPage},(function(){return[h("button",{class:D([e.suit("loadMore"),e.state.isLastPage&&e.suit("loadMore","disabled")]),disabled:e.state.isLastPage,onClick:t[1]||(t[1]=function(e){return s.refineNext()})}," Show more results ",10,NR)]}))]}))],2)):d("",!0)};const xR={name:"AisMenu",mixins:[Zv({name:"Menu"}),ob({connector:O_},{$$widgetType:"ais.menu"}),Dw()],props:{attribute:{type:String,required:!0},limit:{type:Number,default:void 0},showMoreLimit:{type:Number,default:void 0},showMore:{type:Boolean,default:!1},sortBy:{type:[Array,Function],default:void 0},transformItems:{type:Function,default:void 0}},computed:{widgetParams:function(){return{attribute:this.attribute,limit:this.limit,showMore:this.showMore,showMoreLimit:this.showMoreLimit,sortBy:this.sortBy,transformItems:this.transformItems}},showShowMoreButton:function(){return this.state.canRefine&&this.showMore}}};var DR=["href","onClick"],LR=["disabled"];xR.render=function(e,t,n,r,i,s){return e.state?(a(),o("div",{key:0,class:D([e.suit(),!e.state.canRefine&&e.suit("","noRefinement")])},[u(e.$slots,"default",{items:e.state.items,canRefine:e.state.canRefine,canToggleShowMore:e.state.canToggleShowMore,isShowingMore:e.state.isShowingMore,refine:e.state.refine,createURL:e.state.createURL,toggleShowMore:e.state.toggleShowMore,sendEvent:e.state.sendEvent},(function(){return[h("ul",{class:D(e.suit("list"))},[(a(!0),o(f,null,F(e.state.items,(function(t){return a(),o("li",{key:t.value,class:D([e.suit("item"),t.isRefined&&e.suit("item","selected")])},[h("a",{href:e.state.createURL(t.value),class:D(e.suit("link")),onClick:G((function(n){return e.state.refine(t.value)}),["exact","left","prevent"])},[h("span",{class:D(e.suit("label"))},C(t.label),3),h("span",{class:D(e.suit("count"))},C(t.count),3)],10,DR)],2)})),128))],2),s.showShowMoreButton?(a(),o("button",{key:0,class:D([e.suit("showMore"),!e.state.canToggleShowMore&&e.suit("showMore","disabled")]),disabled:!e.state.canToggleShowMore,onClick:t[0]||(t[0]=G((function(){for(var t,n=[],r=arguments.length;r--;)n[r]=arguments[r];return e.state.toggleShowMore&&(t=e.state).toggleShowMore.apply(t,n)}),["prevent"]))},[u(e.$slots,"showMoreLabel",{isShowingMore:e.state.isShowingMore},(function(){return[L(C(e.state.isShowingMore?"Show less":"Show more"),1)]}))],10,LR)):d("",!0)]}))],2)):d("",!0)};const MR={name:"AisMenuSelect",mixins:[Zv({name:"MenuSelect"}),ob({connector:O_},{$$widgetType:"ais.menuSelect"}),Dw()],props:{attribute:{type:String,required:!0},limit:{type:Number,default:10},sortBy:{type:[Array,Function],default:void 0},transformItems:{type:Function,default:function(e){return e}}},computed:{widgetParams:function(){return{attribute:this.attribute,limit:this.limit,sortBy:this.sortBy,transformItems:this.transformItems}}},methods:{refine:function(e){this.state.refine(e)}}};var FR=["value","selected"];MR.render=function(e,t,n,r,i,s){return e.state?(a(),o("div",{key:0,class:D([e.suit(),!e.state.canRefine&&e.suit("","noRefinement")])},[u(e.$slots,"default",{items:e.state.items,canRefine:e.state.canRefine,refine:s.refine,createURL:e.state.createURL,sendEvent:e.state.sendEvent},(function(){return[h("select",{class:D(e.suit("select")),onChange:t[0]||(t[0]=function(e){return s.refine(e.currentTarget.value)})},[h("option",{class:D(e.suit("option")),value:""},[u(e.$slots,"defaultOption",{},(function(){return[L(" See all ")]}))],2),(a(!0),o(f,null,F(e.state.items,(function(t){return a(),o("option",{key:t.value,class:D(e.suit("option")),value:t.value,selected:t.isRefined},[u(e.$slots,"item",{item:t},(function(){return[L(C(t.label)+" ("+C(t.count)+") ",1)]}))],10,FR)})),128))],34)]}))],2)):d("",!0)};const jR={name:"AisNumericMenu",mixins:[ob({connector:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;return hb(e,L_()),function(n){var r=n||{},i=r.attribute,s=void 0===i?"":i,a=r.items,o=void 0===a?[]:a,c=r.transformItems,l=void 0===c?function(e){return e}:c;if(""===s)throw new Error(L_("The `attribute` option is required."));if(!o||0===o.length)throw new Error(L_("The `items` option expects an array of objects."));var u={};return{$$type:"ais.numericMenu",init:function(t){var n=t.instantSearchInstance;e(x_(x_({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(x_(x_({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.removeNumericRefinement(s)},getWidgetUiState:function(e,t){var n=t.searchParameters.getNumericRefinements(s),r=n["="]&&n["="][0];if(r||0===r)return x_(x_({},e),{},{numericMenu:x_(x_({},e.numericMenu),{},D_({},s,"".concat(n["="])))});var i=n[">="]&&n[">="][0]||"",a=n["<="]&&n["<="][0]||"";return function(e,t){if(!e.numericMenu)return e;":"===e.numericMenu[t]&&delete e.numericMenu[t];0===Object.keys(e.numericMenu).length&&delete e.numericMenu;return e}(x_(x_({},e),{},{numericMenu:x_(x_({},e.numericMenu),{},D_({},s,"".concat(i,":").concat(a)))}),s)},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=n.numericMenu&&n.numericMenu[s],i=e.setQueryParameters({numericRefinements:x_(x_({},e.numericRefinements),{},D_({},s,{}))});if(!r)return i;if(-1===r.indexOf(":"))return i.addNumericRefinement(s,"=",Number(r));var a=R_(r.split(":").map(parseFloat),2),o=a[0],c=a[1],l=xE(o)?i.addNumericRefinement(s,">=",o):i;return xE(c)?l.addNumericRefinement(s,"<=",c):l},getRenderState:function(e,t){return x_(x_({},e),{},{numericMenu:x_(x_({},e.numericMenu),{},D_({},s,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=this,r=e.results,i=e.state,a=e.instantSearchInstance,c=e.helper,h=e.createURL;u.refine||(u.refine=function(e){var t=F_(c.state,s,e);u.sendEvent("click:internal",e),c.setState(t).search()}),u.createURL||(u.createURL=function(e){return function(n){return h((function(r){return t.getWidgetUiState(r,{searchParameters:F_(e,s,n),helper:c})}))}}),u.sendEvent||(u.sendEvent=function(e){var t=e.instantSearchInstance;return function(){1!==arguments.length||t.sendEventToInsights(arguments.length<=0?void 0:arguments[0])}}({instantSearchInstance:a}));var d,f=!r||0===r.nbHits,p=function(e){return o.map((function(t){var n=t.start,r=t.end,i=t.label;return{label:i,value:encodeURI(JSON.stringify({start:n,end:r})),isRefined:M_(e,s,{start:n,end:r,label:i})}}))}(i),m=!0,g=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=C_(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}(p);try{for(g.s();!(d=g.n()).done;){var y=d.value;if(y.isRefined&&"{}"!==decodeURI(y.value)){m=!1;break}}}catch(v){g.e(v)}finally{g.f()}return{createURL:u.createURL(i),items:l(p,{results:r}),hasNoResults:f,canRefine:!(f&&m),refine:u.refine,sendEvent:u.sendEvent,widgetParams:n}}}}}},{$$widgetType:"ais.numericMenu"}),Zv({name:"NumericMenu"}),Dw()],props:{attribute:{type:String,required:!0},items:{type:Array,required:!0},transformItems:{type:Function,default:void 0}},computed:{widgetParams:function(){return{attribute:this.attribute,transformItems:this.transformItems,items:this.items}}}};var $R=["name","value","checked"];jR.render=function(e,t,n,r,i,s){return e.state?(a(),o("div",{key:0,class:D([e.suit(),!e.state.canRefine&&e.suit("","noRefinement")])},[u(e.$slots,"default",{items:e.state.items,canRefine:e.state.canRefine,refine:e.state.refine,createURL:e.state.createURL,sendEvent:e.state.sendEvent},(function(){return[h("ul",{class:D([e.suit("list")])},[(a(!0),o(f,null,F(e.state.items,(function(r){return a(),o("li",{key:r.label,class:D([e.suit("item"),r.isRefined&&e.suit("item","selected")])},[h("label",{class:D(e.suit("label"))},[h("input",{type:"radio",class:D(e.suit("radio")),name:n.attribute,value:r.value,checked:r.isRefined,onChange:t[0]||(t[0]=function(t){return e.state.refine(t.target.value)})},null,42,$R),h("span",{class:D(e.suit("labelText"))},C(r.label),3)],2)],2)})),128))],2)]}))],2)):d("",!0)};const BR={name:"AisPagination",mixins:[Zv({name:"Pagination"}),ob({connector:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;return hb(e,Y_()),function(n){var r=n||{},i=r.totalPages,s=r.padding,a=new q_({currentPage:0,total:0,padding:void 0===s?3:s}),o={};return{$$type:"ais.pagination",init:function(t){var n=t.instantSearchInstance;e(Q_(Q_({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(Q_(Q_({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.setQueryParameter("page",void 0)},getWidgetUiState:function(e,t){var n=t.searchParameters.page||0;return n?Q_(Q_({},e),{},{page:n+1}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=n.page?n.page-1:0;return e.setQueryParameter("page",r)},getWidgetRenderState:function(e){var t=e.results,r=e.helper,s=e.state,c=e.createURL;o.refine||(o.refine=function(e){r.setPage(e),r.search()}),o.createURL||(o.createURL=function(e){return c((function(t){return Q_(Q_({},t),{},{page:e+1})}))});var l=s.page||0,u=function(e){var t=e.nbPages;return void 0!==i?Math.min(i,t):t}(t||{nbPages:0});return a.currentPage=l,a.total=u,{createURL:o.createURL,refine:o.refine,canRefine:u>1,currentRefinement:l,nbHits:(null==t?void 0:t.nbHits)||0,nbPages:u,pages:t?a.pages():[],isFirstPage:a.isFirstPage(),isLastPage:a.isLastPage(),widgetParams:n}},getRenderState:function(e,t){return Q_(Q_({},e),{},{pagination:this.getWidgetRenderState(t)})}}}}},{$$widgetType:"ais.pagination"}),Dw()],props:{padding:{type:Number,default:void 0,validator:function(e){return e>0}},totalPages:{type:Number,default:void 0,validator:function(e){return e>0}},showFirst:{type:Boolean,default:!0},showLast:{type:Boolean,default:!0},showNext:{type:Boolean,default:!0},showPrevious:{type:Boolean,default:!0}},computed:{widgetParams:function(){return{padding:this.padding,totalPages:this.totalPages}}},emits:["page-change"],methods:{refine:function(e){var t=Math.min(Math.max(e,0),this.state.nbPages-1);this.state.refine(t),this.$emit("page-change",t)}}};var UR=["href"],HR=["href"],qR=["href","aria-label","onClick"],GR=["href"],WR=["aria-label","href"],QR=["aria-label"];BR.render=function(e,t,n,r,i,s){var c;return e.state?(a(),o("div",{key:0,class:D((c={},c[e.suit()]=!0,c[e.suit("","noRefinement")]=e.state.nbPages<=1,c))},[u(e.$slots,"default",{refine:s.refine,createURL:e.state.createURL,currentRefinement:e.state.currentRefinement,nbHits:e.state.nbHits,nbPages:e.state.nbPages,pages:e.state.pages,isFirstPage:e.state.isFirstPage,isLastPage:e.state.isLastPage},(function(){var r,i,c,l;return[h("ul",{class:D(e.suit("list"))},[n.showFirst?(a(),o("li",{key:0,class:D((r={},r[e.suit("item")]=!0,r[e.suit("item","disabled")]=e.state.isFirstPage,r[e.suit("item","firstPage")]=!0,r))},[u(e.$slots,"first",{createURL:function(){return e.state.createURL(0)},isFirstPage:e.state.isFirstPage,refine:function(){return s.refine(0)}},(function(){return[e.state.isFirstPage?(a(),o("span",{key:1,class:D(e.suit("link")),"aria-label":"First Page"},"â€¹â€¹",2)):(a(),o("a",{key:0,class:D(e.suit("link")),"aria-label":"First Page",href:e.state.createURL(0),onClick:t[0]||(t[0]=G((function(e){return s.refine(0)}),["exact","left","prevent"]))},"â€¹â€¹",10,UR))]}))],2)):d("",!0),n.showPrevious?(a(),o("li",{key:1,class:D((i={},i[e.suit("item")]=!0,i[e.suit("item","disabled")]=e.state.isFirstPage,i[e.suit("item","previousPage")]=!0,i))},[u(e.$slots,"previous",{createURL:function(){return e.state.createURL(e.state.currentRefinement-1)},isFirstPage:e.state.isFirstPage,refine:function(){return s.refine(e.state.currentRefinement-1)}},(function(){return[e.state.isFirstPage?(a(),o("span",{key:1,class:D(e.suit("link")),"aria-label":"Previous Page"},"â€¹",2)):(a(),o("a",{key:0,class:D(e.suit("link")),"aria-label":"Previous Page",href:e.state.createURL(e.state.currentRefinement-1),onClick:t[1]||(t[1]=G((function(t){return s.refine(e.state.currentRefinement-1)}),["exact","left","prevent"]))},"â€¹",10,HR))]}))],2)):d("",!0),(a(!0),o(f,null,F(e.state.pages,(function(t){var n;return a(),o("li",{class:D((n={},n[e.suit("item")]=!0,n[e.suit("item","page")]=!0,n[e.suit("item","selected")]=e.state.currentRefinement===t,n)),key:t},[u(e.$slots,"item",{page:t,createURL:function(){return e.state.createURL(t)},isFirstPage:e.state.isFirstPage,isLastPage:e.state.isLastPage,refine:function(){return s.refine(t)}},(function(){return[h("a",{class:D(e.suit("link")),href:e.state.createURL(t),"aria-label":"Page "+(t+1),onClick:G((function(e){return s.refine(t)}),["exact","left","prevent"])},C(t+1),11,qR)]}))],2)})),128)),n.showNext?(a(),o("li",{key:2,class:D((c={},c[e.suit("item")]=!0,c[e.suit("item","disabled")]=e.state.isLastPage,c[e.suit("item","nextPage")]=!0,c))},[u(e.$slots,"next",{createURL:function(){return e.state.createURL(e.state.currentRefinement+1)},isLastPage:e.state.isLastPage,refine:function(){return s.refine(e.state.currentRefinement+1)}},(function(){return[e.state.isLastPage?(a(),o("span",{key:1,class:D(e.suit("link")),"aria-label":"Next Page"},"â€º",2)):(a(),o("a",{key:0,class:D(e.suit("link")),"aria-label":"Next Page",href:e.state.createURL(e.state.currentRefinement+1),onClick:t[2]||(t[2]=G((function(t){return s.refine(e.state.currentRefinement+1)}),["exact","left","prevent"]))},"â€º",10,GR))]}))],2)):d("",!0),n.showLast?(a(),o("li",{key:3,class:D((l={},l[e.suit("item")]=!0,l[e.suit("item","disabled")]=e.state.isLastPage,l[e.suit("item","lastPage")]=!0,l))},[u(e.$slots,"last",{createURL:function(){return e.state.createURL(e.state.nbPages-1)},isLastPage:e.state.isLastPage,refine:function(){return s.refine(e.state.nbPages-1)}},(function(){return[e.state.isLastPage?(a(),o("span",{key:1,class:D(e.suit("link")),"aria-label":"Last Page, Page "+e.state.nbPages}," â€ºâ€º ",10,QR)):(a(),o("a",{key:0,class:D(e.suit("link")),"aria-label":"Last Page, Page "+e.state.nbPages,href:e.state.createURL(e.state.nbPages-1),onClick:t[3]||(t[3]=G((function(t){return s.refine(e.state.nbPages-1)}),["exact","left","prevent"]))},"â€ºâ€º",10,WR))]}))],2)):d("",!0)],2)]}))],2)):d("",!0)};const VR={name:"AisPanel",mixins:[Zv({name:"Panel"}),((YR={props:{emitter:{type:Object,required:!1,default:function(){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r&&r.push(n)||e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&r.splice(r.indexOf(n)>>>0,1)},emit:function(t,n){(e.get(t)||[]).slice().map((function(e){e(n)})),(e.get("*")||[]).slice().map((function(e){e(t,n)}))}};var e}}},provide:function(){var e;return(e={}).instantSearchPanelEmitter=this.emitter,e},data:function(){return{canRefine:!0}},created:function(){var e=this;this.emitter.on("PANEL_CHANGE_EVENT",(function(t){e.updateCanRefine(t)}))}}).beforeUnmount=function(){this.emitter.all.clear()},YR.methods={updateCanRefine:function(e){this.canRefine=e}},YR)],methods:{getSlot:function(e){return this.$slots[e]}}};var YR;VR.render=function(e,t,n,r,i,s){return a(),o("div",{class:D([e.suit(),!e.canRefine&&e.suit("","noRefinement")])},[s.getSlot("header")?(a(),o("div",{key:0,class:D(e.suit("header"))},[u(e.$slots,"header",{hasRefinements:e.canRefine})],2)):d("",!0),h("div",{class:D(e.suit("body"))},[u(e.$slots,"default",{hasRefinements:e.canRefine})],2),s.getSlot("footer")?(a(),o("div",{key:1,class:D(e.suit("footer"))},[u(e.$slots,"footer",{hasRefinements:e.canRefine})],2)):d("",!0)],2)};const zR={name:"AisPoweredBy",mixins:[Zv({name:"PoweredBy"})],props:{theme:{default:"light",validator:function(e){return-1!==["light","dark"].indexOf(e)}}},computed:{algoliaUrl:function(){return"https://www.algolia.com/?utm_source=vue-instantsearch&utm_medium=website&utm_content="+(location?location.hostname:"")+"&utm_campaign=poweredby"}}};var KR=["href"],XR=["fill"],JR=["fill"];zR.render=function(e,t,n,r,i,s){return a(),o("div",{class:D([e.suit(),e.suit("",n.theme)])},[h("a",{class:D(e.suit("link")),href:s.algoliaUrl,target:"_blank",rel:"noopener","aria-label":"search by Algolia"},[(a(),o("svg",{style:{height:"1.2em",width:"auto"},class:D([e.suit("logo"),e.suit("",n.theme)]),viewBox:"0 0 572 64"},[h("path",{fill:"dark"===n.theme?"#FFF":"#36395A",d:"M16 48.3c-3.4 0-6.3-.6-8.7-1.7A12.4 12.4 0 0 1 1.9 42C.6 40 0 38 0 35.4h6.5a6.7 6.7 0 0 0 3.9 6c1.4.7 3.3 1.1 5.6 1.1 2.2 0 4-.3 5.4-1a7 7 0 0 0 3-2.4 6 6 0 0 0 1-3.4c0-1.5-.6-2.8-1.9-3.7-1.3-1-3.3-1.6-5.9-1.8l-4-.4c-3.7-.3-6.6-1.4-8.8-3.4a10 10 0 0 1-3.3-7.9c0-2.4.6-4.6 1.8-6.4a12 12 0 0 1 5-4.3c2.2-1 4.7-1.6 7.5-1.6s5.5.5 7.6 1.6a12 12 0 0 1 5 4.4c1.2 1.8 1.8 4 1.8 6.7h-6.5a6.4 6.4 0 0 0-3.5-5.9c-1-.6-2.6-1-4.4-1s-3.2.3-4.4 1c-1.1.6-2 1.4-2.6 2.4-.5 1-.8 2-.8 3.1a5 5 0 0 0 1.5 3.6c1 1 2.6 1.7 4.7 1.9l4 .3c2.8.2 5.2.8 7.2 1.8 2.1 1 3.7 2.2 4.9 3.8a9.7 9.7 0 0 1 1.7 5.8c0 2.5-.7 4.7-2 6.6a13 13 0 0 1-5.6 4.4c-2.4 1-5.2 1.6-8.4 1.6Zm35.6 0c-2.6 0-4.8-.4-6.7-1.3a13 13 0 0 1-4.7-3.5 17.1 17.1 0 0 1-3.6-10.4v-1c0-2 .3-3.8 1-5.6a13 13 0 0 1 7.3-8.3 15 15 0 0 1 6.3-1.4A13.2 13.2 0 0 1 64 24.3c1 2.2 1.6 4.6 1.6 7.2V34H39.4v-4.3h21.8l-1.8 2.2c0-2-.3-3.7-.9-5.1a7.3 7.3 0 0 0-2.7-3.4c-1.2-.7-2.7-1.1-4.6-1.1s-3.4.4-4.7 1.3a8 8 0 0 0-2.9 3.6c-.6 1.5-.9 3.3-.9 5.4 0 2 .3 3.7 1 5.3a7.9 7.9 0 0 0 2.8 3.7c1.3.8 3 1.3 5 1.3s3.8-.5 5.1-1.3c1.3-1 2.1-2 2.4-3.2h6a11.8 11.8 0 0 1-7 8.7 16 16 0 0 1-6.4 1.2ZM80 48c-2.2 0-4-.3-5.7-1a8.4 8.4 0 0 1-3.7-3.3 9.7 9.7 0 0 1-1.3-5.2c0-2 .5-3.8 1.5-5.2a9 9 0 0 1 4.3-3.1c1.8-.7 4-1 6.7-1H89v4.1h-7.5c-2 0-3.4.5-4.4 1.4-1 1-1.6 2.1-1.6 3.6s.5 2.7 1.6 3.6c1 1 2.5 1.4 4.4 1.4 1.1 0 2.2-.2 3.2-.7 1-.4 1.9-1 2.6-2 .6-1 1-2.4 1-4.2l1.7 2.1c-.2 2-.7 3.8-1.5 5.2a9 9 0 0 1-3.4 3.3 12 12 0 0 1-5.3 1Zm9.5-.7v-8.8h-1v-10c0-1.8-.5-3.2-1.4-4.1-1-1-2.4-1.4-4.2-1.4a142.9 142.9 0 0 0-10.2.4v-5.6a74.8 74.8 0 0 1 8.6-.4c3 0 5.5.4 7.5 1.2s3.4 2 4.4 3.6c1 1.7 1.4 4 1.4 6.7v18.4h-5Zm12.9 0V17.8h5v12.3h-.2c0-4.2 1-7.4 2.8-9.5a11 11 0 0 1 8.3-3.1h1v5.6h-2a9 9 0 0 0-6.3 2.2c-1.5 1.5-2.2 3.6-2.2 6.4v15.6h-6.4Zm34.4 1a15 15 0 0 1-6.6-1.3c-1.9-.9-3.4-2-4.7-3.5a15.5 15.5 0 0 1-2.7-5c-.6-1.7-1-3.6-1-5.4v-1c0-2 .4-3.8 1-5.6a15 15 0 0 1 2.8-4.9c1.3-1.5 2.8-2.6 4.6-3.5a16.4 16.4 0 0 1 13.3.2c2 1 3.5 2.3 4.8 4a12 12 0 0 1 2 6H144c-.2-1.6-1-3-2.2-4.1a7.5 7.5 0 0 0-5.2-1.7 8 8 0 0 0-4.7 1.3 8 8 0 0 0-2.8 3.6 13.8 13.8 0 0 0 0 10.3c.6 1.5 1.5 2.7 2.8 3.6s2.8 1.3 4.8 1.3c1.5 0 2.7-.2 3.8-.8a7 7 0 0 0 2.6-2c.7-1 1-2 1.2-3.2h6.2a11 11 0 0 1-2 6.2 15.1 15.1 0 0 1-11.8 5.5Zm19.7-1v-40h6.4V31h-1.3c0-3 .4-5.5 1.1-7.6a9.7 9.7 0 0 1 3.5-4.8A9.9 9.9 0 0 1 172 17h.3c3.5 0 6 1.1 7.9 3.5 1.7 2.3 2.6 5.7 2.6 10v16.8h-6.4V29.6c0-2.1-.6-3.8-1.8-5a6.4 6.4 0 0 0-4.8-1.8c-2 0-3.7.7-5 2a7.8 7.8 0 0 0-1.9 5.5v17h-6.4Zm63.8 1a12.2 12.2 0 0 1-10.9-6.2 19 19 0 0 1-1.8-7.3h1.4v12.5h-5.1v-40h6.4v19.8l-2 3.5c.2-3.1.8-5.7 1.9-7.7a11 11 0 0 1 4.4-4.5c1.8-1 3.9-1.5 6.1-1.5a13.4 13.4 0 0 1 12.8 9.1c.7 1.9 1 3.8 1 6v1c0 2.2-.3 4.1-1 6a13.6 13.6 0 0 1-13.2 9.4Zm-1.2-5.5a8.4 8.4 0 0 0 7.9-5c.7-1.5 1.1-3.3 1.1-5.3s-.4-3.8-1.1-5.3a8.7 8.7 0 0 0-3.2-3.6 9.6 9.6 0 0 0-9.2-.2 8.5 8.5 0 0 0-3.3 3.2c-.8 1.4-1.3 3-1.3 5v2.3a9 9 0 0 0 1.3 4.8 9 9 0 0 0 3.4 3c1.4.7 2.8 1 4.4 1Zm27.3 3.9-10-28.9h6.5l9.5 28.9h-6Zm-7.5 12.2v-5.7h4.9c1 0 2-.1 2.9-.4a4 4 0 0 0 2-1.4c.4-.7.9-1.6 1.2-2.7l8.6-30.9h6.2l-9.3 32.4a14 14 0 0 1-2.5 5 8.9 8.9 0 0 1-4 2.8c-1.5.6-3.4.9-5.6.9h-4.4Zm9-12.2v-5.2h6.4v5.2H248Z"},null,8,XR),h("path",{fill:"dark"===n.theme?"#FFF":"#003DFF",d:"M534.4 9.1H528a.8.8 0 0 1-.7-.7V1.8c0-.4.2-.7.6-.8l6.5-1c.4 0 .8.2.9.6v7.8c0 .4-.4.7-.8.7zM428 35.2V.8c0-.5-.3-.8-.7-.8h-.2l-6.4 1c-.4 0-.7.4-.7.8v35c0 1.6 0 11.8 12.3 12.2.5 0 .8-.4.8-.8V43c0-.4-.3-.7-.6-.8-4.5-.5-4.5-6-4.5-7zm106.5-21.8H528c-.4 0-.7.4-.7.8v34c0 .4.3.8.7.8h6.5c.4 0 .8-.4.8-.8v-34c0-.5-.4-.8-.8-.8zm-17.7 21.8V.8c0-.5-.3-.8-.8-.8l-6.5 1c-.4 0-.7.4-.7.8v35c0 1.6 0 11.8 12.3 12.2.4 0 .8-.4.8-.8V43c0-.4-.3-.7-.7-.8-4.4-.5-4.4-6-4.4-7zm-22.2-20.6a16.5 16.5 0 0 1 8.6 9.3c.8 2.2 1.3 4.8 1.3 7.5a19.4 19.4 0 0 1-4.6 12.6 14.8 14.8 0 0 1-5.2 3.6c-2 .9-5.2 1.4-6.8 1.4a21 21 0 0 1-6.7-1.4 15.4 15.4 0 0 1-8.6-9.3 21.3 21.3 0 0 1 0-14.4 15.2 15.2 0 0 1 8.6-9.3c2-.8 4.3-1.2 6.7-1.2s4.6.4 6.7 1.2zm-6.7 27.6c2.7 0 4.7-1 6.2-3s2.2-4.3 2.2-7.8-.7-6.3-2.2-8.3-3.5-3-6.2-3-4.7 1-6.1 3c-1.5 2-2.2 4.8-2.2 8.3s.7 5.8 2.2 7.8 3.5 3 6.2 3zm-88.8-28.8c-6.2 0-11.7 3.3-14.8 8.2a18.6 18.6 0 0 0 4.8 25.2c1.8 1.2 4 1.8 6.2 1.7s.1 0 .1 0h.9c4.2-.7 8-4 9.1-8.1v7.4c0 .4.3.7.8.7h6.4a.7.7 0 0 0 .7-.7V14.2c0-.5-.3-.8-.7-.8h-13.5zm6.3 26.5a9.8 9.8 0 0 1-5.7 2h-.5a10 10 0 0 1-9.2-14c1.4-3.7 5-6.3 9-6.3h6.4v18.3zm152.3-26.5h13.5c.5 0 .8.3.8.7v33.7c0 .4-.3.7-.8.7h-6.4a.7.7 0 0 1-.8-.7v-7.4c-1.2 4-4.8 7.4-9 8h-.1a4.2 4.2 0 0 1-.5.1h-.9a10.3 10.3 0 0 1-7-2.6c-4-3.3-6.5-8.4-6.5-14.2 0-3.7 1-7.2 3-10 3-5 8.5-8.3 14.7-8.3zm.6 28.4c2.2-.1 4.2-.6 5.7-2V21.7h-6.3a9.8 9.8 0 0 0-9 6.4 10.2 10.2 0 0 0 9.1 13.9h.5zM452.8 13.4c-6.2 0-11.7 3.3-14.8 8.2a18.5 18.5 0 0 0 3.6 24.3 10.4 10.4 0 0 0 13 .6c2.2-1.5 3.8-3.7 4.5-6.1v7.8c0 2.8-.8 5-2.2 6.3-1.5 1.5-4 2.2-7.5 2.2l-6-.3c-.3 0-.7.2-.8.5l-1.6 5.5c-.1.4.1.8.5 1h.1c2.8.4 5.5.6 7 .6 6.3 0 11-1.4 14-4.1 2.7-2.5 4.2-6.3 4.5-11.4V14.2c0-.5-.4-.8-.8-.8h-13.5zm6.3 8.2v18.3a9.6 9.6 0 0 1-5.6 2h-1a10.3 10.3 0 0 1-8.8-14c1.4-3.7 5-6.3 9-6.3h6.4zM291 31.5A32 32 0 0 1 322.8 0h30.8c.6 0 1.2.5 1.2 1.2v61.5c0 1.1-1.3 1.7-2.2 1l-19.2-17a18 18 0 0 1-11 3.4 18.1 18.1 0 1 1 18.2-14.8c-.1.4-.5.7-.9.6-.1 0-.3 0-.4-.2l-3.8-3.4c-.4-.3-.6-.8-.7-1.4a12 12 0 1 0-2.4 8.3c.4-.4 1-.5 1.6-.2l14.7 13.1v-46H323a26 26 0 1 0 10 49.7c.8-.4 1.6-.2 2.3.3l3 2.7c.3.2.3.7 0 1l-.2.2a32 32 0 0 1-47.2-28.6z"},null,8,JR)],2))],10,KR)],2)};const ZR={name:"AisQueryRuleContext",mixins:[Zv({name:"QueryRuleContext"}),ob({connector:fw},{$$widgetType:"ais.queryRuleContext"})],props:{trackedFilters:{type:Object,required:!0},transformRuleContexts:{type:Function,required:!1,default:void 0}},computed:{widgetParams:function(){return{trackedFilters:this.trackedFilters,transformRuleContexts:this.transformRuleContexts}}},render:function(){return null}},eC={name:"AisQueryRuleCustomData",mixins:[Zv({name:"QueryRuleCustomData"}),ob({connector:fw},{$$widgetType:"ais.queryRuleCustomData"})],props:{transformItems:{type:Function,required:!1,default:void 0}},computed:{widgetParams:function(){return{transformItems:this.transformItems}}}};eC.render=function(e,t,n,r,i,s){return e.state?(a(),o("div",{key:0,class:D(e.suit())},[u(e.$slots,"default",{items:e.state.items},(function(){return[(a(!0),o(f,null,F(e.state.items,(function(t,n){return a(),o("div",{key:n},[u(e.$slots,"item",{item:t},(function(){return[h("pre",null,C(t),1)]}))])})),128))]}))],2)):d("",!0)};const tC={name:"AisRangeInput",mixins:[Zv({name:"RangeInput"}),ob({connector:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;return hb(e,tk()),function(n){var r=n||{},i=r.attribute,s=void 0===i?"":i,a=r.min,o=r.max,c=r.precision,l=void 0===c?0:c;if(!s)throw new Error(tk("The `attribute` option is required."));if(xE(a)&&xE(o)&&a>o)throw new Error(tk("The `max` option can't be lower than `min`."));var u={from:function(e){return e.toLocaleString()},to:function(e){return function(e){return Number(Number(e).toFixed(l))}(e).toLocaleString()}},h=function(e){return function(){1!==arguments.length||e.sendEventToInsights(arguments.length<=0?void 0:arguments[0])}};function d(e,t){return function(){var n=Z_(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[void 0,void 0],2),r=n[0],i=n[1],c=function(e,t,n,r){var i,c,u=e.state,h=t.min,d=t.max,f=Z_(u.getNumericRefinement(s,">=")||[],1)[0],p=Z_(u.getNumericRefinement(s,"<=")||[],1)[0],m=void 0===n||""===n,g=void 0===r||""===r,y=nk({min:m?void 0:parseFloat(n),max:g?void 0:parseFloat(r),precision:l}),v=y.min,b=y.max;i=xE(a)||h!==v?xE(a)&&m?a:v:void 0,c=xE(o)||d!==b?xE(o)&&g?o:b:void 0;var E=void 0===i,T=xE(h)&&h<=i,S=E||xE(i)&&(!xE(h)||T),A=void 0===c,_=xE(c)&&d>=c,k=A||xE(c)&&(!xE(d)||_);return(f!==i||p!==c)&&S&&k?(u=u.removeNumericRefinement(s),xE(i)&&(u=u.addNumericRefinement(s,">=",i)),xE(c)&&(u=u.addNumericRefinement(s,"<=",c)),u.resetPage()):null}(e,t,r,i);c&&e.setState(c).search()}}return{$$type:"ais.range",init:function(t){e(X_(X_({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){e(X_(X_({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)},getRenderState:function(e,t){return X_(X_({},e),{},{range:X_(X_({},e.range),{},J_({},s,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.results,r=e.helper,i=e.instantSearchInstance,c=rE(t&&t.disjunctiveFacets||[],(function(e){return e.name===s})),f=function(e){return nk({min:xE(a)?a:xE(e.min)?e.min:0,max:xE(o)?o:xE(e.max)?e.max:0,precision:l})}(c&&c.stats||{min:void 0,max:void 0}),p=function(e){var t=Z_(e.getNumericRefinement(s,">=")||[],1)[0],n=Z_(e.getNumericRefinement(s,"<=")||[],1)[0];return[xE(t)?t:-1/0,xE(n)?n:1/0]}(r);return{refine:d(r,t?f:{min:void 0,max:void 0}),canRefine:f.min!==f.max,format:u,range:f,sendEvent:h(i),widgetParams:X_(X_({},n),{},{precision:l}),start:p}},dispose:function(e){var n=e.state;return t(),n.removeDisjunctiveFacet(s).removeNumericRefinement(s)},getWidgetUiState:function(e,t){var n=t.searchParameters.getNumericRefinements(s),r=n[">="],i=void 0===r?[]:r,a=n["<="],o=void 0===a?[]:a;return 0===i.length&&0===o.length?e:X_(X_({},e),{},{range:X_(X_({},e.range),{},J_({},s,"".concat(i,":").concat(o)))})},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=e.addDisjunctiveFacet(s).setQueryParameters({numericRefinements:X_(X_({},e.numericRefinements),{},J_({},s,{}))});xE(a)&&(r=r.addNumericRefinement(s,">=",a)),xE(o)&&(r=r.addNumericRefinement(s,"<=",o));var i=n.range&&n.range[s];if(!i||-1===i.indexOf(":"))return r;var c=Z_(i.split(":").map(parseFloat),2),l=c[0],u=c[1];return xE(l)&&(!xE(a)||a<l)&&(r=(r=r.removeNumericRefinement(s,">=")).addNumericRefinement(s,">=",l)),xE(u)&&(!xE(o)||u<o)&&(r=(r=r.removeNumericRefinement(s,"<=")).addNumericRefinement(s,"<=",u)),r}}}}},{$$widgetType:"ais.rangeInput"}),Dw()],props:{attribute:{type:String,required:!0},min:{type:Number,required:!1,default:void 0},max:{type:Number,required:!1,default:void 0},precision:{type:Number,required:!1,default:0}},data:function(){return{minInput:void 0,maxInput:void 0}},updated:function(){this.minInput=void 0,this.maxInput=void 0},computed:{widgetParams:function(){return{attribute:this.attribute,min:this.min,max:this.max,precision:this.precision}},step:function(){return 1/Math.pow(10,this.precision)},values:function(){var e=this.state.start,t=e[0],n=e[1],r=this.state.range,i=r.min,s=r.max;return{min:t!==-1/0&&t!==i?t:void 0,max:n!==1/0&&n!==s?n:void 0}}},methods:{pick:function(e,t){return null!=e?e:t},refine:function(e){var t=e.min,n=e.max;this.state.refine([t,n])}}};var nC=["step","min","max","placeholder","value"],rC=["step","min","max","placeholder","value"];tC.render=function(e,t,n,r,i,s){return e.state?(a(),o("div",{key:0,class:D([e.suit(),!e.state.canRefine&&e.suit("","noRefinement")])},[u(e.$slots,"default",{currentRefinement:s.values,refine:s.refine,canRefine:e.state.canRefine,range:e.state.range,sendEvent:e.state.sendEvent},(function(){return[h("form",{class:D(e.suit("form")),onSubmit:t[2]||(t[2]=G((function(e){return s.refine({min:s.pick(i.minInput,s.values.min),max:s.pick(i.maxInput,s.values.max)})}),["prevent"]))},[h("label",{class:D(e.suit("label"))},[u(e.$slots,"minLabel"),h("input",{type:"number",class:D([e.suit("input"),e.suit("input","min")]),step:s.step,min:e.state.range.min,max:e.state.range.max,placeholder:e.state.range.min,value:s.values.min,onChange:t[0]||(t[0]=function(e){return i.minInput=e.currentTarget.value})},null,42,nC)],2),h("span",{class:D(e.suit("separator"))},[u(e.$slots,"separator",{},(function(){return[L("to")]}))],2),h("label",{class:D(e.suit("label"))},[u(e.$slots,"maxLabel"),h("input",{class:D([e.suit("input"),e.suit("input","max")]),type:"number",step:s.step,min:e.state.range.min,max:e.state.range.max,placeholder:e.state.range.max,value:s.values.max,onChange:t[1]||(t[1]=function(e){return i.maxInput=e.currentTarget.value})},null,42,rC)],2),h("button",{class:D(e.suit("submit")),type:"submit"},[u(e.$slots,"submitLabel",{},(function(){return[L(" Go ")]}))],2)],34)]}))],2)):d("",!0)};const iC={name:"AisRatingMenu",mixins:[Zv({name:"RatingMenu"}),ob({connector:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;return hb(e,Pk()),function(n){var r,i=n||{},s=i.attribute,a=i.max,o=void 0===a?5:a;if(!s)throw new Error(Pk("The `attribute` option is required."));var c=function(e){var t,n=e.getNumericRefinements(s);if(null!==(t=n[">="])&&void 0!==t&&t.length)return n[">="][0]};function l(e,t){var n=c(e)===Number(t),r=e.resetPage().removeNumericRefinement(s);return n?r:r.addNumericRefinement(s,"<=",o).addNumericRefinement(s,">=",Number(t))}var u=function(e,t){r("click:internal",t),e.setState(l(e.state,t)).search()},h=function(e){return u.bind(null,e)},d=function(e){var t=e.state,n=e.createURL,r=e.getWidgetUiState,i=e.helper;return function(e){return n((function(n){return r(n,{searchParameters:l(t,e),helper:i})}))}};return{$$type:Nk,init:function(t){var n=t.instantSearchInstance;e(wk(wk({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(wk(wk({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},getRenderState:function(e,t){return wk(wk({},e),{},{ratingMenu:wk(wk({},e.ratingMenu),{},Ok({},s,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.helper,i=e.results,a=e.state,l=e.instantSearchInstance,u=e.createURL,f=[];r||(r=function(e){var t=e.instantSearchInstance,n=e.helper,r=e.getRefinedStar,i=e.attribute;return function(){for(var e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];if(1!==s.length){var o=s[1],c=s[2],l=void 0===c?"Filter Applied":c,u=Ik(s[0].split(":"),2),h=u[0],d=u[1];"click"===h&&(r()===Number(o)||t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:Nk,eventType:h,eventModifier:d,payload:{eventName:l,index:n.getIndex(),filters:["".concat(i,">=").concat(o)]},attribute:i}))}else t.sendEventToInsights(s[0])}}({instantSearchInstance:l,helper:t,getRefinedStar:function(){return c(t.state)},attribute:s}));var p=!1,m=0,g=null==i?void 0:i.getFacetValues(s,{});if(i&&g){g.length,function(e){var t=0;e.forEach((function(e){var n=Ik(e.name.split("."),2)[1],r=void 0===n?"":n;t=Math.max(t,r.length)}))}(g);for(var y=c(a),v=function(e){var t=y===e;p=p||t;var n=g.filter((function(t){return Number(t.name)>=e&&Number(t.name)<=o})).map((function(e){return e.count})).reduce((function(e,t){return e+t}),0);if(m+=n,y&&!t&&0===n)return"continue";var r=_k(new Array(Math.floor(o/1))).map((function(t,n){return 1*n<e}));f.push({stars:r,name:String(e),label:String(e),value:String(e),count:n,isRefined:t})},b=1;b<o;b+=1)v(b)}f=f.reverse();var E=!i||0===i.nbHits;return{items:f,hasNoResults:E,canRefine:(!E||p)&&m>0,refine:h(t),sendEvent:r,createURL:d({state:a,createURL:u,helper:t,getWidgetUiState:this.getWidgetUiState}),widgetParams:n}},dispose:function(e){var n=e.state;return t(),n.removeNumericRefinement(s)},getWidgetUiState:function(e,t){var n=t.searchParameters,r=c(n);return function(e,t){if(!e.ratingMenu)return e;"number"!=typeof e.ratingMenu[t]&&delete e.ratingMenu[t];0===Object.keys(e.ratingMenu).length&&delete e.ratingMenu;return e}(wk(wk({},e),{},{ratingMenu:wk(wk({},e.ratingMenu),{},Ok({},s,"number"==typeof r?r:void 0))}),s)},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=n.ratingMenu&&n.ratingMenu[s],i=e.addDisjunctiveFacet(s).removeNumericRefinement(s).removeDisjunctiveFacetRefinement(s);return r?i.addNumericRefinement(s,"<=",o).addNumericRefinement(s,">=",r):i.setQueryParameters({numericRefinements:wk(wk({},i.numericRefinements),{},Ok({},s,{}))})}}}}},{$$widgetType:"ais.ratingMenu"}),Dw()],props:{attribute:{type:String,required:!0},max:{type:Number,default:void 0}},computed:{widgetParams:function(){return{attribute:this.attribute,max:this.max}}}};var sC={style:{display:"none"}},aC=[h("symbol",{id:"ais-RatingMenu-starSymbol",viewBox:"0 0 24 24"},[h("path",{d:"M12 .288l2.833 8.718h9.167l-7.417 5.389 2.833 8.718-7.416-5.388-7.417 5.388 2.833-8.718-7.416-5.389h9.167z"})],-1),h("symbol",{id:"ais-RatingMenu-starEmptySymbol",viewBox:"0 0 24 24"},[h("path",{d:"M12 6.76l1.379 4.246h4.465l-3.612 2.625 1.379 4.246-3.611-2.625-3.612 2.625 1.379-4.246-3.612-2.625h4.465l1.38-4.246zm0-6.472l-2.833 8.718h-9.167l7.416 5.389-2.833 8.718 7.417-5.388 7.416 5.388-2.833-8.718 7.417-5.389h-9.167l-2.833-8.718z"})],-1)],oC=["href","aria-label","onClick"],cC=[h("use",{"xlink:href":"#ais-RatingMenu-starSymbol"},null,-1)],lC=[h("use",{"xlink:href":"#ais-RatingMenu-starEmptySymbol"},null,-1)];iC.render=function(e,t,n,r,i,s){return e.state?(a(),o("div",{key:0,class:D(e.suit())},[u(e.$slots,"default",{items:e.state.items,refine:e.state.refine,createURL:e.state.createURL,sendEvent:e.state.sendEvent,canRefine:e.state.canRefine},(function(){return[(a(),o("svg",sC,aC)),h("ul",{class:D(e.suit("list"))},[(a(!0),o(f,null,F(e.state.items,(function(t,n){return a(),o("li",{key:n,class:D([e.suit("item"),t.isRefined&&e.suit("item","selected")])},[h("div",null,[h("a",{href:e.state.createURL(t.value),"aria-label":t.value+" & up",class:D(e.suit("link")),onClick:G((function(n){return e.state.refine(t.value)}),["exact","left","prevent"])},[(a(!0),o(f,null,F(t.stars,(function(t,n){return a(),o(f,null,[t?(a(),o("svg",{"aria-hidden":"true",width:"24",height:"24",class:D([e.suit("starIcon"),e.suit("starIcon--full")]),key:n+"-full"},cC,2)):(a(),o("svg",{class:D([e.suit("starIcon"),e.suit("starIcon--empty")]),"aria-hidden":"true",width:"24",height:"24",key:n+"-empty"},lC,2))],64)})),256)),h("span",{class:D(e.suit("label")),"aria-hidden":"true"},[u(e.$slots,"andUp",{},(function(){return[L("& Up")]}))],2),h("span",{class:D(e.suit("count"))},C(t.count),3)],10,oC)])],2)})),128))],2)]}))],2)):d("",!0)};const uC={name:"SearchInput",mixins:[Zv({name:"SearchBox"})],props:{placeholder:{type:String,default:"Search hereâ€¦"},autofocus:{type:Boolean,default:!1},showLoadingIndicator:{type:Boolean,default:!1},shouldShowLoadingIndicator:{type:Boolean,default:!1},ignoreCompositionEvents:{type:Boolean,default:!1},submitTitle:{type:String,default:"Search"},resetTitle:{type:String,default:"Clear"},value:{type:String,required:!1,default:void 0},modelValue:{type:String,required:!1,default:void 0}},emits:["input","update:modelValue","blur","focus","reset"],data:function(){return{query:""}},methods:{isFocused:function(){return document.activeElement===this.$refs.input},onInput:function(e){this.ignoreCompositionEvents&&e.isComposing||(this.$emit("input",e.target.value),this.$emit("update:modelValue",e.target.value))},onFormSubmit:function(){this.$refs.input.blur()},onFormReset:function(){this.$emit("input",""),this.$emit("update:modelValue",""),this.$emit("reset")}}};var hC=["placeholder","autofocus","value"],dC=["title","hidden"],fC=[h("path",{d:"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"},null,-1)],pC=["title","hidden"],mC=[h("path",{d:"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"},null,-1)],gC=["hidden"],yC=["aria-hidden"],vC=[M('<g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"></animateTransform></path></g></g>',1)];uC.render=function(e,t,n,r,i,s){return a(),o("form",{action:"",role:"search",novalidate:"",class:D(e.suit("form")),onSubmit:t[4]||(t[4]=G((function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return s.onFormSubmit&&s.onFormSubmit.apply(s,e)}),["prevent"])),onReset:t[5]||(t[5]=G((function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return s.onFormReset&&s.onFormReset.apply(s,e)}),["prevent"]))},[h("input",{type:"search",autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false",maxlength:"512","aria-label":"Search",placeholder:n.placeholder,autofocus:n.autofocus,class:D(e.suit("input")),value:n.value||n.modelValue,onFocus:t[0]||(t[0]=function(t){return e.$emit("focus",t)}),onBlur:t[1]||(t[1]=function(t){return e.$emit("blur",t)}),onInput:t[2]||(t[2]=function(e){return s.onInput(e)}),onCompositionend:t[3]||(t[3]=function(e){return s.onInput(e)}),ref:"input"},null,42,hC),h("button",{type:"submit",title:n.submitTitle,class:D(e.suit("submit")),hidden:n.showLoadingIndicator&&n.shouldShowLoadingIndicator},[u(e.$slots,"submit-icon",{},(function(){return[(a(),o("svg",{"aria-hidden":"true",width:"10",height:"10",viewBox:"0 0 40 40",class:D(e.suit("submitIcon"))},fC,2))]}))],10,dC),h("button",{type:"reset",title:n.resetTitle,class:D(e.suit("reset")),hidden:!n.value&&!n.modelValue||n.showLoadingIndicator&&n.shouldShowLoadingIndicator},[u(e.$slots,"reset-icon",{},(function(){return[(a(),o("svg",{"aria-hidden":"true",height:"10",viewBox:"0 0 20 20",class:D(e.suit("resetIcon")),width:"10"},mC,2))]}))],10,pC),n.showLoadingIndicator?(a(),o("span",{key:0,hidden:!n.shouldShowLoadingIndicator,class:D(e.suit("loadingIndicator"))},[u(e.$slots,"loading-indicator",{},(function(){return[(a(),o("svg",{"aria-hidden":!n.shouldShowLoadingIndicator,"aria-label":"Results are loading",width:"16",height:"16",stroke:"#444",viewBox:"0 0 38 38",class:D(e.suit("loadingIcon"))},vC,10,yC))]}))],10,gC)):d("",!0)],34)};var bC=function(){};const EC={name:"AisRefinementList",components:{SearchInput:uC,AisHighlight:lO},mixins:[Zv({name:"RefinementList"}),ob({connector:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;return hb(e,uk()),function(n){var r=n||{},i=r.attribute,s=r.operator,a=void 0===s?"or":s,o=r.limit,c=void 0===o?10:o,l=r.showMore,u=void 0!==l&&l,h=r.showMoreLimit,d=void 0===h?20:h,f=r.sortBy,p=void 0===f?hk:f,m=r.escapeFacetValues,g=void 0===m||m,y=r.transformItems,v=void 0===y?function(e){return e}:y;if(!i)throw new Error(uk("The `attribute` option is required."));if(!/^(and|or)$/.test(a))throw new Error(uk('The `operator` must one of: `"and"`, `"or"` (got "'.concat(a,'").')));if(!0===u&&d<=c)throw new Error(uk("`showMoreLimit` should be greater than `limit`."));var b,E,T,S=function(e){var t=e.name,n=e.escapedValue;return ok(ok({},lk(e,ik)),{},{value:n,label:t,highlighted:t})},A=[],_=!0,k=!1,w=function(){};function O(){w()}function I(){return k?d:c}var R=function(){return function(){}},C=function(t,n){return function(r){return function(s){var a=r.instantSearchInstance,o=r.results;if(""===s&&A)e(ok(ok({},n.getWidgetRenderState(ok(ok({},r),{},{results:b}))),{},{instantSearchInstance:a}),!1);else{var c={highlightPreTag:g?Ob.highlightPreTag:Ib,highlightPostTag:g?Ob.highlightPostTag:Rb};t.searchForFacetValues(i,s,Math.min(I(),100),c).then((function(t){var i=g?t.facetHits.map((function(e){return kb(kb({},e),{},{highlighted:Cb(e.highlighted)})})):t.facetHits,s=v(i.map((function(e){var t=e.escapedValue,n=e.value;return ok(ok({},lk(e,sk)),{},{value:t,label:n})})),{results:o});e(ok(ok({},n.getWidgetRenderState(ok(ok({},r),{},{results:b}))),{},{items:s,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:a}),!1)}))}}}};return{$$type:"ais.refinementList",init:function(t){e(ok(ok({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){e(ok(ok({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)},getRenderState:function(e,t){return ok(ok({},e),{},{refinementList:ok(ok({},e.refinementList),{},ck({},i,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=this,r=e.results,s=e.state,a=e.createURL,o=e.instantSearchInstance,l=e.helper,h=[],d=[];if(T&&E&&R||(T=Bb({instantSearchInstance:o,helper:l,attribute:i,widgetType:this.$$type}),E=function(e){T("click:internal",e),l.toggleFacetRefinement(i,e).search()},R=C(l,this)),r){var f=r.getFacetValues(i,{sortBy:p,facetOrdering:p===hk});d=f&&Array.isArray(f)?f:[],h=v(d.slice(0,I()).map(S),{results:r});var m=s.maxValuesPerFacet,g=I();_=m>g?d.length<=g:d.length<g,b=r,A=h,e.results&&(w=function(e,t){return function(){k=!k,t.render(e)}}(e,this))}var y=R&&R(e),P=k&&A.length>c||u&&!_;return{createURL:function(e){return a((function(n){return t.getWidgetUiState(n,{searchParameters:s.resetPage().toggleFacetRefinement(i,e),helper:l})}))},items:h,refine:E,searchForItems:y,isFromSearch:!1,canRefine:h.length>0,widgetParams:n,isShowingMore:k,canToggleShowMore:P,toggleShowMore:O,sendEvent:T,hasExhaustiveItems:_}},dispose:function(e){var n=e.state;t();var r=n.setQueryParameter("maxValuesPerFacet",void 0);return"and"===a?r.removeFacet(i):r.removeDisjunctiveFacet(i)},getWidgetUiState:function(e,t){var n=t.searchParameters,r="or"===a?n.getDisjunctiveRefinements(i):n.getConjunctiveRefinements(i);return function(e,t){if(!e.refinementList)return e;e.refinementList[t]&&0!==e.refinementList[t].length||delete e.refinementList[t];0===Object.keys(e.refinementList).length&&delete e.refinementList;return e}(ok(ok({},e),{},{refinementList:ok(ok({},e.refinementList),{},ck({},i,r))}),i)},getWidgetSearchParameters:function(e,t){var n=t.uiState,r="or"===a;if(e.isHierarchicalFacet(i))return e;if(r&&e.isConjunctiveFacet(i)||!r&&e.isDisjunctiveFacet(i))return e;var s=n.refinementList&&n.refinementList[i],o=r?e.addDisjunctiveFacet(i).removeDisjunctiveFacetRefinement(i):e.addFacet(i).removeFacetRefinement(i),l=o.maxValuesPerFacet||0,h=Math.max(l,u?d:c),f=o.setQueryParameter("maxValuesPerFacet",h);if(!s){var p=r?"disjunctiveFacetsRefinements":"facetsRefinements";return f.setQueryParameters(ck({},p,ok(ok({},f[p]),{},ck({},i,[]))))}return s.reduce((function(e,t){return r?e.addDisjunctiveFacetRefinement(i,t):e.addFacetRefinement(i,t)}),f)}}}}},{$$widgetType:"ais.refinementList"}),Dw()],props:{attribute:{type:String,required:!0},searchable:{type:Boolean,default:void 0},searchablePlaceholder:{type:String,required:!1,default:"Search hereâ€¦"},operator:{default:"or",validator:function(e){return"and"===e||"or"===e},required:!1},limit:{type:Number,required:!1,default:void 0},showMoreLimit:{type:Number,required:!1,default:void 0},showMore:{type:Boolean,required:!1,default:!1},sortBy:{type:[Array,Function],required:!1,default:void 0},transformItems:{type:Function,required:!1,default:void 0}},data:function(){return{searchForFacetValuesQuery:""}},computed:{searchForFacetValues:{get:function(){return this.searchForFacetValuesQuery},set:function(e){this.state.searchForItems(e),this.searchForFacetValuesQuery=e}},toggleShowMore:function(){return this.state.toggleShowMore||bC},items:function(){return this.state.items.map((function(e){return Object.assign({},e,{_highlightResult:{item:{value:e.highlighted}}})}))},widgetParams:function(){return{attribute:this.attribute,operator:this.operator,limit:this.limit,showMore:this.showMore,showMoreLimit:this.showMoreLimit,sortBy:this.sortBy,escapeFacetValues:!0,transformItems:this.transformItems}}},methods:{refine:function(e){this.state.refine(e),this.searchForFacetValuesQuery=""}}};var TC,SC=["value","checked","onChange"],AC=["disabled"];EC.render=function(e,t,n,r,i,s){var c=K("search-input"),l=K("ais-highlight");return e.state?(a(),o("div",{key:0,class:D([e.suit(),0===s.items.length&&e.suit("","noRefinement")])},[u(e.$slots,"default",{items:s.items,refine:s.refine,searchForItems:e.state.searchForItems,searchForItemsQuery:i.searchForFacetValuesQuery,toggleShowMore:s.toggleShowMore,canToggleShowMore:e.state.canToggleShowMore,isShowingMore:e.state.isShowingMore,createURL:e.state.createURL,isFromSearch:e.state.isFromSearch,canRefine:e.state.canRefine,sendEvent:e.state.sendEvent},(function(){var r;return[n.searchable?(a(),o("div",{key:0,class:D(e.suit("searchBox"))},[P(c,{modelValue:s.searchForFacetValues,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.searchForFacetValues=e}),"show-loading-indicator":!0,placeholder:n.searchablePlaceholder,"class-names":e.classNames},null,8,["modelValue","placeholder","class-names"])],2)):d("",!0),e.state.isFromSearch&&0===s.items.length?u(e.$slots,"noResults",{key:1,query:s.searchForFacetValues},(function(){return[h("div",{class:D(e.suit("noResults"))},"No results.",2)]})):d("",!0),s.items.length>0?(a(),o("ul",{key:2,class:D(e.suit("list"))},[(a(!0),o(f,null,F(s.items,(function(t){return a(),o("li",{class:D([e.suit("item"),t.isRefined&&e.suit("item","selected")]),key:t.value},[u(e.$slots,"item",{item:t,refine:s.refine,createURL:e.state.createURL},(function(){return[h("label",{class:D(e.suit("label"))},[h("input",{class:D(e.suit("checkbox")),type:"checkbox",value:t.value,checked:t.isRefined,onChange:function(e){return s.refine(t.value)}},null,42,SC),n.searchable?(a(),o("span",{key:0,class:D(e.suit("labelText"))},[P(l,{attribute:"item",hit:t},null,8,["hit"])],2)):(a(),o("span",{key:1,class:D(e.suit("labelText"))},C(t.label),3)),h("span",{class:D(e.suit("count"))},C(t.count),3)],2)]}))],2)})),128))],2)):d("",!0),n.showMore?(a(),o("button",{key:3,class:D([e.suit("showMore"),(r={},r[e.suit("showMore","disabled")]=!e.state.canToggleShowMore,r)]),onClick:t[1]||(t[1]=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return s.toggleShowMore&&s.toggleShowMore.apply(s,e)}),disabled:!e.state.canToggleShowMore},[u(e.$slots,"showMoreLabel",{isShowingMore:e.state.isShowingMore},(function(){return[L(" Show "+C(e.state.isShowingMore?"less":"more"),1)]}))],10,AC)):d("",!0)]}))],2)):d("",!0)};const _C=((TC={name:"AisStateResults",mixins:[ob({connector:!0}),Zv({name:"StateResults"})],props:{catchError:{type:Boolean,default:!1}},data:function(){var e=this;return{renderFn:function(){var t=e.instantSearchInstance,n=t.status,r=t.error,i=e.getParentIndex().getResults(),s=e.getParentIndex().getHelper(),a=s?s.state:null;e.state={results:i,state:a,status:n,error:r}}}},created:function(){this.instantSearchInstance.addListener("render",this.renderFn),this.renderFn()}}).beforeUnmount=function(){this.widget&&(this.instantSearchInstance.removeListener("render",this.renderFn),this.errorFn&&this.instantSearchInstance.removeListener("error",this.errorFn))},TC.watch={catchError:{immediate:!0,handler:function(e){e?(this.errorFn=function(){},this.instantSearchInstance.addListener("error",this.errorFn)):this.errorFn&&(this.instantSearchInstance.removeListener("error",this.errorFn),this.errorFn=void 0)}}},TC.computed={stateResults:function(){var e=this.state,t=e.results;return eb({},t,{results:t,state:e.state,status:e.status,error:e.error})}},TC);var kC=h("p",null," Use this component to have a different layout based on a certain state. ",-1),wC=h("p",null,"Fill in the slot, and get access to the following things:",-1);_C.render=function(e,t,n,r,i,s){return e.state&&e.state.state&&e.state.results?(a(),o("div",{key:0,class:D(e.suit())},[u(e.$slots,"default",ne(re(s.stateResults)),(function(){return[kC,wC,h("pre",null,"results: "+C(Object.keys(e.state.results)),1),h("pre",null,"state: "+C(Object.keys(e.state.state)),1),h("pre",null,"status: "+C(e.state.status),1),h("pre",null,"error: "+C(e.state.error),1)]}))],2)):d("",!0)};const OC={name:"AisSearchBox",mixins:[ob({connector:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;return hb(e,gk()),function(n){var r,i,s=(n||{}).queryHook,a=void 0===s?yk:s;return{$$type:"ais.searchBox",init:function(t){var n=t.instantSearchInstance;e(pk(pk({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(pk(pk({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.setQueryParameter("query",void 0)},getRenderState:function(e,t){return pk(pk({},e),{},{searchBox:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.helper,s=e.instantSearchInstance,o=e.state;return r||(r=function(e){a(e,(function(e){return t.setQuery(e).search()}))},i=function(){t.setQuery("").search()}),{query:o.query||"",refine:r,clear:i,widgetParams:n,isSearchStalled:"stalled"===s.status}},getWidgetUiState:function(e,t){var n=t.searchParameters.query||"";return""===n||e&&e.query===n?e:pk(pk({},e),{},{query:n})},getWidgetSearchParameters:function(e,t){var n=t.uiState;return e.setQueryParameter("query",n.query||"")}}}}},{$$widgetType:"ais.searchBox"}),Zv({name:"SearchBox"})],components:{SearchInput:uC},props:{placeholder:{type:String,default:""},autofocus:{type:Boolean,default:!1},showLoadingIndicator:{type:Boolean,default:!0},ignoreCompositionEvents:{type:Boolean,default:!1},submitTitle:{type:String,default:"Submit the search query"},resetTitle:{type:String,default:"Clear the search query"},value:{type:String,default:void 0},modelValue:{type:String,default:void 0},queryHook:{type:Function,default:void 0}},data:function(){return{localValue:"",isVue2:false,isVue3:true}},computed:{widgetParams:function(){return{queryHook:this.queryHook}},isControlled:function(){return void 0!==this.value||void 0!==this.modelValue},model:function(){return this.value||this.modelValue},currentRefinement:{get:function(){this.isControlled&&this.model!==this.localValue&&(this.localValue=this.model,this.$emit("input",this.model),this.$emit("update:modelValue",this.model),this.state.refine(this.model));var e=this.$refs.searchInput;return e&&e.isFocused()?this.localValue:this.model||this.state.query||""},set:function(e){this.localValue=e,this.state.refine(e),this.isControlled&&(this.$emit("input",e),this.$emit("update:modelValue",e))}}}};OC.render=function(e,t,n,r,i,s){var c=K("search-input");return e.state?(a(),o("div",{key:0,class:D(e.suit())},[u(e.$slots,"default",{currentRefinement:s.currentRefinement,isSearchStalled:e.state.isSearchStalled,refine:e.state.refine},(function(){return[P(c,{onFocus:t[0]||(t[0]=function(t){return e.$emit("focus",t)}),onBlur:t[1]||(t[1]=function(t){return e.$emit("blur",t)}),onReset:t[2]||(t[2]=function(t){return e.$emit("reset")}),placeholder:n.placeholder,autofocus:n.autofocus,"show-loading-indicator":n.showLoadingIndicator,"should-show-loading-indicator":e.state.isSearchStalled,"ignore-composition-events":n.ignoreCompositionEvents,"submit-title":n.submitTitle,"reset-title":n.resetTitle,"class-names":e.classNames,modelValue:s.currentRefinement,"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.currentRefinement=e}),ref:"searchInput"},ie({default:N((function(){return[i.isVue2?u(e.$slots,"loading-indicator",{key:0,slot:"loading-indicator"}):d("",!0),i.isVue2?u(e.$slots,"submit-icon",{key:1,slot:"submit-icon"}):d("",!0),i.isVue2?u(e.$slots,"reset-icon",{key:2,slot:"reset-icon"}):d("",!0)]})),_:2},[i.isVue3?{name:"loading-indicator",fn:N((function(){return[u(e.$slots,"loading-indicator")]})),key:"0"}:void 0,i.isVue3?{name:"submit-icon",fn:N((function(){return[u(e.$slots,"submit-icon")]})),key:"1"}:void 0,i.isVue3?{name:"reset-icon",fn:N((function(){return[u(e.$slots,"reset-icon")]})),key:"2"}:void 0]),1032,["placeholder","autofocus","show-loading-indicator","should-show-loading-indicator","ignore-composition-events","submit-title","reset-title","class-names","modelValue"])]}))],2)):d("",!0)};const IC={name:"AisSnippet",mixins:[Zv({name:"Snippet"})],components:{AisHighlighter:cO},props:{hit:{type:Object,required:!0},attribute:{type:String,required:!0},highlightedTagName:{type:String,default:"mark"}}};IC.render=function(e,t,n,r,i,s){var o=K("ais-highlighter");return a(),$(o,{hit:n.hit,attribute:n.attribute,"highlighted-tag-name":n.highlightedTagName,suit:e.suit,"highlight-property":"_snippetResult","pre-tag":"<mark>","post-tag":"</mark>"},null,8,["hit","attribute","highlighted-tag-name","suit"])};const RC={name:"AisSortBy",mixins:[Zv({name:"SortBy"}),ob({connector:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;hb(e,Sk());var n={};return function(r){var i=r||{},s=i.items,a=i.transformItems,o=void 0===a?function(e){return e}:a;if(!Array.isArray(s))throw new Error(Sk("The `items` option expects an array of objects."));return{$$type:"ais.sortBy",init:function(t){var n=t.instantSearchInstance,r=this.getWidgetRenderState(t),i=r.currentRefinement;rE(s,(function(e){return e.value===i})),e(Ek(Ek({},r),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(Ek(Ek({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var r=e.state;return t(),n.initialIndex?r.setIndex(n.initialIndex):r},getRenderState:function(e,t){return Ek(Ek({},e),{},{sortBy:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,i=e.helper,a=e.state,c=e.parent;!n.initialIndex&&c&&(n.initialIndex=c.getIndexName()),n.setIndex||(n.setIndex=function(e){i.setIndex(e).search()});var l=!t||0===t.nbHits;return{currentRefinement:a.index,options:o(s,{results:t}),refine:n.setIndex,hasNoResults:l,canRefine:!l&&s.length>0,widgetParams:r}},getWidgetUiState:function(e,t){var r=t.searchParameters.index;return Ek(Ek({},e),{},{sortBy:r!==n.initialIndex?r:void 0})},getWidgetSearchParameters:function(e,t){var r=t.uiState;return e.setQueryParameter("index",r.sortBy||n.initialIndex||e.index)}}}}},{$$widgetType:"ais.sortBy"}),Dw()],props:{items:{type:Array,required:!0},transformItems:{type:Function,default:void 0}},computed:{widgetParams:function(){return{items:this.items,transformItems:this.transformItems}}}};var CC=["value","selected"];RC.render=function(e,t,n,r,i,s){return e.state?(a(),o("div",{key:0,class:D(e.suit())},[u(e.$slots,"default",{items:e.state.options,hasNoResults:e.state.hasNoResults,refine:e.state.refine,currentRefinement:e.state.currentRefinement,canRefine:e.state.canRefine},(function(){return[h("select",{class:D(e.suit("select")),onChange:t[0]||(t[0]=function(t){return e.state.refine(t.currentTarget.value)}),"aria-label":"Sort results by"},[(a(!0),o(f,null,F(e.state.options,(function(t){return a(),o("option",{key:t.value,class:D(e.suit("option")),value:t.value,selected:t.value===e.state.currentRefinement},C(t.label),11,CC)})),128))],34)]}))],2)):d("",!0)};const PC={name:"AisStats",mixins:[ob({connector:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;return hb(e,Fk()),function(n){return{$$type:"ais.stats",init:function(t){var n=t.instantSearchInstance;e(Lk(Lk({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(Lk(Lk({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(){t()},getRenderState:function(e,t){return Lk(Lk({},e),{},{stats:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,r=e.state;return t?{hitsPerPage:t.hitsPerPage,nbHits:t.nbHits,nbSortedHits:t.nbSortedHits,areHitsSorted:void 0!==t.appliedRelevancyStrictness&&t.appliedRelevancyStrictness>0&&t.nbSortedHits!==t.nbHits,nbPages:t.nbPages,page:t.page,processingTimeMS:t.processingTimeMS,query:t.query,widgetParams:n}:{hitsPerPage:r.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:r.page||0,processingTimeMS:-1,query:r.query||"",widgetParams:n}}}}}},{$$widgetType:"ais.stats"}),Zv({name:"Stats"})],computed:{sortedResultsSentence:function(){var e=this.state,t=e.nbHits,n=e.nbSortedHits,r="sorted out of "+t.toLocaleString();return 0===n?"No relevant results "+r:1===n?"1 relevant result "+r:n>1?(n||0).toLocaleString()+" relevant results "+r:""},resultsSentence:function(){var e=this.state.nbHits;return 0===e?"No results":1===e?"1 result":e>1?e.toLocaleString()+" results":""},widgetParams:function(){return{}}}};PC.render=function(e,t,n,r,i,s){return e.state?(a(),o("div",{key:0,class:D(e.suit())},[u(e.$slots,"default",se(e.state,{results:e.state.instantSearchInstance.helper.lastResults}),(function(){return[h("span",{class:D(e.suit("text"))},[e.state.areHitsSorted?(a(),o(f,{key:0},[L(C(s.sortedResultsSentence),1)],64)):(a(),o(f,{key:1},[L(C(s.resultsSentence),1)],64)),L(" found in "+C(e.state.processingTimeMS.toLocaleString())+"ms",1)],2)]}))],2)):d("",!0)};const NC={name:"AisToggleRefinement",mixins:[Zv({name:"ToggleRefinement"}),ob({connector:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;return hb(e,Gk()),function(n){var r=n||{},i=r.attribute,s=r.on,a=void 0===s||s,o=r.off;if(!i)throw new Error(Gk("The `attribute` option is required."));var c,l=void 0!==o,u=tT(a).map(nE),h=l?tT(o).map(nE):void 0,d=function(e){return function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isRefined:!1}).isRefined;t?(u.forEach((function(t){return e.removeDisjunctiveFacetRefinement(i,t)})),l&&h.forEach((function(t){return e.addDisjunctiveFacetRefinement(i,t)}))):(c("click:internal",t),l&&h.forEach((function(t){return e.removeDisjunctiveFacetRefinement(i,t)})),u.forEach((function(t){return e.addDisjunctiveFacetRefinement(i,t)}))),e.search()}},f=function(e,t){var n=t.state,r=t.createURL,s=t.getWidgetUiState,a=t.helper;return function(){n=n.resetPage();var t=e?u:h;t&&t.forEach((function(e){n=n.removeDisjunctiveFacetRefinement(i,e)}));var o=e?h:u;return o&&o.forEach((function(e){n=n.addDisjunctiveFacetRefinement(i,e)})),r((function(e){return s(e,{searchParameters:n,helper:a})}))}};return{$$type:Wk,init:function(t){var n=t.instantSearchInstance;e(Bk(Bk({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(Bk(Bk({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.removeDisjunctiveFacet(i)},getRenderState:function(e,t){return Bk(Bk({},e),{},{toggleRefinement:Bk(Bk({},e.toggleRefinement),{},Uk({},i,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.state,r=e.helper,s=e.results,a=e.createURL,o=e.instantSearchInstance,p=u.every((function(e){return t.isDisjunctiveFacetRefined(i,e)})),m={isRefined:p,count:0},g={isRefined:l&&!p,count:0};if(s){var y=tT(h||!1),v=s.getFacetValues(i,{})||[],b=u.map((function(e){return rE(v,(function(t){return t.escapedValue===nE(String(e))}))})).filter((function(e){return void 0!==e})),E=l?y.map((function(e){return rE(v,(function(t){return t.escapedValue===nE(String(e))}))})).filter((function(e){return void 0!==e})):[];m={isRefined:!!b.length&&b.every((function(e){return e.isRefined})),count:b.reduce((function(e,t){return e+t.count}),0)||null},g={isRefined:!!E.length&&E.every((function(e){return e.isRefined})),count:E.reduce((function(e,t){return e+t.count}),0)||v.reduce((function(e,t){return e+t.count}),0)}}c||(c=function(e){var t=e.instantSearchInstance,n=e.helper,r=e.attribute,i=e.on;return function(){for(var e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];if(1!==s.length){var o=s[1],c=s[2],l=void 0===c?"Filter Applied":c,u=Hk(s[0].split(":"),2),h=u[0],d=u[1];"click"===h&&void 0!==i&&(o||t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:Wk,eventType:h,eventModifier:d,payload:{eventName:l,index:n.getIndex(),filters:i.map((function(e){return"".concat(r,":").concat(e)}))},attribute:r}))}else t.sendEventToInsights(s[0])}}({instantSearchInstance:o,attribute:i,on:u,helper:r}));var T=p?g:m;return{value:{name:i,isRefined:p,count:s?T.count:null,onFacetValue:m,offFacetValue:g},createURL:f(p,{state:t,createURL:a,helper:r,getWidgetUiState:this.getWidgetUiState}),sendEvent:c,canRefine:Boolean(s?T.count:null),refine:d(r),widgetParams:n}},getWidgetUiState:function(e,t){var n,r=t.searchParameters,s=u&&u.every((function(e){return r.isDisjunctiveFacetRefined(i,e)}));return s?Bk(Bk({},e),{},{toggle:Bk(Bk({},e.toggle),{},Uk({},i,s))}):(null===(n=e.toggle)||void 0===n||delete n[i],e)},getWidgetSearchParameters:function(e,t){var n=t.uiState;if(e.isHierarchicalFacet(i)||e.isConjunctiveFacet(i))return e;var r=e.addDisjunctiveFacet(i).removeDisjunctiveFacetRefinement(i);return Boolean(n.toggle&&n.toggle[i])?(u&&u.forEach((function(e){r=r.addDisjunctiveFacetRefinement(i,e)})),r):l?(h&&h.forEach((function(e){r=r.addDisjunctiveFacetRefinement(i,e)})),r):r.setQueryParameters({disjunctiveFacetsRefinements:Bk(Bk({},e.disjunctiveFacetsRefinements),{},Uk({},i,[]))})}}}}},{$$widgetType:"ais.toggleRefinement"}),Dw()],props:{attribute:{type:String,required:!0},on:{type:[String,Number,Boolean,Array],required:!1,default:!0},off:{type:[String,Number,Boolean,Array],required:!1,default:void 0},label:{type:String,default:void 0}},computed:{widgetParams:function(){return{attribute:this.attribute,on:this.on,off:this.off}}}};var xC=["name","value","checked"];NC.render=function(e,t,n,r,i,s){return e.state?(a(),o("div",{key:0,class:D([e.suit(),!e.state.canRefine&&e.suit("","noRefinement")])},[u(e.$slots,"default",{value:e.state.value,canRefine:e.state.canRefine,refine:e.state.refine,createURL:e.state.createURL,sendEvent:e.state.sendEvent},(function(){return[h("label",{class:D(e.suit("label"))},[h("input",{class:D(e.suit("checkbox")),type:"checkbox",name:e.state.value.name,value:n.on,checked:e.state.value.isRefined,onChange:t[0]||(t[0]=function(t){return e.state.refine(e.state.value)})},null,42,xC),h("span",{class:D(e.suit("labelText"))},C(n.label||e.state.value.name),3),null!==e.state.value.count?(a(),o("span",{key:0,class:D(e.suit("count"))},C(e.state.value.count.toLocaleString()),3)):d("",!0)],2)]}))],2)):d("",!0)};const DC={name:"AisVoiceSearch",mixins:[ob({connector:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;return hb(e,Aw()),function(n){var r=n.searchAsYouSpeak,i=void 0!==r&&r,s=n.language,a=n.additionalQueryParameters,o=n.createVoiceSearchHelper,c=void 0===o?vw:o;return{$$type:"ais.voiceSearch",init:function(t){var n=t.instantSearchInstance;e(Tw(Tw({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(Tw(Tw({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},getRenderState:function(e,t){return Tw(Tw({},e),{},{voiceSearch:this.getWidgetRenderState(t)})},getWidgetRenderState:function(t){var r=this,o=t.helper,l=t.instantSearchInstance;this._refine||(this._refine=function(e){if(e!==o.state.query){var t=s?[s.split("-")[0]]:void 0;o.setQueryParameter("queryLanguages",t),"function"==typeof a&&o.setState(o.state.setQueryParameters(Tw({ignorePlurals:!0,removeStopWords:!0,optionalWords:e},a({query:e})))),o.setQuery(e).search()}}),this._voiceSearchHelper||(this._voiceSearchHelper=c({searchAsYouSpeak:i,language:s,onQueryChange:function(e){return r._refine(e)},onStateChange:function(){e(Tw(Tw({},r.getWidgetRenderState(t)),{},{instantSearchInstance:l}),!1)}}));var u=this._voiceSearchHelper,h=u.isBrowserSupported,d=u.isListening,f=u.startListening,p=u.stopListening,m=u.getState;return{isBrowserSupported:h(),isListening:d(),toggleListening:function(){h()&&(d()?p():f())},voiceListeningState:m(),widgetParams:n}},dispose:function(e){var n=e.state;this._voiceSearchHelper.dispose(),t();var r=n;if("function"==typeof a){var i=a({query:""}),s=i?Object.keys(i).reduce((function(e,t){return e[t]=void 0,e}),{}):{};r=n.setQueryParameters(Tw({queryLanguages:void 0,ignorePlurals:void 0,removeStopWords:void 0,optionalWords:void 0},s))}return r.setQueryParameter("query",void 0)},getWidgetUiState:function(e,t){var n=t.searchParameters.query||"";return n?Tw(Tw({},e),{},{query:n}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState;return e.setQueryParameter("query",n.query||"")}}}}},{$$widgetType:"ais.voiceSearch"}),Zv({name:"VoiceSearch"})],props:{searchAsYouSpeak:{type:Boolean,required:!1,default:void 0},language:{type:String,default:void 0},additionalQueryParameters:{type:Object,default:void 0},buttonTitle:{type:String,required:!1,default:"Search by voice"},disabledButtonTitle:{type:String,required:!1,default:"Search by voice (not supported on this browser)"}},data:function(){return{buttonSvgAttrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}}},computed:{widgetParams:function(){return{searchAsYouSpeak:this.searchAsYouSpeak,language:this.language,additionalQueryParameters:this.additionalQueryParameters}},errorNotAllowed:function(){return"error"===this.state.voiceListeningState.status&&"not-allowed"===this.state.voiceListeningState.errorCode},rootSlotProps:function(){return{isBrowserSupported:this.state.isBrowserSupported,isListening:this.state.isListening,toggleListening:this.state.toggleListening,voiceListeningState:this.state.voiceListeningState}},innerSlotProps:function(){return{status:this.state.voiceListeningState.status,errorCode:this.state.voiceListeningState.errorCode,isListening:this.state.isListening,transcript:this.state.voiceListeningState.transcript,isSpeechFinal:this.state.voiceListeningState.isSpeechFinal,isBrowserSupported:this.state.isBrowserSupported}}},methods:{handleClick:function(e){e.currentTarget.blur(),this.state.toggleListening()}}};var LC=["title","disabled"],MC=[M('<line x1="1" y1="1" x2="23" y2="23"></line><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path><line x1="12" y1="19" x2="12" y2="23"></line><line x1="8" y1="23" x2="16" y2="23"></line>',5)],FC=["fill"],jC=h("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"},null,-1),$C=h("line",{x1:"12",y1:"19",x2:"12",y2:"23"},null,-1),BC=h("line",{x1:"8",y1:"23",x2:"16",y2:"23"},null,-1);DC.render=function(e,t,n,r,i,s){return e.state?(a(),o("div",{key:0,class:D(e.suit())},[u(e.$slots,"default",ne(re(s.rootSlotProps)),(function(){return[h("button",{type:"button",class:D(e.suit("button")),title:e.state.isBrowserSupported?n.buttonTitle:n.disabledButtonTitle,disabled:!e.state.isBrowserSupported,onClick:t[0]||(t[0]=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return s.handleClick&&s.handleClick.apply(s,e)})},[u(e.$slots,"buttonText",ne(re(s.innerSlotProps)),(function(){return[s.errorNotAllowed?(a(),o("svg",ne(se({key:0},i.buttonSvgAttrs)),MC,16)):(a(),o("svg",ne(se({key:1},i.buttonSvgAttrs)),[h("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z",fill:e.state.isListening?"currentColor":"none"},null,8,FC),jC,$C,BC],16))]}))],10,LC),h("div",{class:D(e.suit("status"))},[u(e.$slots,"status",ne(re(s.innerSlotProps)),(function(){return[h("p",null,C(e.state.voiceListeningState.transcript),1)]}))],2)]}))],2)):d("",!0)};const UC={name:"AisRelevantSort",mixins:[Zv({name:"RelevantSort"}),ob({connector:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lb,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;return function(n){var r={};return{$$type:"ais.relevantSort",init:function(t){var n=t.instantSearchInstance;e(ww(ww({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(ww(ww({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.setQueryParameter("relevancyStrictness",void 0)},getRenderState:function(e,t){return ww(ww({},e),{},{relevantSort:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,i=e.helper;r.refine||(r.refine=function(e){i.setQueryParameter("relevancyStrictness",e).search()});var s=(t||{}).appliedRelevancyStrictness,a=void 0!==s;return{isRelevantSorted:void 0!==s&&s>0,isVirtualReplica:a,canRefine:a,refine:r.refine,widgetParams:n}},getWidgetSearchParameters:function(e,t){var n,r=t.uiState;return e.setQueryParameter("relevancyStrictness",null!==(n=r.relevantSort)&&void 0!==n?n:e.relevancyStrictness)},getWidgetUiState:function(e,t){var n=t.searchParameters;return ww(ww({},e),{},{relevantSort:n.relevancyStrictness||e.relevantSort})}}}}},{$$widgetType:"ais.relevantSort"})],methods:{refine:function(){this.state.isRelevantSorted?this.state.refine(0):this.state.refine(void 0)}}};UC.render=function(e,t,n,r,i,s){return e.state&&e.state.isVirtualReplica?(a(),o("div",{key:0,class:D(e.suit())},[u(e.$slots,"default",{isRelevantSorted:e.state.isRelevantSorted,refine:e.state.refine},(function(){return[h("div",{class:D(e.suit("text"))},[u(e.$slots,"text",{isRelevantSorted:e.state.isRelevantSorted})],2),h("button",{type:"button",class:D(e.suit("button")),onClick:t[0]||(t[0]=function(e){return s.refine()})},[u(e.$slots,"button",{isRelevantSorted:e.state.isRelevantSorted},(function(){return[L(C(e.state.isRelevantSorted?"See all results":"See relevant results"),1)]}))],2)]}))],2)):d("",!0)};const HC={name:"AisDynamicWidgets",mixins:[ob({connector:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lb;return hb(e,cA()),function(n){var r=n.widgets,i=n.maxValuesPerFacet,s=void 0===i?20:i,a=n.facets,o=void 0===a?["*"]:a,c=n.transformItems,l=void 0===c?function(e){return e}:c,u=n.fallbackWidget;if(!(r&&Array.isArray(r)&&r.every((function(e){return"object"===oA(e)}))))throw new Error(cA("The `widgets` option expects an array of widgets."));if(!Array.isArray(o))throw new Error(cA("The `facets` option only accepts an array of facets, you passed ".concat(JSON.stringify(o))));var h=new Map;return{$$type:"ais.dynamicWidgets",init:function(t){r.forEach((function(e){var n=function(e,t){var n,r=null===(n=e.getWidgetRenderState)||void 0===n?void 0:n.call(e,t),i=null;if(r&&r.widgetParams){var s=r.widgetParams;s.attribute?i=s.attribute:Array.isArray(s.attributes)&&(i=s.attributes[0])}if("string"!=typeof i)throw new Error("Could not find the attribute of the widget:\n\n".concat(JSON.stringify(e),"\n\nPlease check whether the widget's getWidgetRenderState returns widgetParams.attribute correctly."));return i}(e,t);h.set(n,{widget:e,isMounted:!1})})),e(sA(sA({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var n=t.parent,r=this.getWidgetRenderState(t),i=[],s=[];u&&r.attributesToRender.forEach((function(e){if(!h.has(e)){var t=u({attribute:e});h.set(e,{widget:t,isMounted:!1})}})),h.forEach((function(e,t){var n=e.widget,a=e.isMounted,o=r.attributesToRender.indexOf(t)>-1;!a&&o?(s.push(n),h.set(t,{widget:n,isMounted:!0})):a&&!o&&(i.push(n),h.set(t,{widget:n,isMounted:!1}))})),n.addWidgets(s),setTimeout((function(){return n.removeWidgets(i)}),0),e(sA(sA({},r),{},{instantSearchInstance:t.instantSearchInstance}),!1)},dispose:function(e){var n=e.parent,r=[];h.forEach((function(e){var t=e.widget;e.isMounted&&r.push(t)})),n.removeWidgets(r),t()},getWidgetSearchParameters:function(e){return o.reduce((function(e,t){return e.addFacet(t)}),e.setQueryParameters({maxValuesPerFacet:Math.max(s||0,e.maxValuesPerFacet||0)}))},getRenderState:function(e,t){return sA(sA({},e),{},{dynamicWidgets:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,r,i,s,a=e.results;if(e.state,!a)return{attributesToRender:[],widgetParams:n};var o=l(null!==(t=null===(r=a.renderingContent)||void 0===r||null===(i=r.facetOrdering)||void 0===i||null===(s=i.facets)||void 0===s?void 0:s.order)&&void 0!==t?t:[],{results:a});if(!Array.isArray(o))throw new Error(cA("The `transformItems` option expects a function that returns an Array."));return{attributesToRender:o,widgetParams:n}}}}}},{$$widgetType:"ais.dynamicWidgets"}),Zv({name:"DynamicWidgets"})],props:{transformItems:{type:Function,default:void 0},facets:{type:Array,default:void 0},maxValuesPerFacet:{type:Number,default:void 0}},render:nb((function(e){var t=this,n=new Map;if((rb(this)||[]).forEach((function(r){var i=function e(t){var n,r=t.props;if(r){if(r.attribute)return r.attribute;if(Array.isArray(r.attributes))return r.attributes[0]}if(n=t.children&&t.children.default&&t.children.default(),Array.isArray(n))return n.reduce((function(t,n){return t||e(n)}),void 0)}(r);i&&n.set(i,e("div",{key:i,class:[t.suit("widget")]},[r]))})),!this.state){var r=[];return n.forEach((function(e){return r.push(e)})),e("div",eb({class:[this.suit()]},{attrs:{hidden:!0}}),r)}return e("div",{class:[this.suit()]},this.state.attributesToRender.map((function(e){return n.get(e)})))})),computed:{widgetParams:function(){return{transformItems:this.transformItems,facets:this.facets,maxValuesPerFacet:this.maxValuesPerFacet,widgets:[]}}}},qC=Object.assign({},HC,{name:"AisExperimentalDynamicWidgets",mounted:function(){ab("Use AisDynamicWidgets instead of AisExperimentalDynamicWidgets.")}}),GC=Object.freeze(Object.defineProperty({__proto__:null,AisAutocomplete:Rw,AisBreadcrumb:Lw,AisClearRefinements:$w,AisConfigure:Uw,AisCurrentRefinements:qw,AisDynamicWidgets:HC,AisExperimentalConfigureRelatedItems:Hw,AisExperimentalDynamicWidgets:qC,AisHierarchicalMenu:Yw,AisHighlight:lO,AisHits:uO,AisHitsPerPage:hO,AisIndex:PO,AisInfiniteHits:wR,AisInstantSearch:_R,AisInstantSearchSsr:kR,AisMenu:xR,AisMenuSelect:MR,AisNumericMenu:jR,AisPagination:BR,AisPanel:VR,AisPoweredBy:zR,AisQueryRuleContext:ZR,AisQueryRuleCustomData:eC,AisRangeInput:tC,AisRatingMenu:iC,AisRefinementList:EC,AisRelevantSort:UC,AisSearchBox:OC,AisSnippet:IC,AisSortBy:RC,AisStateResults:_C,AisStats:PC,AisToggleRefinement:NC,AisVoiceSearch:DC},Symbol.toStringTag,{value:"Module"}));var WC={install:function(e){Object.keys(GC).forEach((function(t){e.component(GC[t].name,GC[t])}))}};const QC=function(){const e=m(!0),t=e.run((()=>r({})));let n=[],i=[];const s=p({install(e){he(s),s._a=e,e.provide(de,s),e.config.globalProperties.$pinia=s,i.forEach((e=>n.push(e))),i=[]},use(e){return this._a?n.push(e):i.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}();QC.use(eh);const VC={Layout:()=>ee(Jv),enhanceApp({app:e,router:t,siteData:n}){e.use(QC),e.use(WC),e.component("LazyLoader",le),(e=>{Hu(e),e.component("PluginTabs",Yu),e.component("PluginTabsTab",Ku)})(e),t.onBeforeRouteChange=e=>{Fu("before",e)},t.onAfterRouteChanged=e=>{Fu("after",e)}}};export{le as L,VC as T,$e as _,xu as a,ti as b,ni as c,ei as d,ae as g,dt as s};
